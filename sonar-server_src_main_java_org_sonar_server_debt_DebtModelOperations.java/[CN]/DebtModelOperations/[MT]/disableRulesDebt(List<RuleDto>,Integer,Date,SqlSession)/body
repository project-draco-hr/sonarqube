{
  for (  RuleDto ruleDto : ruleDtos) {
    if (subCharacteristicId.equals(ruleDto.getSubCharacteristicId())) {
      ruleDto.setSubCharacteristicId(null);
      ruleDto.setRemediationFunction(null);
      ruleDto.setRemediationCoefficient(null);
      ruleDto.setRemediationOffset(null);
      ruleDto.setUpdatedAt(updateDate);
    }
    if (subCharacteristicId.equals(ruleDto.getDefaultSubCharacteristicId())) {
      ruleDto.setDefaultSubCharacteristicId(null);
      ruleDto.setDefaultRemediationFunction(null);
      ruleDto.setDefaultRemediationCoefficient(null);
      ruleDto.setDefaultRemediationOffset(null);
    }
    ruleDto.setUpdatedAt(updateDate);
    ruleDao.update(ruleDto,session);
  }
  ruleRegistry.reindex(ruleDtos,session);
}
