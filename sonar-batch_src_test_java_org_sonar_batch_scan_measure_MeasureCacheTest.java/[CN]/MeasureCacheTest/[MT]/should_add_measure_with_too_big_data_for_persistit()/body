{
  MeasureCache cache=new MeasureCache(caches,metricFinder,techDebtModel);
  Project p=new Project("struts");
  assertThat(cache.entries()).hasSize(0);
  assertThat(cache.byResource(p)).hasSize(0);
  Measure m=new Measure(CoreMetrics.NCLOC,1.0).setDate(new Date());
  StringBuilder data=new StringBuilder(64 * 1024 * 1024 + 1);
  for (int i=0; i < (64 * 1024 * 1024 + 1); i++) {
    data.append('a');
  }
  m.setData(data.toString());
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Fail to put element in the cache measures");
  cache.put(p,m);
}
