{
  MeasureCache cache=new MeasureCache(caches,metricFinder,techDebtModel);
  Project p=new Project("struts");
  assertThat(cache.entries()).hasSize(0);
  assertThat(cache.byResource(p)).hasSize(0);
  Measure m1=new Measure(CoreMetrics.NCLOC,1.0);
  Measure m2=new Measure(CoreMetrics.NCLOC,1.0).setCharacteristic(new DefaultCharacteristic().setKey("charac"));
  Measure m3=new Measure(CoreMetrics.NCLOC,1.0).setPersonId(2);
  Measure m4=new RuleMeasure(CoreMetrics.NCLOC,RuleKey.of("repo","rule"),RulePriority.BLOCKER,null);
  cache.put(p,m1);
  cache.put(p,m2);
  cache.put(p,m3);
  cache.put(p,m4);
  assertThat(cache.entries()).hasSize(4);
  assertThat(cache.byResource(p)).hasSize(4);
}
