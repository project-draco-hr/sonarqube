{
  ComponentDto project=componentDb.insertComponent(newProjectDto().setKey("my_project"));
  componentDb.insertComponent(newModuleDto(project).setKey("my_project:module_1"));
  ComponentDto anotherProject=componentDb.insertComponent(newProjectDto().setKey("another_project"));
  componentDb.insertComponent(newModuleDto(anotherProject).setKey("my_new_project:module_1"));
  ComponentDto module2=componentDb.insertComponent(newModuleDto(project).setKey("my_project:module_2"));
  componentDb.insertComponent(newFileDto(module2));
  String result=ws.newRequest().setParam(PARAM_KEY,"my_project").setParam(PARAM_FROM,"my_").setParam(PARAM_TO,"my_new_").setParam(PARAM_DRY_RUN,String.valueOf(true)).execute().getInput();
  assertJson(result).withStrictArrayOrder().isSimilarTo(getClass().getResource("bulk_update_key-example.json"));
}
