{
  Issues.Search.Builder response=Issues.Search.newBuilder();
  if (paging != null) {
    formatPaging(paging,response);
  }
  formatDebtTotal(data,response);
  formatIssues(fields,data,response);
  formatComponents(data,response);
  if (facets != null) {
    formatFacets(facets,response);
  }
  if (fields.contains(SearchAdditionalField.RULES)) {
    formatRules(data,response);
  }
  if (fields.contains(SearchAdditionalField.USERS)) {
    formatUsers(data,response);
  }
  if (fields.contains(SearchAdditionalField.ACTION_PLANS)) {
    formatActionPlans(data,response);
  }
  if (fields.contains(SearchAdditionalField.LANGUAGES)) {
    formatLanguages(response);
  }
  return response.build();
}
