{
  final String source="source";
  when(file.lineHashes()).thenReturn(new byte[][]{md5(source),null});
  assertThat(sourceHashHolder.getHashedSource().getHash(1)).isEqualTo(md5Hex(source));
  assertThat(sourceHashHolder.getHashedSource().getHash(2)).isEqualTo("");
  verify(file).lineHashes();
  verify(file).key();
  verify(file).status();
  assertThat(sourceHashHolder.getHashedSource().getHash(1)).isEqualTo(md5Hex(source));
  Mockito.verifyNoMoreInteractions(file);
}
