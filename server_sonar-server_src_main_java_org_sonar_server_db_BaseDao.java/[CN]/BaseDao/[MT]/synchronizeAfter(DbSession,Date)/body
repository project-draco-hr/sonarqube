{
  ResultHandler synchronizeDtos=new ResultHandler(){
    @Override public void handleResult(    ResultContext resultContext){
      DTO dto=(DTO)resultContext.getResultObject();
      session.enqueue(new UpsertDto<DTO>(getIndexType(),dto,true));
    }
  }
;
  try {
    Map<String,Object> params=newHashMap();
    params.put("date",new Timestamp(date.getTime()));
    session.select(getSynchronizeStatementFQN(),params,synchronizeDtos);
  }
 catch (  Exception e) {
    throw new IllegalStateException(e);
  }
  session.commit();
}
