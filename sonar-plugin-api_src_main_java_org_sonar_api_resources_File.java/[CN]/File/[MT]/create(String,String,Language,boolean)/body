{
  File file=create(relativePathFromBasedir);
  file.setLanguage(language);
  if (relativePathFromSourceDir.contains(Directory.SEPARATOR)) {
    file.filename=StringUtils.substringAfterLast(relativePathFromSourceDir,Directory.SEPARATOR);
    file.directoryDeprecatedKey=Directory.parseKey(StringUtils.substringBeforeLast(relativePathFromSourceDir,Directory.SEPARATOR));
    file.setDeprecatedKey(file.directoryDeprecatedKey + Directory.SEPARATOR + file.filename);
  }
 else {
    file.filename=relativePathFromSourceDir;
    file.directoryDeprecatedKey=Directory.ROOT;
    file.setDeprecatedKey(file.filename);
  }
  if (unitTest) {
    file.setQualifier(Qualifiers.UNIT_TEST_FILE);
  }
  file.parent.setDeprecatedKey(file.directoryDeprecatedKey);
  return file;
}
