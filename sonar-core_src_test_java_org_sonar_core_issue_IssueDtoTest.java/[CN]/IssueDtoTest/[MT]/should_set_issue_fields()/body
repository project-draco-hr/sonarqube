{
  Date createdAt=DateUtils.addDays(new Date(),-5);
  Date updatedAt=DateUtils.addDays(new Date(),-3);
  Date closedAt=DateUtils.addDays(new Date(),-1);
  IssueDto dto=new IssueDto().setUuid("100").setRuleId(1).setRuleKey_unit_test_only("squid","AvoidCycle").setComponentKey_unit_test_only("component-key").setResourceId(1).setStatus(Issue.STATUS_CLOSED).setResolution(Issue.RESOLUTION_FALSE_POSITIVE).setCost(15.0).setLine(6).setSeverity("BLOCKER").setTitle("title").setDescription("message").setManualSeverity(true).setManualIssue(true).setUserLogin("arthur").setAssignee("perceval").setData("key=value").setCreatedAt(createdAt).setUpdatedAt(updatedAt).setClosedAt(closedAt);
  DefaultIssue issue=dto.toDefaultIssue();
  assertThat(issue.key()).isEqualTo("100");
  assertThat(issue.ruleKey().toString()).isEqualTo("squid:AvoidCycle");
  assertThat(issue.componentKey()).isEqualTo("component-key");
  assertThat(issue.status()).isEqualTo(Issue.STATUS_CLOSED);
  assertThat(issue.resolution()).isEqualTo(Issue.RESOLUTION_FALSE_POSITIVE);
  assertThat(issue.cost()).isEqualTo(15.0);
  assertThat(issue.line()).isEqualTo(6);
  assertThat(issue.severity()).isEqualTo("BLOCKER");
  assertThat(issue.title()).isEqualTo("title");
  assertThat(issue.description()).isEqualTo("message");
  assertThat(issue.isManualSeverity()).isTrue();
  assertThat(issue.isManual()).isTrue();
  assertThat(issue.userLogin()).isEqualTo("arthur");
  assertThat(issue.assignee()).isEqualTo("perceval");
  assertThat(issue.attribute("key")).isEqualTo("value");
  assertThat(issue.createdAt()).isEqualTo(createdAt);
  assertThat(issue.updatedAt()).isEqualTo(updatedAt);
  assertThat(issue.closedAt()).isEqualTo(closedAt);
  assertThat(issue.isNew()).isFalse();
}
