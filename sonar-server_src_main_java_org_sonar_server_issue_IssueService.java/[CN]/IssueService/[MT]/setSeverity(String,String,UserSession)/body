{
  verifyLoggedIn(userSession);
  IssueQueryResult queryResult=loadIssue(issueKey);
  DefaultIssue issue=(DefaultIssue)queryResult.first();
  userSession.checkProjectPermission(UserRole.ISSUE_ADMIN,issue.projectKey());
  IssueChangeContext context=IssueChangeContext.createUser(new Date(),userSession.login());
  if (issueUpdater.setManualSeverity(issue,severity,context)) {
    issueStorage.save(issue);
    issueNotifications.sendChanges(issue,context,queryResult);
    dryRunCache.reportResourceModification(issue.componentKey());
  }
  return issue;
}
