{
  IssueQueryResult queryResult=loadIssue(issueKey);
  DefaultIssue issue=(DefaultIssue)queryResult.first();
  checkAuthorization(userSession,issue,UserRole.USER);
  if (assignee != null && userFinder.findByLogin(assignee) == null) {
    throw new IllegalArgumentException("Unknown user: " + assignee);
  }
  IssueChangeContext context=IssueChangeContext.createUser(new Date(),userSession.login());
  if (issueUpdater.assign(issue,assignee,context)) {
    issueStorage.save(issue);
    issueNotifications.sendChanges(issue,context,queryResult);
  }
  return issue;
}
