{
  MockUserSession.set().addComponentPermission(UserRole.CODEVIEWER,"SonarQube",TEST_PLAN_KEY);
  when(measureDao.findByComponentKeyAndMetricKey(session,TEST_PLAN_KEY,"test_data")).thenReturn(new MeasureDto().setComponentKey(TEST_PLAN_KEY).setMetricKey("test_data").setData("<tests-details>" + "<testcase status=\"ok\" time=\"10\" name=\"test1\"/>" + "<testcase status=\"error\" time=\"97\" name=\"test2\">"+ "<error message=\"expected:&lt;true&gt; but was:&lt;false&gt;\">"+ "<![CDATA["+ "java.lang.AssertionError: expected:<true> but was:<false>\n\t"+ "at org.junit.Assert.fail(Assert.java:91)\n\t"+ "at org.junit.Assert.failNotEquals(Assert.java:645)\n\t"+ "at org.junit.Assert.assertEquals(Assert.java:126)\n\t"+ "at org.junit.Assert.assertEquals(Assert.java:145)\n"+ "]]>"+ "</error>"+ "</testcase>"+ "</tests-details>"));
  WsTester.TestRequest request=tester.newGetRequest("api/tests","show").setParam("key",TEST_PLAN_KEY);
  request.execute().assertJson(getClass(),"show_from_test_data.json");
}
