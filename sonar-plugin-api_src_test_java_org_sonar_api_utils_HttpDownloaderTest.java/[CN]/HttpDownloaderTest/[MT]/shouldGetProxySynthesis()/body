{
  ProxySelector proxySelector=mock(ProxySelector.class);
  when(proxySelector.select((URI)anyObject())).thenReturn(Arrays.asList((Proxy)new FakeProxy()));
  assertThat(HttpDownloader.getProxySynthesis(new URI("http://an_url"),proxySelector)).isEqualTo("proxy: http://proxy_url:4040");
}
