{
  ProxySelector proxySelector=mock(ProxySelector.class);
  when(proxySelector.select(any(URI.class))).thenReturn(Arrays.<Proxy>asList(new FakeProxy()));
  assertThat(HttpDownloader.getProxySynthesis(new URI("http://an_url"),proxySelector)).isEqualTo("proxy: http://proxy_url:4040");
}
