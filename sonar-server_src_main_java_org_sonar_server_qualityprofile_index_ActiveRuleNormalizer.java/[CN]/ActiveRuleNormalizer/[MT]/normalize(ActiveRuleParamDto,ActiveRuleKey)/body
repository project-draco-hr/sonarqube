{
  if (key == null) {
    throw new IllegalStateException("Cannot normalize ActiveRuleParamDto for null key of ActiveRule");
  }
  Map<String,Object> newParam=new HashMap<String,Object>();
  newParam.put("_id",param.getKey());
  newParam.put(ActiveRuleParamField.NAME.key(),param.getKey());
  newParam.put(ActiveRuleParamField.VALUE.key(),param.getValue());
  return this.nestedUpsert(ActiveRuleField.PARAMS.key(),param.getKey(),newParam);
}
