{
  InputStream input=getClass().getResourceAsStream("/org/sonar/plugins/findbugs/test_module_tree.xml");
  XStream xStream=FindBugsFilter.createXStream();
  FindBugsFilter filter=(FindBugsFilter)xStream.fromXML(IOUtils.toString(input));
  List<Match> matches=filter.getMatchs();
  assertThat(matches.size(),is(2));
  assertThat(matches.get(0).getBug().getPattern(),is("DLS_DEAD_LOCAL_STORE"));
  assertThat(matches.get(1).getBug().getPattern(),is("URF_UNREAD_FIELD"));
}
