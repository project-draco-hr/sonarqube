{
  List<PurgeableAnalysisDto> snapshots=Arrays.asList(DbCleanerTestUtils.createSnapshotWithDateTime(1L,"2011-05-25T00:16:48+0100"),DbCleanerTestUtils.createSnapshotWithDateTime(2L,"2012-01-26T00:16:48+0100"),DbCleanerTestUtils.createSnapshotWithDateTime(3L,"2012-01-27T00:16:48+0100"));
  List<Interval> intervals=Interval.group(snapshots,DateUtils.parseDateTime("2011-05-25T00:00:00+0100"),DateUtils.parseDateTime("2012-01-26T00:00:00+0100"),Calendar.MONTH);
  assertThat(intervals.size()).isEqualTo(1);
  assertThat(intervals.get(0).count()).isEqualTo(1);
  assertThat(intervals.get(0).get().get(0).getAnalysisId()).isEqualTo((2L));
}
