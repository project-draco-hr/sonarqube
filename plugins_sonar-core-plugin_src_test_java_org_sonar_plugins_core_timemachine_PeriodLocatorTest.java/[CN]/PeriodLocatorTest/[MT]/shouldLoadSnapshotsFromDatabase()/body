{
  setupData("shouldLoadSnapshotsFromDatabase");
  Snapshot projectSnapshot=getSession().getSingleResult(Snapshot.class,"id",1009);
  PeriodLocator locator=new PeriodLocator(projectSnapshot,getSession());
  List<Snapshot> snapshots=locator.loadSnapshotsFromDatabase();
  List<Integer> snapshotIds=Lists.newLinkedList();
  for (  Snapshot snapshot : snapshots) {
    snapshotIds.add(snapshot.getId());
  }
  assertThat(snapshotIds.size(),is(2));
  assertThat(snapshotIds,hasItems(1000,1003));
}
