{
  ListMultimap<QProfileName,RulesProfile> profilesByName=ArrayListMultimap.create();
  for (  ProfileDefinition definition : definitions) {
    ValidationMessages validation=ValidationMessages.create();
    RulesProfile profile=definition.createProfile(validation);
    if (language.equals(profile.getLanguage())) {
      processValidationMessages(validation);
      profilesByName.put(new QProfileName(profile.getLanguage(),profile.getName()),profile);
    }
  }
  return profilesByName;
}
