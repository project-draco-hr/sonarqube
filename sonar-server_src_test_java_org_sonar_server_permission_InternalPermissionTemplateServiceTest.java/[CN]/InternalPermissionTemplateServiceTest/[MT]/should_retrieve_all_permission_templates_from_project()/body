{
  MockUserSession.set().setLogin("admin").addProjectPermissions(UserRole.ADMIN,10L);
  PermissionTemplateDto template1=new PermissionTemplateDto().setId(1L).setName("template1").setDescription("template1");
  PermissionTemplateDto template2=new PermissionTemplateDto().setId(2L).setName("template2").setDescription("template2");
  when(permissionTemplateDao.selectAllPermissionTemplates()).thenReturn(Lists.newArrayList(template1,template2));
  when(resourceDao.getResource(any(ResourceQuery.class))).thenReturn(new ResourceDto().setId(10L).setKey("org.sample.Sample"));
  List<PermissionTemplate> templates=permissionTemplateService.selectAllPermissionTemplates("org.sample.Sample");
  assertThat(templates).hasSize(2);
  assertThat(templates).onProperty("id").containsOnly(1L,2L);
  assertThat(templates).onProperty("name").containsOnly("template1","template2");
  assertThat(templates).onProperty("description").containsOnly("template1","template2");
}
