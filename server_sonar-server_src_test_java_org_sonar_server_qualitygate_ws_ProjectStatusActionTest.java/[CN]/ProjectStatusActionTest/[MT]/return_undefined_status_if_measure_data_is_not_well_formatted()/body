{
  userSession.login("john").setGlobalPermissions(SCAN_EXECUTION);
  ComponentDto project=newProjectDto("project-uuid");
  dbClient.componentDao().insert(dbSession,project);
  SnapshotDto snapshot=dbClient.snapshotDao().insert(dbSession,newSnapshotForProject(project));
  MetricDto metric=dbClient.metricDao().insert(dbSession,newMetricDto().setEnabled(true).setKey(CoreMetrics.QUALITY_GATE_DETAILS_KEY));
  MeasureDto measure=newMeasureDto(metric,snapshot.getId()).setData("");
  dbClient.measureDao().insert(dbSession,measure);
  dbSession.commit();
  ProjectStatusWsResponse result=newRequest(String.valueOf(snapshot.getId()));
  assertThat(result.getProjectStatus().getStatus()).isEqualTo(Status.NONE);
  assertThat(result.getProjectStatus().getConditionsCount()).isEqualTo(0);
}
