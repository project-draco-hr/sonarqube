{
  RulesProfile profile=RulesProfile.create("sonar way","java");
  Rule rule=Rule.create("checkstyle","com.puppycrawl.tools.checkstyle.checks.javadoc.JavadocPackageCheck","Javadoc").setConfigKey("Checker/JavadocPackage");
  rule.createParameter("format");
  rule.createParameter("message");
  rule.createParameter("ignore").setDefaultValue("true");
  profile.activateRule(rule,RulePriority.MAJOR).setParameter("format","abcde");
  StringWriter writer=new StringWriter();
  new CheckstyleProfileExporter().exportProfile(profile,writer);
  TestUtils.assertSimilarXml(TestUtils.getResourceContent("/org/sonar/plugins/checkstyle/CheckstyleProfileExporterTest/exportParameters.xml"),writer.toString());
}
