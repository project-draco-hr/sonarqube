{
  Violation violation=violationsPerPermanentId.get(review.getRuleFailurePermamentId());
  if (violation != null) {
    String message=violation.getMessage();
    Integer line=violation.getLineId();
    if (!review.getTitle().equals(message) || (review.getResourceLine() == null && line != null) || (review.getResourceLine() != null && !review.getResourceLine().equals(line))) {
      if (line == null) {
        updateReviewQueryForNullLine.setParameter(1,message).setParameter(2,review.getId()).executeUpdate();
      }
 else {
        updateReviewQuery.setParameter(1,message).setParameter(2,line).setParameter(3,review.getId()).executeUpdate();
      }
    }
  }
}
