{
  ActiveRuleDto activeRule=createActiveRule(profileKey,ruleKey,severity,session);
  session.commit();
  QualityProfileDto profile=profileDao.selectByNameAndLanguage(profileKey.name(),profileKey.lang());
  ProfilesManager.RuleInheritanceActions actions=profilesManager.activated(profile.getId(),activeRule.getId(),getLoggedName(userSession));
  reindexInheritanceResult(actions,session);
  return activeRule;
}
