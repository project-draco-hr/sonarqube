{
  validatePermission(userSession);
  validateSeverity(severity);
  QProfile profile=findProfileNotNull(profileId);
  RuleDto rule=findRuleNotNull(ruleId);
  ActiveRuleDto activeRule=findActiveRule(profileId,ruleId);
  if (activeRule == null) {
    createActiveRule(profile.id(),rule.getId(),severity,userSession);
  }
 else {
    updateSeverity(activeRule,severity,userSession);
  }
}
