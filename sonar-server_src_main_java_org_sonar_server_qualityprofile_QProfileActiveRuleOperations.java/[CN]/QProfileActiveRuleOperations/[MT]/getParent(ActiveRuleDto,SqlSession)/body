{
  Integer parentId=activeRule.getParentId();
  if (parentId != null) {
    ActiveRuleDto parent=activeRuleDao.selectById(parentId,session);
    if (parent != null) {
      return parent;
    }
  }
  throw new IllegalStateException("Can't find parent of active rule : " + activeRule.getId());
}
