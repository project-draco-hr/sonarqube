{
  Dependency dependency=new Dependency(dir1,dir2).setWeight(1).setId(51L);
  when(index.getEdge(dir1,dir2)).thenReturn(dependency);
  when(index.hasEdge(dir1,dir2)).thenReturn(true);
  when(index.getOutgoingEdges(dir1)).thenReturn(Arrays.asList(dependency));
  when(index.getIncomingEdges(dir2)).thenReturn(Arrays.asList(dependency));
  decorator.decorate(module,moduleContext);
  verify(moduleContext,times(5)).saveMeasure(any(Measure.class));
  verify(moduleContext).saveMeasure(isMeasureWithValue(CoreMetrics.DIRECTORY_CYCLES,0.0));
  verify(moduleContext).saveMeasure(isMeasureWithValue(CoreMetrics.DIRECTORY_FEEDBACK_EDGES,0.0));
  verify(moduleContext).saveMeasure(isMeasureWithValue(CoreMetrics.DIRECTORY_TANGLES,0.0));
  verify(moduleContext).saveMeasure(isMeasureWithValue(CoreMetrics.DIRECTORY_EDGES_WEIGHT,1.0));
  verify(moduleContext).saveMeasure(isMeasureWithValue(CoreMetrics.DEPENDENCY_MATRIX,"[{\"i\":1,\"n\":\"src/foo1\",\"q\":\"DIR\",\"v\":[{},{}]},{\"i\":2,\"n\":\"src/foo2\",\"q\":\"DIR\",\"v\":[{\"i\":51,\"w\":1},{}]}]"));
}
