{
  setupData("should_load_component_id_from_db");
  SnapshotCache snapshotCache=mock(SnapshotCache.class);
  when(snapshotCache.get("struts:Action.java")).thenReturn(null);
  ScanIssueStorage storage=new ScanIssueStorage(getMyBatis(),new FakeRuleFinder(),snapshotCache,new ResourceDao(getMyBatis()));
  long componentId=storage.componentId(new DefaultIssue().setComponentKey("struts:Action.java"));
  assertThat(componentId).isEqualTo(123);
}
