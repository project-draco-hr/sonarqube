{
  try {
    XStream xstream=new XStream();
    xstream.setClassLoader(getClass().getClassLoader());
    xstream.processAnnotations(PmdRuleset.class);
    xstream.processAnnotations(PmdRule.class);
    xstream.processAnnotations(PmdProperty.class);
    return (PmdRuleset)xstream.fromXML(pmdConfigurationFile);
  }
 catch (  RuntimeException e) {
    messages.addErrorText("The PMD configuration file is not valide: " + e.getMessage());
    return new PmdRuleset();
  }
}
