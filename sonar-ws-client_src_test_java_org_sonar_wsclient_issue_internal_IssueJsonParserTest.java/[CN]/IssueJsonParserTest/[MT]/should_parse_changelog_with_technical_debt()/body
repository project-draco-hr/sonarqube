{
  String json=IOUtils.toString(getClass().getResourceAsStream("/org/sonar/wsclient/issue/internal/IssueJsonParserTest/changelog-with-technical-debt.json"));
  List<IssueChange> changes=new IssueJsonParser().parseChangelog(json);
  assertThat(changes).hasSize(1);
  IssueChange change=changes.get(0);
  assertThat(change.user()).isEqualTo("julien");
  assertThat(change.creationDate().getTime()).isEqualTo(1383202235000l);
  assertThat(change.diffs()).hasSize(1);
  IssueChangeDiff changeDiff=change.diffs().get(0);
  assertThat(changeDiff.key()).isEqualTo("technicalDebt");
  assertThat(changeDiff.newValue()).isEqualTo("2d1h");
  assertThat(changeDiff.oldValue()).isEqualTo("3d10min");
}
