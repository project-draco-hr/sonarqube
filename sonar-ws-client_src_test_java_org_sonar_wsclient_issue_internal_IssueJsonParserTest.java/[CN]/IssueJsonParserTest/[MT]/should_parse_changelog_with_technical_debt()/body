{
  String json=IOUtils.toString(getClass().getResourceAsStream("/org/sonar/wsclient/issue/internal/IssueJsonParserTest/changelog-with-technical-debt.json"));
  List<IssueChange> changes=new IssueJsonParser().parseChangelog(json);
  assertThat(changes).hasSize(1);
  IssueChange change=changes.get(0);
  assertThat(change.user()).isEqualTo("julien");
  assertThat(change.createdAt().getTime()).isEqualTo(1383202235000l);
  assertThat(change.updatedAt().getTime()).isEqualTo(1383202235000l);
  assertThat(change.diffs()).hasSize(1);
  IssueChangeDiff diffChange1=change.diffs().get(0);
  assertThat(diffChange1.key()).isEqualTo("technicalDebt");
  assertThat(diffChange1.newValue()).isEqualTo("1.0");
  assertThat(diffChange1.oldValue()).isNull();
}
