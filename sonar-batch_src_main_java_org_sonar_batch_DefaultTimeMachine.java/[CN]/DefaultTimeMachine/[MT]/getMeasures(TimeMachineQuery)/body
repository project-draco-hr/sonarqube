{
  Map<Integer,Metric> metricById=getMetricsById(query);
  List<Object[]> objects=execute(query,true,metricById.keySet());
  List<Measure> result=Lists.newArrayList();
  for (  Object[] object : objects) {
    MeasureModel model=(MeasureModel)object[0];
    Integer characteristicId=model.getCharacteristicId();
    Characteristic characteristic=techDebtModel.characteristicById(characteristicId);
    Measure measure=toMeasure(model,metricById.get(model.getMetricId()),characteristic);
    measure.setDate((Date)object[1]);
    result.add(measure);
  }
  return result;
}
