{
  Project project=mock(Project.class);
  mockChildrenMeasures(CoreMetrics.TESTS,3.0);
  mockChildrenMeasures(CoreMetrics.TEST_ERRORS,1.0);
  mockChildrenMeasures(CoreMetrics.TEST_FAILURES,1.0);
  mockChildrenMeasures(CoreMetrics.SKIPPED_TESTS,1.0);
  mockChildrenMeasures(CoreMetrics.TEST_EXECUTION_TIME,1.0);
  decorator.decorate(project,context);
  verify(context).saveMeasure(eq(CoreMetrics.TESTS),eq(6.0));
  verify(context).saveMeasure(eq(CoreMetrics.TEST_ERRORS),eq(2.0));
  verify(context).saveMeasure(eq(CoreMetrics.TEST_FAILURES),eq(2.0));
  verify(context).saveMeasure(eq(CoreMetrics.SKIPPED_TESTS),eq(2.0));
  verify(context).saveMeasure(eq(CoreMetrics.TEST_EXECUTION_TIME),eq(2.0));
  verify(context).saveMeasure(eq(CoreMetrics.TEST_SUCCESS_DENSITY),doubleThat(Matchers.closeTo(33.3,0.1)));
}
