{
  if (StringUtils.isBlank(key)) {
    return rootDir;
  }
  File dir=directoriesByKey.get(key);
  if (dir == null) {
    dir=new File(rootDir,key);
    try {
      FileUtils.forceMkdir(dir);
      directoriesByKey.put(key,dir);
    }
 catch (    IOException e) {
      throw new SonarException("Can not create the temp directory: " + dir,e);
    }
  }
  return dir;
}
