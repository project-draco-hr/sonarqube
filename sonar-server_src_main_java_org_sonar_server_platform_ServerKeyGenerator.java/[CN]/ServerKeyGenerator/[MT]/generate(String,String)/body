{
  List<ServerKey> serverKeys=generateForOrganization(organization);
  String external=null;
  String best=null;
  for (  ServerKey serverKey : serverKeys) {
    if (StringUtils.equals(previousKey,serverKey.getKey())) {
      best=serverKey.getKey();
    }
    if (serverKey.isExternal()) {
      external=serverKey.getKey();
    }
  }
  if (best == null) {
    if (external != null) {
      best=external;
    }
 else     if (!serverKeys.isEmpty()) {
      best=serverKeys.get(0).getKey();
    }
  }
  log(previousKey,best);
  return best;
}
