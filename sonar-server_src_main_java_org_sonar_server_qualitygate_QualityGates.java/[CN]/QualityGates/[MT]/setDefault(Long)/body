{
  checkPermission(UserSession.get());
  if (idToUseAsDefault == null) {
    propertiesDao.deleteGlobalProperty(SONAR_QUALITYGATE_PROPERTY);
  }
 else {
    QualityGateDto newDefault=getNonNullQgate(idToUseAsDefault);
    propertiesDao.setProperty(new PropertyDto().setKey(SONAR_QUALITYGATE_PROPERTY).setValue(newDefault.getId().toString()));
  }
}
