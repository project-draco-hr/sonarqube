{
  json.name("qualityprofiles").beginArray();
  for (  QualityProfileDto profile : qualityProfileService.findAll()) {
    if (languageIsSupported(profile)) {
      json.beginObject().prop("key",profile.getKey().toString()).prop("name",profile.getName()).prop("lang",profile.getLanguage()).prop("parent",profile.getParent());
      if (profile.getParentKey() != null) {
        json.prop("parentKey",profile.getParentKey().toString());
      }
      json.endObject();
    }
  }
  json.endArray();
}
