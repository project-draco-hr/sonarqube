{
  String conditions=" WHERE status='RESOLVED' AND resource_id=" + resourceId;
  List<Review> reviews=databaseSession.getEntityManager().createNativeQuery("SELECT * FROM reviews " + conditions,Review.class).getResultList();
  for (  Review review : reviews) {
    notifyReopened(resource,review);
  }
  int rowUpdated=databaseSession.createNativeQuery("UPDATE reviews SET status='REOPENED', resolution=NULL, updated_at=CURRENT_TIMESTAMP" + conditions).executeUpdate();
  LOG.debug("- {} reviews set to 'reopened' on resource #{}",rowUpdated,resourceId);
  return rowUpdated;
}
