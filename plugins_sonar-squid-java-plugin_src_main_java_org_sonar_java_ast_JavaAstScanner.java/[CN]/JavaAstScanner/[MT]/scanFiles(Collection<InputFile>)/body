{
  if (LOG.isDebugEnabled()) {
    LOG.debug("----- Java sources analyzed by Squid:");
    for (    InputFile inputFile : inputFiles) {
      LOG.debug(inputFile.toString());
    }
    LOG.debug("-----");
  }
  Stack<SourceCode> resourcesStack=new Stack<SourceCode>();
  resourcesStack.add(project);
  for (  JavaAstVisitor visitor : getVisitors()) {
    visitor.setSourceCodeStack(resourcesStack);
  }
  CheckstyleSquidBridgeContext bridgeContext=new CheckstyleSquidBridgeContext().setASTVisitors(getVisitors()).setSquidConfiguration(conf).setInputFiles(inputFiles);
  CheckstyleSquidBridge.setContext(bridgeContext);
  try {
    launchCheckstyle(InputFileUtils.toFiles(inputFiles),conf.getCharset());
  }
  finally {
    CheckstyleSquidBridge.setContext(null);
  }
  return this;
}
