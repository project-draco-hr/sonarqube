{
  DeprecatedProfiles.DefaultProfileDefinition def=DeprecatedProfiles.DefaultProfileDefinition.create("sonar way","java");
  def.activateRule("checkstyle","IllegalRegexp",RulePriority.BLOCKER);
  def.activateRule("pmd","NullPointer",RulePriority.INFO);
  assertThat(def.getRules().size(),is(2));
  assertThat(def.getRulesByRepositoryKey("checkstyle").size(),is(1));
  assertThat(def.getRulesByRepositoryKey("checkstyle").get(0).getPriority(),is(RulePriority.BLOCKER));
}
