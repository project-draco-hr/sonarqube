{
  ProjectDefinition sub11=ProjectDefinition.create().setKey("sub11");
  ProjectDefinition sub1=ProjectDefinition.create().setKey("sub1").addSubProject(sub11);
  ProjectDefinition root=ProjectDefinition.create().setKey("root").addSubProject(sub1);
  Settings settings=new Settings();
  settings.setProperty("sonar.skippedModules","sub1");
  ProjectReactor reactor=new ProjectReactor(root);
  ProjectExclusions exclusions=new ProjectExclusions(settings);
  exclusions.apply(reactor);
  assertThat(reactor.getProject("root")).isNotNull();
  assertThat(reactor.getProject("sub1")).isNull();
  assertThat(reactor.getProject("sub11")).isNull();
}
