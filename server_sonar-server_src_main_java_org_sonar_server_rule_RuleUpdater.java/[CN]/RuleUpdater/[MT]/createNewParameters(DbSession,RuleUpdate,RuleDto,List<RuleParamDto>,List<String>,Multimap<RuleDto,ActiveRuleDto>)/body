{
  for (  RuleParamDto templateRuleParam : templateRuleParams) {
    String key=templateRuleParam.getName();
    if (!paramKeys.contains(key)) {
      String value=update.parameter(key);
      if (!Strings.isNullOrEmpty(value)) {
        RuleParamDto paramDto=RuleParamDto.createFor(customRule).setName(key).setDescription(templateRuleParam.getDescription()).setDefaultValue(value).setType(templateRuleParam.getType());
        dbClient.ruleDao().addRuleParam(dbSession,customRule,paramDto);
        for (        ActiveRuleDto activeRuleDto : activeRules.get(customRule)) {
          dbClient.activeRuleDao().addParam(dbSession,activeRuleDto,ActiveRuleParamDto.createFor(paramDto).setValue(value));
        }
      }
    }
  }
}
