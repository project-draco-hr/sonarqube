{
  Integer subChar=context.rule.getSubCharacteristicId();
  boolean noChar=(context.rule.getDefaultSubCharacteristicId() == null && subChar == null) || (subChar != null && subChar.intValue() == RuleDto.DISABLED_CHARACTERISTIC_ID);
  DebtRemediationFunction function=update.getDebtRemediationFunction();
  if (noChar || function == null) {
    context.rule.setRemediationFunction(null);
    context.rule.setRemediationCoefficient(null);
    context.rule.setRemediationOffset(null);
  }
 else {
    if (isSameAsDefaultFunction(function,context.rule)) {
      context.rule.setRemediationFunction(null);
      context.rule.setRemediationCoefficient(null);
      context.rule.setRemediationOffset(null);
    }
 else {
      context.rule.setRemediationFunction(function.type().name());
      context.rule.setRemediationCoefficient(function.coefficient());
      context.rule.setRemediationOffset(function.offset());
    }
  }
}
