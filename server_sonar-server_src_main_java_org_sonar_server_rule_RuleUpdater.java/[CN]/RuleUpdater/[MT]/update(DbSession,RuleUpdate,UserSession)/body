{
  if (update.isEmpty()) {
    return false;
  }
  Context context=newContext(update);
  apply(update,context,userSession);
  dbClient.deprecatedRuleDao().update(dbSession,context.rule);
  updateParameters(dbSession,update,context);
  dbSession.commit();
  return true;
}
