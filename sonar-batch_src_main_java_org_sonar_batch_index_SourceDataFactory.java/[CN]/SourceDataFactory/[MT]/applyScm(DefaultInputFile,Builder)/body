{
  BatchReportReader reader=new BatchReportReader(publishReportJob.getReportDir());
  Scm componentScm=reader.readComponentScm(resourceCache.get(inputFile).batchId());
  if (componentScm != null) {
    for (int i=0; i < componentScm.getChangesetIndexByLineCount(); i++) {
      int index=componentScm.getChangesetIndexByLine(i);
      Changeset changeset=componentScm.getChangeset(index);
      if (i < dataBuilder.getLinesCount()) {
        FileSourceDb.Line.Builder lineBuilder=dataBuilder.getLinesBuilder(i);
        if (changeset.hasAuthor()) {
          lineBuilder.setScmAuthor(changeset.getAuthor());
        }
        if (changeset.hasRevision()) {
          lineBuilder.setScmRevision(changeset.getRevision());
        }
        if (changeset.hasDate()) {
          lineBuilder.setScmDate(changeset.getDate());
        }
      }
    }
  }
}
