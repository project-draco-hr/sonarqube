{
  List<DuplicationGroup> groups=duplicationCache.byComponent(inputFileKey);
  if (groups != null) {
    int blockId=1;
    for (Iterator<DuplicationGroup> it=groups.iterator(); it.hasNext(); ) {
      DuplicationGroup group=it.next();
      addBlock(blockId,group.originBlock(),to);
      blockId++;
      for (Iterator<DuplicationGroup.Block> dupsIt=group.duplicates().iterator(); dupsIt.hasNext(); ) {
        DuplicationGroup.Block dups=dupsIt.next();
        if (inputFileKey.equals(dups.resourceKey())) {
          addBlock(blockId,dups,to);
          blockId++;
        }
        dupsIt.remove();
      }
      it.remove();
    }
  }
}
