{
  ProjectReactor reactor=getComponentByType(ProjectReactor.class);
  if (reactor == null) {
    ProjectBootstrapper bootstrapper=getComponentByType(ProjectBootstrapper.class);
    BootstrapSettings settings=getComponentByType(BootstrapSettings.class);
    if (bootstrapper == null || "true".equals(settings.property("sonar.mojoUseRunner"))) {
      ProjectReactorBuilder builder=getComponentByType(ProjectReactorBuilder.class);
      reactor=builder.execute();
    }
 else {
      reactor=bootstrapper.bootstrap();
    }
    if (reactor == null) {
      throw new SonarException(bootstrapper + " has returned null as ProjectReactor");
    }
    add(reactor);
  }
}
