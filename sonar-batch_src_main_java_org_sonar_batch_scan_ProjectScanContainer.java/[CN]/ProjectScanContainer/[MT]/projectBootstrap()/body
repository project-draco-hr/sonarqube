{
  ProjectReactor reactor=getComponentByType(ProjectReactor.class);
  if (reactor == null) {
    ProjectBootstrapper bootstrapper=getComponentByType(ProjectBootstrapper.class);
    BootstrapSettings settings=getComponentByType(BootstrapSettings.class);
    if (bootstrapper == null || "true".equals(settings.property("sonar.mojoUseRunner"))) {
      bootstrapper=new DefaultProjectBootstrapper(settings,getComponentByType(MavenSession.class));
    }
    reactor=bootstrapper.bootstrap();
    if (reactor == null) {
      throw new SonarException(bootstrapper + " has returned null as ProjectReactor");
    }
    add(reactor);
  }
}
