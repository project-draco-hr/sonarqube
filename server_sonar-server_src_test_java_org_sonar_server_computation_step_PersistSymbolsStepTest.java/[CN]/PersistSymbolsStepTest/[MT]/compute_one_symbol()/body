{
  BatchReportWriter writer=initReport();
  writer.writeComponentSymbols(FILE_REF,newArrayList(BatchReport.Symbols.Symbol.newBuilder().setDeclaration(BatchReport.Range.newBuilder().setStartLine(1).setStartOffset(3).setEndLine(1).setEndOffset(5).build()).addReference(BatchReport.Range.newBuilder().setStartLine(10).setStartOffset(15).setEndLine(10).setEndOffset(17).build()).addReference(BatchReport.Range.newBuilder().setStartLine(11).setStartOffset(7).setEndLine(11).setEndOffset(9).build()).build()));
  step.execute(new ComputationContext(new BatchReportReader(reportDir),mock(ComponentDto.class)));
  assertThat(step.getSymbolsByLine()).hasSize(3);
  assertThat(step.getSymbolsByLine().get(1).toString()).isEqualTo("3,5,1");
  assertThat(step.getSymbolsByLine().get(10).toString()).isEqualTo("15,17,1");
  assertThat(step.getSymbolsByLine().get(11).toString()).isEqualTo("7,9,1");
}
