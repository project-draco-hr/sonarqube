{
  BatchReportWriter writer=initReport();
  writer.writeComponentSymbols(FILE_REF,newArrayList(BatchReport.Symbols.Symbol.newBuilder().setDeclaration(BatchReport.Range.newBuilder().setStartLine(1).setEndLine(1).setStartOffset(3).setEndOffset(5).build()).addReference(BatchReport.Range.newBuilder().setStartLine(10).setStartOffset(15).setEndLine(10).setEndOffset(16).build()).build(),BatchReport.Symbols.Symbol.newBuilder().setDeclaration(BatchReport.Range.newBuilder().setStartLine(1).setStartOffset(5).setEndLine(1).setEndOffset(6).build()).addReference(BatchReport.Range.newBuilder().setStartLine(10).setStartOffset(9).setEndLine(10).setEndOffset(10).build()).build()));
  step.execute(new ComputationContext(new BatchReportReader(reportDir),mock(ComponentDto.class)));
  assertThat(step.getSymbolsByLine()).hasSize(2);
  assertThat(step.getSymbolsByLine().get(1).toString()).isEqualTo("3,5,1;5,6,2");
  assertThat(step.getSymbolsByLine().get(10).toString()).isEqualTo("15,16,1;9,10,2");
}
