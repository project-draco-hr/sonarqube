{
  FileReader fileReader=null;
  try {
    File pomFile=new File(MavenTestUtils.class.getResource(pomUrlInClasspath).toURI());
    MavenXpp3Reader pomReader=new MavenXpp3Reader();
    fileReader=new FileReader(pomFile);
    Model model=pomReader.read(fileReader);
    MavenProject project=new MavenProject(model);
    project.setFile(pomFile);
    project.getBuild().setDirectory(pomFile.getParentFile().getPath());
    project.addCompileSourceRoot(pomFile.getParentFile().getPath() + "/src/main/java");
    project.addTestCompileSourceRoot(pomFile.getParentFile().getPath() + "/src/test/java");
    return project;
  }
 catch (  Exception e) {
    throw new SonarException("Failed to read Maven project file : " + pomUrlInClasspath,e);
  }
 finally {
    IOUtils.closeQuietly(fileReader);
  }
}
