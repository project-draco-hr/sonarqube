{
  MavenProject pom=loadPom(clazz,path);
  Project project=new Project(pom.getGroupId() + ":" + pom.getArtifactId()).setPom(pom).setConfiguration(new MapConfiguration(pom.getProperties()));
  DefaultProjectFileSystem fs=new DefaultProjectFileSystem(project);
  project.setFileSystem(fs);
  for (  File dir : fs.resolvePaths(project.getPom().getCompileSourceRoots())) {
    fs.addSourceDir(dir);
  }
  for (  File dir : fs.resolvePaths(project.getPom().getTestCompileSourceRoots())) {
    fs.addTestDir(dir);
  }
  project.getConfiguration().setProperty("project.build.outputDirectory",pom.getBuild().getOutputDirectory());
  project.getConfiguration().setProperty("project.reporting.outputDirectory",pom.getReporting().getOutputDirectory());
  fs.setBaseDir(project.getPom().getBasedir());
  fs.setBuildDir(project.getPom().getBuild().getDirectory());
  return project;
}
