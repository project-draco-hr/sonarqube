{
  CodeBuffer code=new CodeBuffer("abcd12efgh34",new ReplaceNumbersFilter());
  assertEquals('a',code.charAt(0));
  assertEquals('-',code.charAt(4));
  assertEquals('-',code.charAt(5));
  assertEquals('e',code.charAt(6));
  assertEquals('-',code.charAt(10));
  assertEquals('-',code.charAt(11));
  assertThat((char)code.peek(),is('a'));
  assertThat((char)code.pop(),is('a'));
  assertThat((char)code.pop(),is('b'));
  assertThat((char)code.pop(),is('c'));
  assertThat((char)code.pop(),is('d'));
  assertThat((char)code.peek(),is('-'));
  assertThat((char)code.pop(),is('-'));
  assertThat((char)code.pop(),is('-'));
  assertThat((char)code.pop(),is('e'));
  assertThat((char)code.pop(),is('f'));
  assertThat((char)code.pop(),is('g'));
  assertThat((char)code.pop(),is('h'));
  assertThat((char)code.pop(),is('-'));
  assertThat((char)code.pop(),is('-'));
}
