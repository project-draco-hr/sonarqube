{
  CodeBuffer code=new CodeBuffer("abcd12efgh34",new ReplaceNumbersFilter(),new ReplaceCharFilter());
  assertEquals('*',code.charAt(0));
  assertEquals('-',code.charAt(4));
  assertEquals('-',code.charAt(5));
  assertEquals('*',code.charAt(6));
  assertEquals('-',code.charAt(10));
  assertEquals('-',code.charAt(11));
  assertThat((char)code.peek(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.peek(),is('-'));
  assertThat((char)code.pop(),is('-'));
  assertThat((char)code.pop(),is('-'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('*'));
  assertThat((char)code.pop(),is('-'));
  assertThat((char)code.pop(),is('-'));
}
