{
  byte[] cached=loadFromCache(id);
  if (cached != null) {
    return cached;
  }
  try {
    return loadFromServer(id);
  }
 catch (  Exception e) {
    if (e.getCause() instanceof HttpDownloader.HttpException) {
      throw e;
    }
  }
  throw new IllegalStateException(FAIL_MSG);
}
