{
  when(issueFilterDao.selectById(1L)).thenReturn(new IssueFilterDto().setId(1L).setName("My Old Filter").setUserLogin("john"));
  when(issueFilterDao.selectByNameAndUser("My Issue","john",1L)).thenReturn(new IssueFilterDto());
  try {
    service.update(new DefaultIssueFilter().setId(1L).setUser("john").setName("My Issue"),userSession);
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(IllegalArgumentException.class).hasMessage("Name already exists");
  }
  verify(issueFilterDao,never()).update(any(IssueFilterDto.class));
}
