{
  CodeColorizerFormat format=byLang.get(language);
  List<Tokenizer> tokenizers;
  if (format == null) {
    return null;
  }
 else {
    tokenizers=format.getTokenizers();
  }
  Reader reader=null;
  try {
    reader=new BufferedReader(new InputStreamReader(new BOMInputStream(new FileInputStream(file)),encoding));
    return new HighlightingRenderer().render(reader,tokenizers);
  }
 catch (  Exception e) {
    throw new IllegalStateException("Unable to read source file for colorization",e);
  }
 finally {
    IOUtils.closeQuietly(reader);
  }
}
