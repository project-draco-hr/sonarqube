{
  CodeColorizerFormat format=byLang.get(language);
  List<Tokenizer> tokenizers;
  if (format == null) {
    if ("java".equals(language)) {
      tokenizers=CodeColorizer.Format.JAVA.getTokenizers();
    }
 else {
      return null;
    }
  }
 else {
    tokenizers=format.getTokenizers();
  }
  try (Reader reader=new BufferedReader(new InputStreamReader(new BOMInputStream(new FileInputStream(file)),charset))){
    return new HighlightingRenderer().render(reader,tokenizers);
  }
 catch (  Exception e) {
    throw new IllegalStateException("Unable to read source file for colorization",e);
  }
}
