{
  Review review=new ReviewUnmarshaller().toModel("[]");
  assertThat(review,nullValue());
  List<Review> reviews=new ReviewUnmarshaller().toModels(loadFile("/reviews/reviews.json"));
  assertThat(reviews.size(),is(2));
  review=reviews.get(0);
  assertThat(review.getAssigneeLogin(),nullValue());
  review=reviews.get(1);
  assertThat(review.getId(),is(3L));
  assertNotNull(review.getCreatedAt());
  assertNotNull(review.getUpdatedAt());
  assertThat(review.getAuthorLogin(),is("admin"));
  assertThat(review.getAssigneeLogin(),is("admin"));
  assertThat(review.getTitle(),is("'static' modifier out of order with the JLS suggestions."));
  assertThat(review.getType(),is("VIOLATION"));
  assertThat(review.getStatus(),is("OPEN"));
  assertThat(review.getSeverity(),is("MINOR"));
  assertThat(review.getResourceKee(),is("org.codehaus.sonar:sonar-channel:org.sonar.channel.CodeReaderConfiguration"));
  assertThat(review.getLine(),is(33));
  List<Comment> comments=review.getComments();
  assertThat(comments.size(),is(4));
  Comment comment=comments.get(0);
  assertNotNull(comment.getUpdatedAt());
  assertThat(comment.getAuthorLogin(),is("admin"));
  assertThat(comment.getText(),is("This is a review.<br/>And this is on multiple lines...<br/><br/><code>Wouhou!!!!!</code>"));
}
