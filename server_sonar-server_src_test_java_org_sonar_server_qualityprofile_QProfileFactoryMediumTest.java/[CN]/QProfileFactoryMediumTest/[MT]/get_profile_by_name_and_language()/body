{
  QualityProfileDto profileDto=QProfileTesting.newQProfileDto(new QProfileName("xoo","SonarQube way"),"abcd");
  db.qualityProfileDao().insert(dbSession,profileDto);
  dbSession.commit();
  dbSession.clearCache();
  assertThat(factory.getByNameAndLanguage("SonarQube way","xoo").getKey()).isEqualTo("abcd");
  assertThat(factory.getByNameAndLanguage("SonarQube way","java")).isNull();
  assertThat(factory.getByNameAndLanguage("Unfound","xoo")).isNull();
}
