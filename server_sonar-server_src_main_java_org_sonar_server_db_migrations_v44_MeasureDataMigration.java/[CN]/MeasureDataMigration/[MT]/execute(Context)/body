{
  MassUpdate massUpdate=context.prepareMassUpdate();
  massUpdate.rowPluralName("measures");
  massUpdate.select("select md.id, md.measure_id FROM measure_data md " + "inner join project_measures m on m.id=md.measure_id and m.measure_data is null");
  massUpdate.update("update project_measures SET measure_data = (SELECT md.data FROM measure_data md WHERE md.id = ?) WHERE id=?");
  massUpdate.execute(new MassUpdate.Handler(){
    @Override public boolean handle(    Select.Row row,    SqlStatement update) throws SQLException {
      Long id=row.getNullableLong(1);
      Long measureId=row.getNullableLong(2);
      update.setLong(1,id);
      update.setLong(2,measureId);
      return true;
    }
  }
);
}
