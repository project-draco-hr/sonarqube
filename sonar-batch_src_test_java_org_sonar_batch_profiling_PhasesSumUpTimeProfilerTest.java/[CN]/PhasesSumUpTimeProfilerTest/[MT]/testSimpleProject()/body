{
  PhasesSumUpTimeProfiler profiler=new PhasesSumUpTimeProfiler();
  final Project project=mockProject("project",true);
  when(project.getModules()).thenReturn(Collections.<Project>emptyList());
  fakeAnalysis(profiler,project);
  assertThat(profiler.currentModuleProfiling.getProfilingPerPhase(Phase.SENSOR).getProfilingPerItem(new FakeSensor()).totalTime()).isIn(delta(10L,5));
  assertThat(profiler.currentModuleProfiling.getProfilingPerPhase(Phase.DECORATOR).getProfilingPerItem(new FakeDecorator1()).totalTime()).isIn(delta(20L,5));
  assertThat(profiler.currentModuleProfiling.getProfilingPerPhase(Phase.POSTJOB).getProfilingPerItem(new FakePostJob()).totalTime()).isIn(delta(30L,5));
}
