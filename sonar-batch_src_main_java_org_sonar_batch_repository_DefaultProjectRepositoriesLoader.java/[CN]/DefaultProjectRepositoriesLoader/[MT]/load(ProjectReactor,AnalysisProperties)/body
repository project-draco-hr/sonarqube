{
  String projectKey=reactor.getRoot().getKeyWithBranch();
  String url=BATCH_PROJECT_URL + "?key=" + BatchUtils.encodeForUrl(projectKey);
  if (taskProperties.properties().containsKey(ModuleQProfiles.SONAR_PROFILE_PROP)) {
    LOG.warn("Ability to set quality profile from command line using '" + ModuleQProfiles.SONAR_PROFILE_PROP + "' is deprecated and will be dropped in a future SonarQube version. Please configure quality profile used by your project on SonarQube server.");
    url+="&profile=" + BatchUtils.encodeForUrl(taskProperties.properties().get(ModuleQProfiles.SONAR_PROFILE_PROP));
  }
  url+="&preview=" + analysisMode.isPreview();
  return ProjectRepositories.fromJson(wsLoader.loadString(url));
}
