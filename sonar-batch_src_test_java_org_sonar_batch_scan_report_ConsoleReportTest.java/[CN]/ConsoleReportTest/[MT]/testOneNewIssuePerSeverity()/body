{
  settings.setProperty(ConsoleReport.CONSOLE_REPORT_ENABLED_KEY,"true");
  when(inputPathCache.allFiles()).thenReturn(Arrays.<InputFile>asList(new DefaultInputFile("foo","src/Foo.php")));
  when(issueCache.all()).thenReturn(Arrays.asList(new DefaultIssue().setNew(true).setSeverity(Severity.BLOCKER),new DefaultIssue().setNew(true).setSeverity(Severity.CRITICAL),new DefaultIssue().setNew(true).setSeverity(Severity.MAJOR),new DefaultIssue().setNew(true).setSeverity(Severity.MINOR),new DefaultIssue().setNew(true).setSeverity(Severity.INFO)));
  report.execute();
  assertThat(getReportLog()).isEqualTo("\n\n-------------  Issues Report  -------------\n\n" + "        +5 issues\n\n" + "        +1 blocking\n"+ "        +1 critical\n"+ "        +1 major\n"+ "        +1 minor\n"+ "        +1 info\n"+ "\n-------------------------------------------\n\n");
}
