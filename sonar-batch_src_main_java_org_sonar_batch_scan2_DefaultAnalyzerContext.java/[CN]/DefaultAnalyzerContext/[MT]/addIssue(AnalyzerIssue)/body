{
  DefaultIssueBuilder builder=new DefaultIssueBuilder().projectKey(def.getKey());
  if (issue.inputFile() != null) {
    builder.componentKey(ComponentKeys.createEffectiveKey(def.getKey(),issue.inputFile()));
  }
 else {
    builder.componentKey(def.getKey());
  }
  moduleIssues.initAndAddIssue((DefaultIssue)builder.ruleKey(RuleKey.of(issue.ruleKey().repository(),issue.ruleKey().rule())).message(issue.message()).line(issue.line()).effortToFix(issue.effortToFix()).build());
}
