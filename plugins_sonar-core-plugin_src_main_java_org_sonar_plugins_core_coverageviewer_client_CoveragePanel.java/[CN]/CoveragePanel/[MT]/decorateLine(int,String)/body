{
  Row row=new Row().setLineIndex(index,"");
  String hits=hitsByLine.get(index);
  String branchHits=branchHitsByLine.get(index);
  boolean hasLineCoverage=(null != hits);
  boolean hasBranchCoverage=(null != branchHits);
  boolean lineIsCovered=(hasLineCoverage && Integer.parseInt(hits) > 0);
  boolean branchIsCovered=(hasBranchCoverage && "100%".equals(branchHits));
  row.setSource(source,"");
  row.setValue("&nbsp;","");
  row.setValue2("&nbsp;","");
  if (lineIsCovered) {
    if (branchIsCovered) {
      row.setValue(hits,"green");
      row.setValue2(branchHits,"green");
    }
 else     if (hasBranchCoverage) {
      row.setValue(hits,"orange");
      row.setValue2(branchHits,"orange");
      row.setSource(source,"orange");
    }
 else {
      row.setValue(hits,"green");
    }
  }
 else   if (hasLineCoverage) {
    row.setValue(hits,"red");
    row.setSource(source,"red");
    if (hasBranchCoverage) {
      row.setValue2(branchHits,"red");
    }
 else {
      row.setValue2("&nbsp;","red");
    }
  }
  return Arrays.asList(row);
}
