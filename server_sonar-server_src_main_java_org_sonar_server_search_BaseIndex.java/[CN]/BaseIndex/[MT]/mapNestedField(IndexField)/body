{
  Map<String,Object> mapping=new HashMap<>();
  mapping.put("type","nested");
  mapping.put("dynamic","true");
  Map<String,Object> mappings=new HashMap<>();
  for (  IndexField nestedField : field.nestedFields()) {
    if (nestedField != null) {
      mappings.put(nestedField.field(),mapField(nestedField));
    }
  }
  mapping.put("properties",mappings);
  return mapping;
}
