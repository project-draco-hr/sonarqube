{
  File tempFolder=temporaryFolder.newFolder();
  dryRunCache=new File(tempFolder,"dryRun");
  when(serverFileSystem.getTempDir()).thenReturn(tempFolder);
  resourceDao=mock(ResourceDao.class);
  settings=new Settings();
  localDatabaseFactory=new DryRunDatabaseFactory(getDatabase(),serverFileSystem,settings,resourceDao);
}
