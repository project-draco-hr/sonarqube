{
  analysisMetadataHolder.setBaseProjectSnapshot(SNAPSHOT);
  mockComponentsForSnapshot(FILE_1.getKey());
  mockContentOfFileIdDb(FILE_1.getKey(),CONTENT1);
  setFilesInReport(FILE_2,FILE_3);
  setFileContentInReport(FILE_2_REF,CONTENT1);
  setFileContentInReport(FILE_3_REF,CONTENT1);
  underTest.execute();
  assertThat(movedFilesRepository.getComponentsWithOriginal()).isEmpty();
}
