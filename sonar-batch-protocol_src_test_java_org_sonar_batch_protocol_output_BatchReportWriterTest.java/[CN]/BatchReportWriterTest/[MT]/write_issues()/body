{
  assertThat(sut.hasComponentData(FileStructure.Domain.ISSUES,1)).isFalse();
  BatchReport.Issue issue=BatchReport.Issue.newBuilder().setLine(50).setMsg("the message").build();
  sut.writeComponentIssues(1,Arrays.asList(issue));
  assertThat(sut.hasComponentData(FileStructure.Domain.ISSUES,1)).isTrue();
  File file=sut.getFileStructure().fileFor(FileStructure.Domain.ISSUES,1);
  assertThat(file).exists().isFile();
  BatchReport.Issues read=ProtobufUtil.readFile(file,BatchReport.Issues.PARSER);
  assertThat(read.getComponentRef()).isEqualTo(1);
  assertThat(read.getIssueCount()).isEqualTo(1);
}
