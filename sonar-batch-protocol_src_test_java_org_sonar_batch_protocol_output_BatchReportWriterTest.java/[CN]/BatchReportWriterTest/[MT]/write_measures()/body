{
  assertThat(underTest.hasComponentData(FileStructure.Domain.MEASURES,1)).isFalse();
  BatchReport.Measure measure=BatchReport.Measure.newBuilder().setStringValue("text-value").setDoubleValue(2.5d).setValueType(Constants.MeasureValueType.DOUBLE).build();
  underTest.writeComponentMeasures(1,asList(measure));
  assertThat(underTest.hasComponentData(FileStructure.Domain.MEASURES,1)).isTrue();
  File file=underTest.getFileStructure().fileFor(FileStructure.Domain.MEASURES,1);
  assertThat(file).exists().isFile();
  try (CloseableIterator<BatchReport.Measure> read=Protobuf.readStream(file,BatchReport.Measure.PARSER)){
    assertThat(Iterators.size(read)).isEqualTo(1);
  }
 }
