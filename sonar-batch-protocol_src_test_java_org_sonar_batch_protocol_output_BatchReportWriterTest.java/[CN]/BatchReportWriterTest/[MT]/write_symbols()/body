{
  assertThat(underTest.hasComponentData(FileStructure.Domain.SYMBOLS,1)).isFalse();
  BatchReport.Symbols.Symbol symbol=BatchReport.Symbols.Symbol.newBuilder().setDeclaration(BatchReport.Range.newBuilder().setStartLine(1).setStartOffset(3).setEndLine(1).setEndOffset(5).build()).addReference(BatchReport.Range.newBuilder().setStartLine(10).setStartOffset(15).setEndLine(11).setEndOffset(2).build()).build();
  underTest.writeComponentSymbols(1,Arrays.asList(symbol));
  assertThat(underTest.hasComponentData(FileStructure.Domain.SYMBOLS,1)).isTrue();
  File file=underTest.getFileStructure().fileFor(FileStructure.Domain.SYMBOLS,1);
  assertThat(file).exists().isFile();
  BatchReport.Symbols read=ProtobufUtil.readFile(file,BatchReport.Symbols.PARSER);
  assertThat(read.getFileRef()).isEqualTo(1);
  assertThat(read.getSymbolList()).hasSize(1);
  assertThat(read.getSymbol(0).getDeclaration().getStartLine()).isEqualTo(1);
  assertThat(read.getSymbol(0).getReference(0).getStartLine()).isEqualTo(10);
}
