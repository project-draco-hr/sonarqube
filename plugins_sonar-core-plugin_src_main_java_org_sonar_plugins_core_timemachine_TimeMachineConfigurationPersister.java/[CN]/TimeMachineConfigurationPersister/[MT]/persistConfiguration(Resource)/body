{
  List<PastSnapshot> pastSnapshots=timeMachineConfiguration.getProjectPastSnapshots();
  Snapshot projectSnapshot=resourceCache.get(module.getEffectiveKey()).snapshot();
  for (  PastSnapshot pastSnapshot : pastSnapshots) {
    Snapshot snapshot=session.reattach(Snapshot.class,projectSnapshot.getId());
    updatePeriodParams(snapshot,pastSnapshot);
    updatePeriodParams(projectSnapshot,pastSnapshot);
    session.save(snapshot);
  }
  session.commit();
}
