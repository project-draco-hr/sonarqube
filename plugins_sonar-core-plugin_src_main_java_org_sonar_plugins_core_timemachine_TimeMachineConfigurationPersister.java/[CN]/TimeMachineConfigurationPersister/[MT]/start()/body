{
  List<PastSnapshot> variationSnapshots=configuration.getProjectPastSnapshots();
  for (  PastSnapshot variationSnapshot : variationSnapshots) {
switch (variationSnapshot.getIndex()) {
case 1:
      projectSnapshot.setVarMode1(variationSnapshot.getMode());
    projectSnapshot.setVarLabel1(variationSnapshot.getModeParameter());
  break;
case 2:
projectSnapshot.setVarMode2(variationSnapshot.getMode());
projectSnapshot.setVarLabel2(variationSnapshot.getModeParameter());
break;
case 3:
projectSnapshot.setVarMode3(variationSnapshot.getMode());
projectSnapshot.setVarLabel3(variationSnapshot.getModeParameter());
break;
default :
throw new IndexOutOfBoundsException("Index of variation configuration is out of range: " + variationSnapshot);
}
session.save(projectSnapshot);
}
}
