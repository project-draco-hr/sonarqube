{
  List<PastSnapshot> variationSnapshots=configuration.getProjectPastSnapshots();
  for (  PastSnapshot variationSnapshot : variationSnapshots) {
switch (variationSnapshot.getIndex()) {
case 1:
      projectSnapshot.setVarMode1(variationSnapshot.getConfigurationMode());
    projectSnapshot.setVarLabel1(variationSnapshot.getConfigurationModeParameter());
  break;
case 2:
projectSnapshot.setVarMode2(variationSnapshot.getConfigurationMode());
projectSnapshot.setVarLabel2(variationSnapshot.getConfigurationModeParameter());
break;
case 3:
projectSnapshot.setVarMode3(variationSnapshot.getConfigurationMode());
projectSnapshot.setVarLabel3(variationSnapshot.getConfigurationModeParameter());
break;
default :
throw new IndexOutOfBoundsException("Index of variation configuration is out of range: " + variationSnapshot);
}
session.save(projectSnapshot);
}
}
