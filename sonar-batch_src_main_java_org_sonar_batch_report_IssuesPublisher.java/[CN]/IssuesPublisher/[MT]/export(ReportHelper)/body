{
  for (  BatchResource resource : resourceCache.all()) {
    Iterable<DefaultIssue> issues=issueCache.byComponent(resource.resource().getEffectiveKey());
    reportHelper.saveIssues(resource.batchId(),Iterables.transform(issues,new Function<DefaultIssue,ReportIssue>(){
      @Override public ReportIssue apply(      DefaultIssue input){
        return toReportIssue(input);
      }
    }
));
  }
}
