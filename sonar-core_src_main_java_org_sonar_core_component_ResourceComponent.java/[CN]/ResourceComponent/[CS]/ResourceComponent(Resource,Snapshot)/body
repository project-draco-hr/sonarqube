{
  this.key=resource.getEffectiveKey();
  this.path=resource.getPath();
  this.moduleKey=StringUtils.removeEnd(resource.getEffectiveKey(),":" + resource.getKey());
  if (Strings.isNullOrEmpty(key)) {
    throw new IllegalArgumentException("Missing component key");
  }
  this.name=resource.getName();
  this.longName=resource.getLongName();
  this.qualifier=resource.getQualifier();
  this.scope=resource.getScope();
  if (snapshot != null && snapshot.getId() != null) {
    this.snapshotId=snapshot.getId().longValue();
    this.resourceId=snapshot.getResourceId().longValue();
  }
}
