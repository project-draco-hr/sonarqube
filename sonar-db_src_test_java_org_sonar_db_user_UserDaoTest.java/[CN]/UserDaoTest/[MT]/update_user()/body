{
  dbTester.prepareDbUnit(getClass(),"update_user.xml");
  Long date=DateUtils.parseDate("2014-06-21").getTime();
  UserDto userDto=new UserDto().setId(1L).setLogin("john").setName("John Doo").setEmail("jodoo@hn.com").setScmAccounts(",jo.hn,john2,johndoo,").setActive(false).setSalt("12345").setCryptedPassword("abcde").setUpdatedAt(date);
  dao.update(dbTester.getSession(),userDto);
  dbTester.getSession().commit();
  UserDto user=dao.getUser(1);
  assertThat(user).isNotNull();
  assertThat(user.getId()).isEqualTo(1L);
  assertThat(user.getLogin()).isEqualTo("john");
  assertThat(user.getName()).isEqualTo("John Doo");
  assertThat(user.getEmail()).isEqualTo("jodoo@hn.com");
  assertThat(user.isActive()).isFalse();
  assertThat(user.getScmAccounts()).isEqualTo(",jo.hn,john2,johndoo,");
  assertThat(user.getSalt()).isEqualTo("12345");
  assertThat(user.getCryptedPassword()).isEqualTo("abcde");
  assertThat(user.getCreatedAt()).isEqualTo(1418215735482L);
  assertThat(user.getUpdatedAt()).isEqualTo(date);
}
