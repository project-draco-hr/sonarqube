{
  Date now=new Date();
  DashboardDto dashboardDto=new DashboardDto();
  dashboardDto.setKey(dashboard.getId());
  dashboardDto.setName(dashboard.getName());
  dashboardDto.setDescription(dashboard.getDescription());
  dashboardDto.setColumnLayout(dashboard.getLayout().toString());
  dashboardDto.setShared(true);
  dashboardDto.setCreatedAt(now);
  dashboardDto.setUpdatedAt(now);
  for (  Widget widget : dashboard.getWidgets()) {
    WidgetDto widgetDto=new WidgetDto();
    widgetDto.setKey(widget.getId());
    widgetDto.setColumnIndex(widget.getColumnIndex());
    widgetDto.setRowIndex(widget.getRowIndex());
    widgetDto.setConfigured(true);
    widgetDto.setCreatedAt(now);
    widgetDto.setUpdatedAt(now);
    dashboardDto.addWidget(widgetDto);
    for (    Entry<String,String> property : widget.getProperties().entrySet()) {
      WidgetPropertyDto propDto=new WidgetPropertyDto();
      propDto.setKey(property.getKey());
      propDto.setValue(property.getValue());
      widgetDto.addWidgetProperty(propDto);
    }
  }
  return dashboardDto;
}
