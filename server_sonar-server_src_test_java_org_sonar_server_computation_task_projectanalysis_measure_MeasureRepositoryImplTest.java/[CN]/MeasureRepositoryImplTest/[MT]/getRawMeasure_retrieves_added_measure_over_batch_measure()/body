{
  when(reportMetricValidator.validate(METRIC_KEY_1)).thenReturn(true);
  reportReader.putMeasures(FILE_COMPONENT.getReportAttributes().getRef(),ImmutableList.of(ScannerReport.Measure.newBuilder().setMetricKey(METRIC_KEY_1).setStringValue(StringValue.newBuilder().setValue("some value")).build()));
  Measure addedMeasure=SOME_MEASURE;
  underTest.add(FILE_COMPONENT,metric1,addedMeasure);
  Optional<Measure> res=underTest.getRawMeasure(FILE_COMPONENT,metric1);
  assertThat(res).isPresent();
  assertThat(res.get()).isSameAs(addedMeasure);
}
