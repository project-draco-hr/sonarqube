{
  RuleDefinitions.NewRepository newFindbugs=context.newRepository("findbugs","java");
  RuleDefinitions.NewRule newNpe=newFindbugs.newRule("NPE").setName("NPE").setHtmlDescription("NPE");
  newNpe.newParam("level").setDefaultValue("LOW").setName("Level").setDescription("The level").setType(RuleParamType.INTEGER);
  newNpe.newParam("effort");
  newFindbugs.done();
  RuleDefinitions.Rule rule=context.repository("findbugs").rule("NPE");
  assertThat(rule.params()).hasSize(2);
  RuleDefinitions.Param level=rule.param("level");
  assertThat(level.key()).isEqualTo("level");
  assertThat(level.name()).isEqualTo("Level");
  assertThat(level.description()).isEqualTo("The level");
  assertThat(level.defaultValue()).isEqualTo("LOW");
  assertThat(level.type()).isEqualTo(RuleParamType.INTEGER);
  RuleDefinitions.Param effort=rule.param("effort");
  assertThat(effort.key()).isEqualTo("effort").isEqualTo(effort.name());
  assertThat(effort.description()).isNull();
  assertThat(effort.defaultValue()).isNull();
  assertThat(effort.type()).isEqualTo(RuleParamType.STRING);
  assertThat(level).isEqualTo(level).isNotEqualTo(effort).isNotEqualTo("level").isNotEqualTo(null);
  assertThat(level.hashCode()).isEqualTo(level.hashCode());
}
