{
  assertThat(context.extendedRepositories()).isEmpty();
  RuleDefinitions.NewExtendedRepository newFindbugs=context.extendRepository("findbugs");
  newFindbugs.newRule("NPE");
  newFindbugs.done();
  assertThat(context.repositories()).isEmpty();
  assertThat(context.extendedRepositories()).hasSize(1);
  assertThat(context.extendedRepositories("other")).isEmpty();
  assertThat(context.extendedRepositories("findbugs")).hasSize(1);
  RuleDefinitions.ExtendedRepository findbugs=context.extendedRepositories("findbugs").get(0);
  assertThat(findbugs.rule("NPE")).isNotNull();
}
