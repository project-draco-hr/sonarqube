{
  if (s1 == s2) {
    return true;
  }
 else   if (s1 == null || s2 == null) {
    return false;
  }
 else {
    if (trim) {
      s1=s1.trim();
      s2=s2.trim();
    }
    if (standardizeWhitespace) {
      s1=s1.replaceAll("\\s+"," ");
      s2=s2.replaceAll("\\s+"," ");
    }
    return ignoreCase ? s1.equalsIgnoreCase(s2) : s1.equals(s2);
  }
}
