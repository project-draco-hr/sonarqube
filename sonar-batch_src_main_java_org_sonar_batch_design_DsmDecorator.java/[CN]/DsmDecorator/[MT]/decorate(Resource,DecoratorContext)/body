{
  if (shouldDecorateResource(resource,context)) {
    List<Resource> children=getChildren(resource,context);
    if (children.isEmpty()) {
      return;
    }
    Set<Edge> feedbackEdges=doProcess(children,context);
    if (children.size() > MAX_DSM_DIMENSION) {
      LOG.warn("Too many components under resource '" + resource.getName() + "'. DSM will not be displayed.");
      return;
    }
    Dsm<Resource> dsm=getDsm(children,feedbackEdges);
    saveDsm(context,dsm);
  }
}
