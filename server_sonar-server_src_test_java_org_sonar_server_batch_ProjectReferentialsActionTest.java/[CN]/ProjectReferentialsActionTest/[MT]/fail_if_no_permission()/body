{
  MockUserSession.set().setLogin("john").setGlobalPermissions();
  try {
    WsTester.TestRequest request=tester.newGetRequest("batch","project").setParam("key",project.key());
    request.execute();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(ForbiddenException.class).hasMessage("You're not authorized to execute any SonarQube analysis. Please contact your SonarQube administrator.");
  }
}
