{
  Rules rules=new Rules(){
    @Override public void init(    RulesDefinition.NewRepository repository){
      repository.createRule("x1").setName("x1 name").setHtmlDescription("x1 desc");
    }
  }
;
  register(rules);
  TESTER.clearIndexes();
  register(rules);
  SearchIdResult<RuleKey> searchResult=ruleIndex.search(new RuleQuery().setKey("xoo:x1"),new SearchOptions());
  assertThat(searchResult.getTotal()).isEqualTo(1);
  assertThat(searchResult.getIds()).containsOnly(RuleKey.of("xoo","x1"));
}
