{
  while (pack.getNext() != null) {
    Map<String,CoverageMeasuresBuilder> builderByFilename=Maps.newHashMap();
    collectFileMeasures(pack.descendantElementCursor("class"),builderByFilename);
    for (    Map.Entry<String,CoverageMeasuresBuilder> entry : builderByFilename.entrySet()) {
      String filename=sanitizeFilename(entry.getKey());
      Resource file=fileResolver.resolve(filename);
      if (fileExists(context,file)) {
        for (        Measure measure : entry.getValue().createMeasures()) {
          context.saveMeasure(file,measure);
        }
      }
    }
  }
}
