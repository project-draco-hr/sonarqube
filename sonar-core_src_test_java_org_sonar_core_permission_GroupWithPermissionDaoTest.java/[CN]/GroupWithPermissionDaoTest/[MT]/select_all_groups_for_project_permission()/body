{
  setupData("groups_with_permissions");
  WithPermissionQuery query=WithPermissionQuery.builder().permission("user").build();
  List<GroupWithPermissionDto> result=dao.selectGroups(query,COMPONENT_ID);
  assertThat(result).hasSize(3);
  GroupWithPermissionDto user1=result.get(0);
  assertThat(user1.getName()).isEqualTo("sonar-administrators");
  assertThat(user1.getPermission()).isNotNull();
  GroupWithPermissionDto user2=result.get(1);
  assertThat(user2.getName()).isEqualTo("sonar-reviewers");
  assertThat(user2.getPermission()).isNull();
  GroupWithPermissionDto user3=result.get(2);
  assertThat(user3.getName()).isEqualTo("sonar-users");
  assertThat(user3.getPermission()).isNotNull();
}
