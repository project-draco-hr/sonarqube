{
  if (StringUtils.isNotBlank(filter.getResourceName())) {
    sb.append(" AND p.uuid IN (SELECT rindex.component_uuid FROM resource_index rindex WHERE rindex.kee LIKE '");
    sb.append(escapePercentAndUnderscrore(StringEscapeUtils.escapeSql(StringUtils.lowerCase(filter.getResourceName()))));
    sb.append("%'");
    appendEscapeForSomeDb(sb);
    if (!filter.getResourceQualifiers().isEmpty()) {
      sb.append(" AND rindex.qualifier IN ");
      appendInStatement(filter.getResourceQualifiers(),sb);
    }
    sb.append(") ");
  }
}
