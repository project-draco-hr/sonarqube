{
  Map<MeasureKey,MeasureModel> pastMeasuresByKey=Maps.newHashMap();
  for (  MeasureModel pastMeasure : pastMeasures) {
    pastMeasuresByKey.put(new MeasureKey(pastMeasure),pastMeasure);
  }
  for (  Measure measure : context.getMeasures(MeasuresFilters.all())) {
    MeasureModel pastMeasure=pastMeasuresByKey.get(new MeasureKey(measure));
    if (updateDiffValue(measure,pastMeasure,index)) {
      context.saveMeasure(measure);
    }
  }
}
