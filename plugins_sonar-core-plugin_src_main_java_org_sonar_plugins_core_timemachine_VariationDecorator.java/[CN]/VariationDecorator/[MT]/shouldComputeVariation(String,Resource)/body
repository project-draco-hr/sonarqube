{
  if (Scopes.FILE.equals(resource.getScope()) && !Qualifiers.UNIT_TEST_FILE.equals(resource.getQualifier())) {
    return enabledFileVariation && StringUtils.equals(variationMode,CoreProperties.TIMEMACHINE_MODE_PREVIOUS_ANALYSIS);
  }
  return StringUtils.equals(Scopes.PROJECT,resource.getScope()) || StringUtils.equals(Scopes.DIRECTORY,resource.getScope());
}
