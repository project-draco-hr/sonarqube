{
  long refDate=123456789L;
  BatchReport.Changesets.Changeset changeset0=newChangeSetBuilder().setDate(refDate - 636).build();
  BatchReport.Changesets.Changeset changeset1=newChangeSetBuilder().setDate(refDate + 1).build();
  BatchReport.Changesets.Changeset changeset2=newChangeSetBuilder().setDate(refDate + 2).build();
  BatchReport.Changesets scmReport=setup8LinesChangeset(changeset0,changeset1,changeset2);
  ScmLineReader lineScm=new ScmLineReader(scmReport);
  assertThat(lineScm.getLatestChange()).isNull();
  readLineAndAssertLatestChangeDate(lineScm,1,changeset0);
  readLineAndAssertLatestChangeDate(lineScm,2,changeset1);
  readLineAndAssertLatestChangeDate(lineScm,3,changeset1);
  readLineAndAssertLatestChangeDate(lineScm,4,changeset2);
  readLineAndAssertLatestChangeDate(lineScm,5,changeset2);
  readLineAndAssertLatestChangeDate(lineScm,6,changeset2);
  readLineAndAssertLatestChangeDate(lineScm,7,changeset2);
  readLineAndAssertLatestChangeDate(lineScm,8,changeset2);
}
