{
  request.setPathElements("/myapp","/dynamic0.do",null,null);
  ActionMapping mapping=(ActionMapping)moduleConfig.findActionConfig("/dynamic0");
  assertNotNull("Found /dynamic0 mapping",mapping);
  assertNotNull("Mapping has non-null name",mapping.getName());
  assertEquals("Mapping has correct name","dynamic0",mapping.getName());
  assertNotNull("AppConfig has form bean " + mapping.getName(),moduleConfig.findFormBeanConfig(mapping.getName()));
  ActionForm form=RequestUtils.createActionForm(request,mapping,moduleConfig,null);
  assertNotNull("ActionForm returned",form);
  assertTrue("ActionForm of correct type",form instanceof DynaActionForm);
  DynaActionForm dform=(DynaActionForm)form;
  Boolean booleanProperty=(Boolean)dform.get("booleanProperty");
  assertTrue("booleanProperty is true",booleanProperty.booleanValue());
  String stringProperty=(String)dform.get("stringProperty");
  assertEquals("stringProperty is correct","String Property",stringProperty);
  Object value=null;
  value=dform.get("intArray1");
  assertNotNull("intArray1 exists",value);
  assertTrue("intArray1 is int[]",value instanceof int[]);
  int[] intArray1=(int[])value;
  assertEquals("intArray1 length is correct",3,intArray1.length);
  assertEquals("intArray1[0] value is correct",1,intArray1[0]);
  assertEquals("intArray1[1] value is correct",2,intArray1[1]);
  assertEquals("intArray1[2] value is correct",3,intArray1[2]);
  value=dform.get("intArray2");
  assertNotNull("intArray2 exists",value);
  assertTrue("intArray2 is int[]",value instanceof int[]);
  int[] intArray2=(int[])value;
  assertEquals("intArray2 length is correct",5,intArray2.length);
  assertEquals("intArray2[0] value is correct",0,intArray2[0]);
  assertEquals("intArray2[1] value is correct",0,intArray2[1]);
  assertEquals("intArray2[2] value is correct",0,intArray2[2]);
  assertEquals("intArray2[3] value is correct",0,intArray2[3]);
  assertEquals("intArray2[4] value is correct",0,intArray2[4]);
  value=dform.get("principal");
  assertNotNull("principal exists",value);
  assertTrue("principal is MockPrincipal",value instanceof MockPrincipal);
  value=dform.get("stringArray1");
  assertNotNull("stringArray1 exists",value);
  assertTrue("stringArray1 is int[]",value instanceof String[]);
  String[] stringArray1=(String[])value;
  assertEquals("stringArray1 length is correct",3,stringArray1.length);
  assertEquals("stringArray1[0] value is correct","aaa",stringArray1[0]);
  assertEquals("stringArray1[1] value is correct","bbb",stringArray1[1]);
  assertEquals("stringArray1[2] value is correct","ccc",stringArray1[2]);
  value=dform.get("stringArray2");
  assertNotNull("stringArray2 exists",value);
  assertTrue("stringArray2 is int[]",value instanceof String[]);
  String[] stringArray2=(String[])value;
  assertEquals("stringArray2 length is correct",3,stringArray2.length);
  assertEquals("stringArray2[0] value is correct",new String(),stringArray2[0]);
  assertEquals("stringArray2[1] value is correct",new String(),stringArray2[1]);
  assertEquals("stringArray2[2] value is correct",new String(),stringArray2[2]);
  Object value1=null;
  DynaActionForm dform1=(DynaActionForm)RequestUtils.createActionForm(request,mapping,moduleConfig,null);
  value=dform.get("principal");
  value1=dform1.get("principal");
  assertEquals("Different form beans get equal instance values",value,value1);
  assertTrue("Different form beans get different instances 1",value != value1);
  value=dform.get("stringArray1");
  value1=dform1.get("stringArray1");
  assertTrue("Different form beans get different instances 2",value != value1);
  dform1.set("stringProperty","Different stringProperty value");
  value=dform.get("stringProperty");
  value1=dform1.get("stringProperty");
  assertTrue("Different form beans get different instances 3",value != value1);
}
