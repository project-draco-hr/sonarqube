{
  Settings settings=new Settings().setProperty(CoreProperties.PREVIEW_INCLUDE_PLUGINS,"cockpit").setProperty(CoreProperties.PREVIEW_EXCLUDE_PLUGINS,"views").setProperty(CoreProperties.BATCH_EXCLUDE_PLUGINS,"checkstyle,pmd");
  when(mode.isPreview()).thenReturn(true);
  BatchPluginPredicate predicate=new BatchPluginPredicate(settings,mode);
  assertThat(predicate.getWhites()).containsOnly("cockpit");
  assertThat(predicate.getBlacks()).containsOnly("views","checkstyle","pmd");
}
