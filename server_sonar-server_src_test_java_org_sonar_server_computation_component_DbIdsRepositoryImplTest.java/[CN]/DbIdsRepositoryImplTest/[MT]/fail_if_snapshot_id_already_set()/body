{
  DbIdsRepositoryImpl cache=new DbIdsRepositoryImpl();
  cache.setSnapshotId(SOME_COMPONENT,10L);
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("Snapshot id '10' is already registered in repository for Component '" + SOME_COMPONENT_KEY + "', can not set new id '11'");
  cache.setSnapshotId(SOME_COMPONENT,11L);
}
