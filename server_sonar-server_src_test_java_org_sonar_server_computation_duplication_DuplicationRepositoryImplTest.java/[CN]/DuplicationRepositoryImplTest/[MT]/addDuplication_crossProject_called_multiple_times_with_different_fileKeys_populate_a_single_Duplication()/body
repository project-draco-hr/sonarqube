{
  treeRootHolder.setRoot(FILE_COMPONENT_1);
  underTest.addDuplication(FILE_COMPONENT_1,ORIGINAL_TEXTBLOCK,FILE_KEY_1,DUPLICATE_TEXTBLOCK_2);
  underTest.addDuplication(FILE_COMPONENT_1,ORIGINAL_TEXTBLOCK,FILE_KEY_2,DUPLICATE_TEXTBLOCK_2);
  underTest.addDuplication(FILE_COMPONENT_1,ORIGINAL_TEXTBLOCK,FILE_KEY_2,DUPLICATE_TEXTBLOCK_1);
  Set<Duplication> duplications=underTest.getDuplications(FILE_COMPONENT_1);
  assertThat(duplications).hasSize(1);
  assertDuplication(duplications.iterator().next(),ORIGINAL_TEXTBLOCK,new CrossProjectDuplicate(FILE_KEY_1,DUPLICATE_TEXTBLOCK_2),new CrossProjectDuplicate(FILE_KEY_2,DUPLICATE_TEXTBLOCK_1),new CrossProjectDuplicate(FILE_KEY_2,DUPLICATE_TEXTBLOCK_2));
  assertNoDuplication(FILE_COMPONENT_2);
}
