{
  File dir=props.nonNullValueAsFile(propKey);
  LOG.info("Cleaning or creating temp directory {}",dir.getAbsolutePath());
  if (!createDirectory(props,propKey)) {
    Files.walkFileTree(dir.toPath(),FOLLOW_LINKS,CleanTempDirFileVisitor.VISIT_MAX_DEPTH,new CleanTempDirFileVisitor(dir.toPath()));
  }
  return dir;
}
