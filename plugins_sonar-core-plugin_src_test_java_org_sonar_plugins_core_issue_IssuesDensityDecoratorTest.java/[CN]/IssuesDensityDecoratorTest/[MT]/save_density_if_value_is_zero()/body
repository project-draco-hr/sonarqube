{
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.NCLOC)).thenReturn(new Measure(CoreMetrics.NCLOC,200.0));
  when(context.getMeasure(CoreMetrics.WEIGHTED_VIOLATIONS)).thenReturn(new Measure(CoreMetrics.WEIGHTED_VIOLATIONS,5000.0));
  decorator.decorate(resource,context);
  verify(context).saveMeasure(CoreMetrics.VIOLATIONS_DENSITY,0.0);
}
