{
  String moduleKey=module.getKey();
  String projectKey=root.getKey();
  validateKey(moduleKey);
  ComponentDto moduleDto=loadComponent(moduleKey);
  if (moduleDto == null) {
    return;
  }
  if (moduleDto.projectUuid().equals(moduleDto.uuid())) {
    validationMessages.add(String.format("The project \"%s\" is already defined in SonarQube but not as a module of project \"%s\". " + "If you really want to stop directly analysing project \"%s\", please first delete it from SonarQube and then relaunch the analysis of project \"%s\".",moduleKey,projectKey,moduleKey,projectKey));
  }
 else   if (!moduleDto.projectUuid().equals(root.getUuid())) {
    ComponentDto projectModule=componentDao.selectByUuid(session,moduleDto.projectUuid());
    validationMessages.add(String.format("Module \"%s\" is already part of project \"%s\"",moduleKey,projectModule.key()));
  }
}
