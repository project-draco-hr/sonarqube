{
  if (coll == null) {
    throw new IllegalArgumentException("The collection must not be null");
  }
  for (int i=0; i < 1000; i++) {
    if (coll instanceof BoundedCollection) {
      break;
    }
 else     if (coll instanceof AbstractCollectionDecorator) {
      coll=((AbstractCollectionDecorator)coll).collection;
    }
 else     if (coll instanceof SynchronizedCollection) {
      coll=((SynchronizedCollection)coll).collection;
    }
 else {
      break;
    }
  }
  if (coll instanceof BoundedCollection == false) {
    throw new IllegalArgumentException("The collection is not a bounded collection");
  }
  return new UnmodifiableBoundedCollection((BoundedCollection)coll);
}
