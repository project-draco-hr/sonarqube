{
  Query query=getSession().createQuery("SELECT s.id FROM " + Snapshot.class.getSimpleName() + " s WHERE "+ " EXISTS (FROM "+ ResourceModel.class.getSimpleName()+ " r WHERE r.id=s.resourceId AND r.enabled=:enabled)");
  query.setParameter("enabled",Boolean.FALSE);
  return query.getResultList();
}
