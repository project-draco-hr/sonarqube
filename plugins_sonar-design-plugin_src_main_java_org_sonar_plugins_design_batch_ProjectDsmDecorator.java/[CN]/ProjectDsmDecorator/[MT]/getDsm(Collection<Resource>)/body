{
  CycleDetector<Resource> cycleDetector=new CycleDetector<Resource>(index,subProjects);
  Set<Cycle> cycles=cycleDetector.getCycles();
  MinimumFeedbackEdgeSetSolver solver=new MinimumFeedbackEdgeSetSolver(cycles);
  Set<Edge> feedbackEdges=solver.getEdges();
  Dsm<Resource> dsm=new Dsm<Resource>(index,subProjects,feedbackEdges);
  DsmTopologicalSorter.sort(dsm);
  return dsm;
}
