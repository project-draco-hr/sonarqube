{
  Monitor monitor=mock(Monitor.class);
  App app=new App(monitor);
  Props props=initDefaultProps();
  props.set("sonar.cluster.masterHost","1.2.3.4");
  app.start(props);
  Class<List<JavaCommand>> listClass=(Class<List<JavaCommand>>)(Class)List.class;
  ArgumentCaptor<List<JavaCommand>> argument=ArgumentCaptor.forClass(listClass);
  verify(monitor).start(argument.capture());
  assertThat(argument.getValue()).extracting("key").containsOnly("search");
}
