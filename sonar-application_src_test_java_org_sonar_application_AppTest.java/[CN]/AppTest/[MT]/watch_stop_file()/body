{
  Monitor monitor=mock(Monitor.class);
  App app=new App(monitor);
  Props props=initDefaultProps();
  props.set("sonar.enableStopCommand","true");
  app.start(props);
  assertThat(app.getStopWatcher()).isNotNull();
  assertThat(app.getStopWatcher().isAlive()).isTrue();
  app.getStopWatcher().stopWatching();
  app.getStopWatcher().interrupt();
}
