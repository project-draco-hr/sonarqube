{
  setupData("fixture");
  Collection<ComponentDto> results=dao.selectComponentsByIds(newArrayList(4L));
  assertThat(results).hasSize(1);
  ComponentDto component=results.iterator().next();
  assertThat(component.key()).isEqualTo("org.struts:struts-core:src/org/struts/RequestContext.java");
  assertThat(component.name()).isEqualTo("RequestContext.java");
  assertThat(component.longName()).isEqualTo("org.struts.RequestContext");
  assertThat(component.qualifier()).isEqualTo("FIL");
  assertThat(component.projectId()).isEqualTo(1);
  assertThat(component.subProjectId()).isEqualTo(2);
  assertThat(component.path()).isEqualTo("src/org/struts/RequestContext.java");
  results=dao.selectComponentsByIds(newArrayList(2L));
  assertThat(results).hasSize(1);
  component=results.iterator().next();
  assertThat(component.key()).isEqualTo("org.struts:struts-core");
  assertThat(component.name()).isEqualTo("Struts Core");
  assertThat(component.longName()).isEqualTo("Struts Core");
  assertThat(component.qualifier()).isEqualTo("BRC");
  assertThat(component.subProjectId()).isEqualTo(1);
  assertThat(component.projectId()).isEqualTo(1);
  assertThat(component.path()).isNull();
  results=dao.selectComponentsByIds(newArrayList(1L));
  assertThat(results).hasSize(1);
  component=results.iterator().next();
  assertThat(component.key()).isEqualTo("org.struts:struts");
  assertThat(component.name()).isEqualTo("Struts");
  assertThat(component.longName()).isEqualTo("Apache Struts");
  assertThat(component.qualifier()).isEqualTo("TRK");
  assertThat(component.subProjectId()).isNull();
  assertThat(component.projectId()).isEqualTo(1);
  assertThat(component.path()).isNull();
}
