{
  InputFileCache cache=new InputFileCache(caches);
  cache.put("struts",DefaultInputFile.create(temp.newFile(),"src/main/java/Foo.java",Maps.<String,String>newHashMap()));
  cache.put("struts-core",DefaultInputFile.create(temp.newFile(),"src/main/java/Foo.java",Maps.<String,String>newHashMap()));
  assertThat(cache.byModule("struts")).hasSize(1);
  assertThat(cache.byModule("struts-core")).hasSize(1);
  assertThat(cache.all()).hasSize(2);
  for (  InputFile inputFile : cache.all()) {
    assertThat(inputFile.path()).startsWith("src/main/java");
  }
  assertThat(cache.fileRelativePaths("struts-core")).containsOnly("src/main/java/Foo.java");
  cache.removeModule("struts");
  assertThat(cache.byModule("struts")).hasSize(0);
  assertThat(cache.byModule("struts-core")).hasSize(1);
  assertThat(cache.all()).hasSize(1);
}
