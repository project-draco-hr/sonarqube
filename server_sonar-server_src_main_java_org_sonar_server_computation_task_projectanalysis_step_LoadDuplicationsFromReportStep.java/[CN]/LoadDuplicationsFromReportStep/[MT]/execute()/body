{
  new DepthTraversalTypeAwareCrawler(new TypeAwareVisitorAdapter(CrawlerDepthLimit.FILE,POST_ORDER){
    @Override public void visitFile(    Component file){
      CloseableIterator<ScannerReport.Duplication> duplications=batchReportReader.readComponentDuplications(file.getReportAttributes().getRef());
      try {
        int idGenerator=1;
        while (duplications.hasNext()) {
          loadDuplications(file,duplications.next(),idGenerator);
          idGenerator++;
        }
      }
  finally {
        duplications.close();
      }
    }
  }
).visit(treeRootHolder.getRoot());
}
