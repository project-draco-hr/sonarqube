{
  if (input.getOtherFileRef() != 0) {
    checkArgument(input.getOtherFileRef() != file.getReportAttributes().getRef(),"file and otherFile references can not be the same");
    return new InProjectDuplicate(treeRootHolder.getComponentByRef(input.getOtherFileRef()),convert(input.getRange()));
  }
  return new InnerDuplicate(convert(input.getRange()));
}
