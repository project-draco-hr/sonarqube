{
  Class initialClass=(object instanceof Class ? (Class)object : object.getClass());
  A result=null;
  Class aClass=initialClass;
  while (aClass != null && result == null) {
    result=(A)aClass.getAnnotation(annotationClass);
    aClass=aClass.getSuperclass();
  }
  if (result == null) {
    List<Class> interfaces=ClassUtils.getAllInterfaces(initialClass);
    for (    Class anInterface : interfaces) {
      result=(A)anInterface.getAnnotation(annotationClass);
      if (result != null) {
        break;
      }
    }
  }
  return result;
}
