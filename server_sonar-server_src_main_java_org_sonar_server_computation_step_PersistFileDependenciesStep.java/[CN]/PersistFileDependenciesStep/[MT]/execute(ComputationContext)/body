{
  DbSession session=dbClient.openSession(true);
  try {
    FileDependenciesContext fileDependenciesContext=new FileDependenciesContext(context,session);
    int rootComponentRef=context.getReportMetadata().getRootComponentRef();
    recursivelyProcessComponent(fileDependenciesContext,rootComponentRef,rootComponentRef);
    session.commit();
  }
  finally {
    MyBatis.closeQuietly(session);
  }
}
