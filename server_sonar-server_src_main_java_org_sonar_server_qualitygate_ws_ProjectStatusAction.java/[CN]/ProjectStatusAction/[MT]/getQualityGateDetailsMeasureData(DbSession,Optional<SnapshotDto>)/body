{
  if (!snapshotDto.isPresent()) {
    return Optional.absent();
  }
  List<MeasureDto> measures=dbClient.measureDao().selectBySnapshotIdAndMetricKeys(snapshotDto.get().getId(),Collections.singleton(CoreMetrics.QUALITY_GATE_DETAILS_KEY),dbSession);
  return measures.isEmpty() ? Optional.<String>absent() : Optional.fromNullable(measures.get(0).getData());
}
