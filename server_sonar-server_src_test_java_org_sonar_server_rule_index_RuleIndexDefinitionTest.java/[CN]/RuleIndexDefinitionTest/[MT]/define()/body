{
  RuleIndexDefinition def=new RuleIndexDefinition(new Settings());
  def.define(underTest);
  assertThat(underTest.getIndices()).hasSize(1);
  NewIndex ruleIndex=underTest.getIndices().get("rules");
  assertThat(ruleIndex).isNotNull();
  assertThat(ruleIndex.getTypes().keySet()).containsOnly("rule","activeRule");
  assertThat(ruleIndex.getSettings().get("index.number_of_shards")).isEqualTo(String.valueOf(NewIndex.DEFAULT_NUMBER_OF_SHARDS));
  assertThat(ruleIndex.getSettings().get("index.number_of_replicas")).isEqualTo("0");
}
