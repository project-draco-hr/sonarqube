{
  String text=this.data + "$";
  StringSuffixTree tree=StringSuffixTree.create(text);
  assertThat("number of leaves",tree.getNumberOfLeafs(),is(text.length()));
  assertThat("number of inner nodes",tree.getNumberOfInnerNodes(),lessThan(text.length() - 1));
  assertThat("number of edges",tree.getNumberOfEdges(),is(tree.getNumberOfInnerNodes() + tree.getNumberOfLeafs()));
  for (int beginIndex=0; beginIndex < text.length(); beginIndex++) {
    for (int endIndex=beginIndex + 1; endIndex < text.length() + 1; endIndex++) {
      String substring=text.substring(beginIndex,endIndex);
      assertThat("index of " + substring + " in "+ text,tree.indexOf(substring),is(text.indexOf(substring)));
    }
  }
}
