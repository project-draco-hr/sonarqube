{
  QProfileService profileService=mock(QProfileService.class);
  RuleService ruleService=mock(RuleService.class);
  I18n i18n=mock(I18n.class);
  Languages languages=LanguageTesting.newLanguages(xoo1Key,xoo2Key);
  ProfileImporter[] importers=createImporters(languages);
  controller=new WsTester(new QProfilesWs(new RuleActivationActions(profileService),new BulkRuleActivationActions(profileService,ruleService,i18n),new ProjectAssociationActions(null,null,null,languages),new QProfileCreateAction(null,null,null,languages,importers),new QProfileImportersAction(importers),new QProfileRestoreBuiltInAction(null),new QProfileSearchAction(languages,null,null),new QProfileSetDefaultAction(languages,null,null),new QProfileProjectsAction(null),new QProfileBackupAction(null,null,null,languages),new QProfileRestoreAction(null,languages))).controller(QProfilesWs.API_ENDPOINT);
}
