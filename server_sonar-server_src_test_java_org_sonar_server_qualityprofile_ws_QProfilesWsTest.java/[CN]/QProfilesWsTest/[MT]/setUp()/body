{
  QProfileService profileService=mock(QProfileService.class);
  RuleService ruleService=mock(RuleService.class);
  I18n i18n=mock(I18n.class);
  Languages languages=LanguageTesting.newLanguages(xoo1Key,xoo2Key);
  ProfileImporter[] importers=createImporters(languages);
  controller=new WsTester(new QProfilesWs(new RuleActivationActions(profileService),new BulkRuleActivationActions(profileService,ruleService,i18n,userSessionRule),new ProjectAssociationActions(null,null,null,languages,userSessionRule),new QProfileCreateAction(null,null,null,languages,importers,userSessionRule),new QProfileImportersAction(importers),new QProfileRestoreBuiltInAction(null),new QProfileSearchAction(languages,null,null,null),new QProfileSetDefaultAction(languages,null,null,userSessionRule),new QProfileProjectsAction(null,userSessionRule),new QProfileBackupAction(null,null,null,languages),new QProfileRestoreAction(null,languages,userSessionRule),new QProfileChangelogAction(null,null,null,languages),new QProfileChangeParentAction(null,null,null,languages,userSessionRule),new QProfileCompareAction(null,null,null,languages),new QProfileCopyAction(null,languages,userSessionRule),new QProfileDeleteAction(languages,null,null,userSessionRule),new QProfileExportAction(null,null,null,mock(QProfileExporters.class),languages),new QProfileExportersAction(),new QProfileInheritanceAction(null,null,null,null,languages),new QProfileRenameAction(null,userSessionRule))).controller(QProfilesWs.API_ENDPOINT);
}
