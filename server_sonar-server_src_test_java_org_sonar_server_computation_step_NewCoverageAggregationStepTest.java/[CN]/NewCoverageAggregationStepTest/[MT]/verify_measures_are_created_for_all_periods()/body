{
  treeRootHolder.setRoot(MOST_SIMPLE_ONE_FILE_TREE);
  periodHolder.setPeriods(createPeriod(1),createPeriod(2),createPeriod(3),createPeriod(4),createPeriod(5));
  Measure measure=newMeasureBuilder().setVariations(new MeasureVariations(5d,4d,3d,2d,1d)).createNoValue();
  measureRepository.addRawMeasure(4,NEW_LINES_TO_COVER_KEY,measure);
  underTest.execute();
  assertThat(toEntries(measureRepository.getNewRawMeasures(1))).containsOnly(entryOf(NEW_LINES_TO_COVER_KEY,measure));
  assertThat(toEntries(measureRepository.getNewRawMeasures(2))).containsOnly(entryOf(NEW_LINES_TO_COVER_KEY,measure));
  assertThat(toEntries(measureRepository.getNewRawMeasures(3))).containsOnly(entryOf(NEW_LINES_TO_COVER_KEY,measure));
  assertThat(measureRepository.getNewRawMeasures(4).isEmpty()).isTrue();
}
