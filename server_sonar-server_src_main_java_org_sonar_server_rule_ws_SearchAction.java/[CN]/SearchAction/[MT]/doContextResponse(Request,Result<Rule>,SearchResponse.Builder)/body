{
  QueryContext contextForResponse=loadCommonContext(request);
  writeRules(response,result,contextForResponse);
  if (contextForResponse.getFieldsToReturn().contains("actives")) {
    activeRuleCompleter.completeSearch(doQuery(request),result.getHits(),response);
  }
}
