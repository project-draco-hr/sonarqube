{
  RuleQuery plainQuery=createRuleQuery(new RuleQuery(),request);
  String qProfileKey=request.getQProfile();
  if (qProfileKey != null) {
    QualityProfileDto qProfile=activeRuleCompleter.loadProfile(qProfileKey);
    if (qProfile != null) {
      plainQuery.setLanguages(ImmutableList.of(qProfile.getLanguage()));
    }
  }
  return plainQuery;
}
