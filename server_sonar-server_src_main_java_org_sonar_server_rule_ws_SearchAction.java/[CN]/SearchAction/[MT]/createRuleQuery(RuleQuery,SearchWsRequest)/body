{
  query.setQueryText(request.getQuery());
  query.setSeverities(request.getSeverities());
  query.setRepositories(request.getRepositories());
  query.setAvailableSince(request.getAvailableSince() != null ? parseDate(request.getAvailableSince()).getTime() : null);
  query.setStatuses(toEnums(request.getStatuses(),RuleStatus.class));
  query.setLanguages(request.getLanguages());
  query.setActivation(request.getActivation());
  query.setQProfileKey(request.getQProfile());
  query.setTags(request.getTags());
  query.setInheritance(request.getInheritance());
  query.setActiveSeverities(request.getActiveSeverities());
  query.setIsTemplate(request.getIsTemplate());
  query.setTemplateKey(request.getTemplateKey());
  query.setTypes(toEnums(request.getTypes(),RuleType.class));
  query.setKey(request.getRuleKey());
  String sortParam=request.getSort();
  if (sortParam != null) {
    query.setSortField(sortParam);
    query.setAscendingSort(request.getAsc());
  }
  return query;
}
