{
  UserDto userDto=UserTesting.newUserDto().setLogin("Existing user with same email").setActive(true).setEmail("john@email.com");
  userDao.insert(dbSession,userDto);
  dbSession.commit();
  thrown.expect(UnauthorizedException.class);
  thrown.expectMessage("You can't sign up because email 'john@email.com' is already used by an existing user. " + "This means that you probably already registered with another account.");
  underTest.authenticate(USER_IDENTITY,IDENTITY_PROVIDER);
}
