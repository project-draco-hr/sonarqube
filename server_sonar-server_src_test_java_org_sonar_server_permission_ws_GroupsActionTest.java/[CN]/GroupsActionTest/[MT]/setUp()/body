{
  dbClient=db.getDbClient();
  dbSession=db.getSession();
  permissionFinder=new PermissionFinder(dbClient);
  userSession.login("login").setGlobalPermissions(GlobalPermissions.SYSTEM_ADMIN);
  underTest=new GroupsAction(userSession,permissionFinder);
  ws=new WsActionTester(underTest);
  GroupDto group1=dbClient.groupDao().insert(dbSession,new GroupDto().setName("group-1-name").setDescription("group-1-description"));
  GroupDto group2=dbClient.groupDao().insert(dbSession,new GroupDto().setName("group-2-name").setDescription("group-2-description"));
  GroupDto group3=dbClient.groupDao().insert(dbSession,new GroupDto().setName("group-3-name").setDescription("group-3-description"));
  dbClient.roleDao().insertGroupRole(dbSession,new GroupRoleDto().setGroupId(group1.getId()).setRole(GlobalPermissions.SCAN_EXECUTION));
  dbClient.roleDao().insertGroupRole(dbSession,new GroupRoleDto().setGroupId(group2.getId()).setRole(GlobalPermissions.SCAN_EXECUTION));
  dbClient.roleDao().insertGroupRole(dbSession,new GroupRoleDto().setGroupId(group3.getId()).setRole(GlobalPermissions.SYSTEM_ADMIN));
  dbSession.commit();
}
