{
  userSession.login().setGlobalPermissions(SYSTEM_ADMIN);
  ComponentDto project=componentDb.insertComponent(newProjectDto("project-uuid"));
  GroupDto group=insertGroup(new GroupDto().setName("project-group-name"));
  insertGroupRole(new GroupPermissionDto().setGroupId(group.getId()).setRole(ISSUE_ADMIN).setResourceId(project.getId()));
  GroupDto groupWithoutPermission=insertGroup(new GroupDto().setName("group-without-permission"));
  String result=ws.newRequest().setParam(PARAM_PERMISSION,ISSUE_ADMIN).setParam(PARAM_PROJECT_ID,"project-uuid").execute().getInput();
  assertThat(result).contains("project-group-name").doesNotContain(groupWithoutPermission.getName());
}
