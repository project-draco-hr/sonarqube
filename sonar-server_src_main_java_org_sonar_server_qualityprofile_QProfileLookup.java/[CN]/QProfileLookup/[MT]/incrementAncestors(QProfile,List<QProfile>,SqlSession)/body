{
  if (profile.parent() != null) {
    QualityProfileDto parentDto=dao.selectParent(profile.id(),session);
    if (parentDto == null) {
      throw new IllegalStateException("Cannot find parent of profile : " + profile.id());
    }
    QProfile parent=QProfile.from(parentDto);
    ancestors.add(parent);
    incrementAncestors(parent,ancestors,session);
  }
}
