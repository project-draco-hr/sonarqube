{
  expected.expect(BadRequestException.class);
  expected.expectMessage("Unknown template:");
  final PermissionTemplateDao permissionTemplateDao=mock(PermissionTemplateDao.class);
  when(permissionTemplateDao.selectTemplateByKey("my_template")).thenReturn(null);
  PermissionTemplateUpdater updater=new PermissionTemplateUpdater("my_template",UserRole.USER,"user",permissionTemplateDao,userDao,userSessionRule){
    @Override void doExecute(    Long templateId,    String permission){
    }
  }
;
  updater.executeUpdate();
}
