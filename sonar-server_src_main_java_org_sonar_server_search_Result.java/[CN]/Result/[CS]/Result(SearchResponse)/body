{
  this.hits=new ArrayList<K>();
  this.total=(int)response.getHits().totalHits();
  this.timeInMillis=response.getTookInMillis();
  for (  SearchHit hit : response.getHits()) {
    this.hits.add(getSearchResult(hit));
  }
  if (response.getFacets() != null && !response.getFacets().facets().isEmpty()) {
    this.facets=new HashMap<String,Collection<FacetValue>>();
    for (    Facet facet : response.getFacets().facets()) {
      TermsFacet termFacet=(TermsFacet)facet;
      List<FacetValue> facetValues=new ArrayList<FacetValue>();
      for (      TermsFacet.Entry facetValue : termFacet.getEntries()) {
        facetValues.add(new FacetValue<Integer>(facetValue.getTerm().string(),facetValue.getCount()));
      }
      this.facets.put(facet.getName(),facetValues);
    }
  }
 else {
    this.facets=Collections.emptyMap();
  }
}
