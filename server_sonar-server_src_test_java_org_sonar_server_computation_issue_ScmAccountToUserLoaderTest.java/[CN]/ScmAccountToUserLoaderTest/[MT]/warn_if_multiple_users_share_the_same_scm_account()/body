{
  UserDoc user1=new UserDoc().setLogin("charlie").setName("Charlie").setEmail("charlie@hebdo.com").setActive(true).setScmAccounts(asList("charlie","jesuis@charlie.com"));
  esTester.index(UserIndexDefinition.INDEX,UserIndexDefinition.TYPE_USER,user1.login(),user1.getFields());
  UserDoc user2=new UserDoc().setLogin("another.charlie").setName("Another Charlie").setActive(true).setScmAccounts(asList("charlie"));
  esTester.index(UserIndexDefinition.INDEX,UserIndexDefinition.TYPE_USER,user2.login(),user2.getFields());
  UserIndex index=new UserIndex(esTester.client());
  ScmAccountToUserLoader underTest=new ScmAccountToUserLoader(index);
  assertThat(underTest.load("charlie")).isNull();
  assertThat(logTester.logs(LoggerLevel.WARN)).contains("Multiple users share the SCM account 'charlie': another.charlie, charlie");
}
