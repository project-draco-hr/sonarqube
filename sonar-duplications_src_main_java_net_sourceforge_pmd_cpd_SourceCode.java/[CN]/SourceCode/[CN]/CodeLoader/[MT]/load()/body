{
  LineNumberReader lnr=null;
  try {
    lnr=new LineNumberReader(getReader());
    List<String> lines=new ArrayList<String>();
    String currentLine;
    while ((currentLine=lnr.readLine()) != null) {
      lines.add(currentLine);
    }
    return lines;
  }
 catch (  Exception e) {
    throw new IllegalStateException("Problem while reading " + getFileName() + ":"+ e.getMessage(),e);
  }
 finally {
    Closeables.closeQuietly(lnr);
  }
}
