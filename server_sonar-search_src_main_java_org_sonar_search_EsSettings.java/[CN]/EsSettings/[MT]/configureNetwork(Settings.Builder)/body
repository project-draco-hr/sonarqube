{
  InetAddress host=readHost();
  int port=Integer.parseInt(props.nonNullValue(ProcessProperties.SEARCH_PORT));
  LOGGER.info("Elasticsearch listening on {}:{}",host,port);
  builder.put("discovery.zen.ping.multicast.enabled","false");
  builder.put("transport.tcp.port",port);
  builder.put("transport.host",host.getHostAddress());
  builder.put("network.host",host.getHostAddress());
  builder.put("network.tcp.reuse_address",true);
  int httpPort=getHttpPort();
  if (httpPort < 0) {
    builder.put("http.enabled",false);
  }
 else {
    LOGGER.warn("Elasticsearch HTTP connector is enabled on port {}. MUST NOT BE USED FOR PRODUCTION",httpPort);
    builder.put("http.cors.enabled",true);
    builder.put("http.cors.allow-origin","*");
    builder.put("http.enabled",true);
    builder.put("http.host",host.getHostAddress());
    builder.put("http.port",httpPort);
  }
}
