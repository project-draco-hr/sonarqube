{
  LOGGER.info("Indexing source lines");
  SourceIterator files=new SourceIterator(FILES,LINES_PER_FILE);
  ProgressTask progressTask=new ProgressTask(LOGGER,"files of " + LINES_PER_FILE + " lines",files.count());
  Timer timer=new Timer("SourceIndexer");
  timer.schedule(progressTask,ProgressTask.PERIOD_MS,ProgressTask.PERIOD_MS);
  long start=System.currentTimeMillis();
  tester.get(SourceLineIndexer.class).index(files);
  long end=System.currentTimeMillis();
  timer.cancel();
  long period=end - start;
  long nbDocs=files.count.get() * LINES_PER_FILE;
  LOGGER.info(String.format("%d files indexed in %d ms (%d docs/second)",nbDocs,period,1000 * nbDocs / period));
  LOGGER.info(String.format("Index disk: " + FileUtils.byteCountToDisplaySize(FileUtils.sizeOfDirectory(tester.getEsServerHolder().getHomeDir()))));
}
