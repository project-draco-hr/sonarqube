{
  File dir=temp.newFolder();
  BatchReportWriter writer=new BatchReportWriter(dir);
  writer.writeMetadata(BatchReport.Metadata.newBuilder().setRootComponentRef(1).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(1).build());
  BatchReport.SyntaxHighlighting.HighlightingRule highlightingRule=BatchReport.SyntaxHighlighting.HighlightingRule.newBuilder().setRange(BatchReport.Range.newBuilder().setStartLine(1).setEndLine(1).build()).setType(Constants.HighlightingType.ANNOTATION).build();
  writer.writeComponentSyntaxHighlighting(1,Arrays.asList(highlightingRule));
  BatchReportReader sut=new BatchReportReader(dir);
  assertThat(sut.readComponentSyntaxHighlighting(1)).hasSize(1);
  assertThat(sut.readComponentSyntaxHighlighting(1).get(0).getRange()).isNotNull();
  assertThat(sut.readComponentSyntaxHighlighting(1).get(0).getType()).isEqualTo(Constants.HighlightingType.ANNOTATION);
}
