{
  canCreateTemporaryFiles();
  configureHome();
  Properties configuration=getConfiguration();
  String host=configuration.getProperty("sonar.web.host",DEFAULT_WEB_HOST);
  int port=Integer.parseInt(configuration.getProperty("sonar.web.port","" + DEFAULT_WEB_PORT));
  String context=configuration.getProperty("sonar.web.context",DEFAULT_WEB_CONTEXT);
  String ajp13Host=configuration.getProperty("sonar.ajp13.host",DEFAULT_AJP13_HOST);
  int ajp13Port=Integer.parseInt(configuration.getProperty("sonar.ajp13.port","" + DEFAULT_AJP13_PORT));
  JettyEmbedder jetty=new JettyEmbedder(host,port,context,ajp13Host,ajp13Port,StartServer.class.getResource("/jetty.xml"));
  configureRequestLogs(jetty,configuration);
  jetty.start();
  Thread.currentThread().join();
}
