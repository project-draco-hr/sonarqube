{
  int size=this.size();
  Object[] result=null;
  if (array.length >= size) {
    result=array;
  }
 else {
    result=(Object[])Array.newInstance(array.getClass().getComponentType(),size);
  }
  int offset=0;
  for (int i=0; i < this.all.length; ++i) {
    for (Iterator it=this.all[i].iterator(); it.hasNext(); ) {
      result[offset++]=it.next();
    }
  }
  if (result.length > size) {
    result[size]=null;
  }
  return result;
}
