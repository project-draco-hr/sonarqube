{
  MeasureDto out=new MeasureDto();
  out.setMetricId(metric.getId());
  out.setComponentId(dbIdsRepository.getComponentId(component));
  out.setSnapshotId(dbIdsRepository.getSnapshotId(component));
  out.setRuleId(measure.getRuleId());
  if (measure.hasVariations()) {
    setVariations(out,measure.getVariations());
  }
  if (measure.hasQualityGateStatus()) {
    setAlert(out,measure.getQualityGateStatus());
  }
  Developer developer=measure.getDeveloper();
  if (developer != null) {
    out.setDeveloperId(dbIdsRepository.getDeveloperId(developer));
  }
  out.setDescription(measure.getDescription());
  out.setValue(valueAsDouble(measure));
  out.setData(data(measure));
  return out;
}
