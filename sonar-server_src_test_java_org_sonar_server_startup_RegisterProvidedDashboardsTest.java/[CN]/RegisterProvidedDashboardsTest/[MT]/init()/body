{
  dashboardDao=mock(DashboardDao.class);
  activeDashboardDao=mock(ActiveDashboardDao.class);
  loadedTemplateDao=mock(LoadedTemplateDao.class);
  i18nManager=mock(I18nManager.class);
  when(i18nManager.message(Locale.ENGLISH,"widget.fake-widget.name","")).thenReturn("Fake Widget");
  when(i18nManager.message(Locale.ENGLISH,"dashboard.fake-dashboard.name","Fake")).thenReturn("Fake Dashboard");
  fakeDashboardTemplate=new FakeDashboard();
  registerProvidedDashboards=new RegisterProvidedDashboards(new DashboardTemplate[]{fakeDashboardTemplate},dashboardDao,activeDashboardDao,loadedTemplateDao,i18nManager);
}
