{
  doThrow(RuntimeException.class).when(periodCleaner).clean(any(DbSession.class),anyLong(),any(Settings.class));
  sut.purge(mock(DbSession.class),mock(PurgeConfiguration.class),mock(Settings.class));
  verify(periodCleaner,times(1)).clean(any(DbSession.class),anyLong(),any(Settings.class));
}
