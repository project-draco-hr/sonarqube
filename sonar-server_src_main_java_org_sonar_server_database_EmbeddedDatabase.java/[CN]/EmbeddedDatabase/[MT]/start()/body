{
  if (dbHome.exists() && !dbHome.isDirectory()) {
    throw new SonarException("Database home " + dbHome.getPath() + " is not a directory");
  }
  if (!dbHome.exists()) {
    dbHome.mkdirs();
  }
  System.setProperty("derby.system.home",dbHome.getPath());
  saveDerbyPropertiesFile();
  startListening();
  Logs.INFO.info("Embedded database started. Data stored in: " + dbHome.getAbsolutePath());
}
