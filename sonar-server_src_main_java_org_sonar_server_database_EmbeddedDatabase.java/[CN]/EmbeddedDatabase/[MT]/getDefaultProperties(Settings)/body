{
  Properties props=new Properties();
  props.setProperty("derby.drda.startNetworkServer","true");
  props.setProperty("derby.drda.host",StringUtils.defaultIfBlank(settings.getString("sonar.derby.drda.host"),"localhost"));
  props.setProperty("derby.drda.portNumber",StringUtils.defaultIfBlank(settings.getString("sonar.derby.drda.portNumber"),"1527"));
  props.setProperty("derby.drda.maxThreads",StringUtils.defaultIfBlank(settings.getString("sonar.derby.drda.maxThreads"),"20"));
  props.setProperty("derby.drda.minThreads",StringUtils.defaultIfBlank(settings.getString("sonar.derby.drda.minThreads"),"2"));
  props.setProperty("derby.drda.logConnections",StringUtils.defaultIfBlank(settings.getString("sonar.derby.drda.logConnections"),"false"));
  props.setProperty("derby.stream.error.logSeverityLevel",StringUtils.defaultIfBlank(settings.getString("sonar.derby.stream.error.logSeverityLevel"),"20000"));
  props.setProperty("derby.connection.requireAuthentication","true");
  props.setProperty("derby.user." + DEFAULT_USER,DEFAULT_PWD);
  return props;
}
