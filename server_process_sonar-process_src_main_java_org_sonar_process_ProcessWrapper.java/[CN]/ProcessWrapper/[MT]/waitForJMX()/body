{
  JMXServiceURL jmxUrl=JmxUtils.serviceUrl(LoopbackAddress.get(),jmxPort);
  for (int i=0; i < 5; i++) {
    try {
      Thread.sleep(1000L);
      JMXConnector jmxConnector=JMXConnectorFactory.connect(jmxUrl,null);
      jmxConnector.addConnectionNotificationListener(new NotificationListener(){
        @Override public void handleNotification(        Notification notification,        Object handback){
          LOGGER.debug("JMX Connection Notification:{}",notification.getMessage());
        }
      }
,null,null);
      MBeanServerConnection mBeanServer=jmxConnector.getMBeanServerConnection();
      return JMX.newMBeanProxy(mBeanServer,JmxUtils.objectName(processName),ProcessMXBean.class);
    }
 catch (    Exception ignored) {
      LOGGER.info(String.format("Could not connect to JMX (attempt %d). Trying again.",i),ignored);
    }
  }
  return null;
}
