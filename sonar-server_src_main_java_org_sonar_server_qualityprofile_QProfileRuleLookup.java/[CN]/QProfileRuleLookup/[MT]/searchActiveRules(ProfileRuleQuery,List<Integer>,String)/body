{
  SearchRequestBuilder activeRuleBuilder=index.client().prepareSearch(INDEX_RULES).setTypes(TYPE_ACTIVE_RULE).setPostFilter(boolFilter().must(termFilter(ActiveRuleDocument.FIELD_PROFILE_ID,query.profileId()),hasParentFilter(TYPE_RULE,termsFilter(RuleDocument.FIELD_ID,ruleIds)))).setSize(ruleIds.size());
  if (fields.length > 0) {
    activeRuleBuilder.addFields(fields);
  }
  return index.executeRequest(activeRuleBuilder);
}
