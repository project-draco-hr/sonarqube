{
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.FILES)).thenReturn(new Measure(CoreMetrics.FILES,4.0));
  when(context.getChildrenMeasures(CoreMetrics.LCOM4)).thenReturn(Arrays.asList(newLcom4(1),newLcom4(3),newLcom4(5),newLcom4(1)));
  SuspectLcom4DensityDecorator decorator=new SuspectLcom4DensityDecorator();
  decorator.decorate(new JavaPackage("org.foo"),context);
  verify(context).saveMeasure(CoreMetrics.SUSPECT_LCOM4_DENSITY,50.0);
}
