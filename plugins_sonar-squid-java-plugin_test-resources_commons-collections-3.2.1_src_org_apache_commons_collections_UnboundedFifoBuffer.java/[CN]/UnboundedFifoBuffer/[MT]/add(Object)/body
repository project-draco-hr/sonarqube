{
  if (obj == null) {
    throw new NullPointerException("Attempted to add null object to buffer");
  }
  if (size() + 1 >= m_buffer.length) {
    Object[] tmp=new Object[((m_buffer.length - 1) * 2) + 1];
    int j=0;
    for (int i=m_head; i != m_tail; ) {
      tmp[j]=m_buffer[i];
      m_buffer[i]=null;
      j++;
      i++;
      if (i == m_buffer.length) {
        i=0;
      }
    }
    m_buffer=tmp;
    m_head=0;
    m_tail=j;
  }
  m_buffer[m_tail]=obj;
  m_tail++;
  if (m_tail >= m_buffer.length) {
    m_tail=0;
  }
  return true;
}
