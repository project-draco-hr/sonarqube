{
  Bucket bucket=getOrCreateBucket(resource,false);
  if (!bucket.isExcluded()) {
    if (bucket.isSourceSaved()) {
      LOG.warn("Trying to save twice the source of " + resource);
    }
 else {
      session.save(new SnapshotSource(bucket.getSnapshotId(),source));
      bucket.setSourceSaved(true);
    }
  }
}
