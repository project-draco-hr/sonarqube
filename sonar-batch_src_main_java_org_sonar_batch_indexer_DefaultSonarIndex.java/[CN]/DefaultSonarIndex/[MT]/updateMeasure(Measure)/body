{
  if (measure.getId() == null) {
    throw new IllegalStateException("Measure can not be updated because it has never been saved");
  }
  MeasureModel model=session.reattach(MeasureModel.class,measure.getId());
  model=MeasureModel.build(measure,model);
  model.setMetric(measuresDao.getMetric(measure.getMetric()));
  model.save(session);
  return measure;
}
