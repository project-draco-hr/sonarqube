{
  try {
    if (datasource != null) {
      datasource.close();
    }
    DriverManager.getConnection("jdbc:derby:memory:sonar;shutdown=true;user=sonar;password=sonar");
  }
 catch (  SQLException e) {
    throw new IllegalStateException("Fail to stop Derby",e);
  }
}
