{
  Filter filter=new DeleteAllFilter(DateUtils.parseDate("2011-12-25"));
  List<PurgeableSnapshotDto> toDelete=filter.filter(Arrays.<PurgeableSnapshotDto>asList(DbCleanerTestUtils.createSnapshotWithDate(1L,"2010-01-01"),DbCleanerTestUtils.createSnapshotWithDate(2L,"2010-12-25"),DbCleanerTestUtils.createSnapshotWithDate(3L,"2012-01-01")));
  assertThat(toDelete.size(),is(2));
  assertThat(toDelete,hasItem(new DbCleanerTestUtils.SnapshotMatcher(1L)));
  assertThat(toDelete,hasItem(new DbCleanerTestUtils.SnapshotMatcher(2L)));
}
