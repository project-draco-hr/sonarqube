{
  Project module=event.getProject();
  if (event.isStart()) {
    decoratorsProfiler=new DecoratorsProfiler();
    currentModuleProfiling=new ModuleProfiling(module,system);
  }
 else {
    currentModuleProfiling.stop();
    modulesProfilings.put(module,currentModuleProfiling);
    long moduleTotalTime=currentModuleProfiling.totalTime();
    println("");
    println(" -------- Profiling of module " + module.getName() + ": "+ TimeUtils.formatDuration(moduleTotalTime)+ " --------");
    println("");
    Properties props=new Properties();
    currentModuleProfiling.dump(props);
    println("");
    println(" -------- End of profiling of module " + module.getName() + " --------");
    println("");
    String fileName=module.getKey() + "-profiler.properties";
    dumpToFile(props,BatchUtils.cleanKeyForFilename(fileName));
    totalProfiling.merge(currentModuleProfiling);
    if (module.isRoot() && !module.getModules().isEmpty()) {
      dumpTotalExecutionSummary();
    }
  }
}
