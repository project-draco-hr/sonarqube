{
  PluginUpdate update=new PluginUpdate();
  update.setRelease(pluginRelease);
  if (pluginRelease.supportSonarVersion(sonarVersion)) {
    update.setStatus(Status.COMPATIBLE);
  }
 else {
    for (    Version requiredSonarVersion : pluginRelease.getRequiredSonarVersions()) {
      if (requiredSonarVersion.compareTo(sonarVersion) > 0) {
        update.setStatus(Status.REQUIRE_SONAR_UPGRADE);
        break;
      }
    }
  }
  return update;
}
