{
  RuleRepositories repositories=new RuleRepositories();
  RulesDefinition.Context context=new RuleDefinitionsLoader(mock(DeprecatedRulesDefinitionLoader.class),repositories,new RulesDefinition[]{new FindbugsDefinitions(),new SquidDefinitions()}).load();
  assertThat(context.repositories()).hasSize(2);
  assertThat(context.repository("findbugs")).isNotNull();
  assertThat(context.repository("squid")).isNotNull();
  assertThat(repositories.repositories()).hasSize(2);
  assertThat(repositories.repository("findbugs")).isNotNull();
  assertThat(repositories.repository("squid")).isNotNull();
}
