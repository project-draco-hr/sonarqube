{
  Settings settings=new Settings();
  settings.setProperty(CoreProperties.PROJECT_INCLUSIONS_PROPERTY,"src/main/java/**/*");
  settings.setProperty(CoreProperties.PROJECT_TEST_INCLUSIONS_PROPERTY,"src/test/java/**/*");
  settings.setProperty(CoreProperties.PROJECT_EXCLUSIONS_PROPERTY,"**/*Dao.java");
  ExclusionFilters filter=new ExclusionFilters(new FileExclusions(settings));
  filter.prepare(fs);
  java.io.File file=temp.newFile();
  assertThat(filter.accept(file,"src/main/java/com/mycompany/FooDao.java",InputFile.Type.MAIN)).isFalse();
  assertThat(filter.accept(file,"src/main/java/com/mycompany/Foo.java",InputFile.Type.MAIN)).isTrue();
  assertThat(filter.accept(file,"src/test/java/com/mycompany/FooDao.java",InputFile.Type.TEST)).isTrue();
}
