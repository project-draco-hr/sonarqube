{
  Settings settings=new Settings();
  ExclusionFilters filter=new ExclusionFilters(new FileExclusions(settings));
  when(fs.testDirs()).thenReturn(Arrays.asList(new File(basedir,"src/test/java")));
  filter.prepare(fs);
  java.io.File file=temp.newFile();
  assertThat(filter.accept(file,"src/test/java/com/mycompany/Foo.java",InputFile.TYPE_MAIN)).isFalse();
  assertThat(filter.accept(file,"src/test2/java/com/mycompany/FooTest.java",InputFile.TYPE_TEST)).isFalse();
  assertThat(filter.accept(file,"src/test/java/com/mycompany/Foo.java",InputFile.TYPE_TEST)).isTrue();
}
