{
  TimeProfiler profiler=new TimeProfiler();
  List<String> indexIds=esIndex.findDocumentIds(SearchQuery.create().index(RuleRegistry.INDEX_RULES).type(ESActiveRule.TYPE_ACTIVE_RULE));
  indexIds.removeAll(newArrayList(ids));
  profiler.start("Remove deleted active rule documents");
  bulkDeleteActiveRules(indexIds);
  profiler.stop();
}
