{
  SearchGlobalPermissionsResponse.Builder response=SearchGlobalPermissionsResponse.newBuilder();
  SearchGlobalPermissionsResponse.Permission.Builder permission=SearchGlobalPermissionsResponse.Permission.newBuilder();
  for (  String permissionKey : GlobalPermissions.ALL) {
    PermissionQuery permissionQuery=permissionQuery(permissionKey);
    response.addGlobalPermissions(permission.clear().setKey(permissionKey).setName(i18nName(permissionKey)).setDescription(i18nDescriptionMessage(permissionKey)).setUsersCount(countUsers(dbSession,permissionQuery)).setGroupsCount(countGroups(dbSession,permissionKey)));
  }
  return response;
}
