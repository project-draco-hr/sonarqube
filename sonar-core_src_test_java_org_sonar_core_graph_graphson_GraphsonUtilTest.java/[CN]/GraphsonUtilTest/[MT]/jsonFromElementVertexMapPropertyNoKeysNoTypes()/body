{
  Vertex v=this.graph.addVertex(1);
  Map map=new HashMap();
  map.put("this","some");
  map.put("that",1);
  v.setProperty("keyMap",map);
  JSONObject json=GraphsonUtil.jsonFromElement(v,null,GraphsonMode.NORMAL);
  assertThat(json).isNotNull();
  assertThat(json.get(GraphSONTokens._ID)).isEqualTo("1");
  assertThat(json.containsKey("keyMap")).isTrue();
  JSONObject mapAsJSON=(JSONObject)json.get("keyMap");
  assertThat(mapAsJSON).isNotNull();
  assertThat(mapAsJSON.containsKey("this")).isTrue();
  assertThat(mapAsJSON.get("this")).isEqualTo("some");
  assertThat(mapAsJSON.containsKey("that")).isTrue();
  assertThat(mapAsJSON.get("that")).isEqualTo(1);
}
