{
  Vertex v=this.graph.addVertex(1);
  v.setProperty("x","X");
  v.setProperty("y","Y");
  v.setProperty("z","Z");
  Vertex innerV=this.graph.addVertex(2);
  innerV.setProperty("x","X");
  innerV.setProperty("y","Y");
  innerV.setProperty("z","Z");
  v.setProperty("v",innerV);
  Set<String> propertiesToInclude=new HashSet<>();
  propertiesToInclude.add("y");
  propertiesToInclude.add("v");
  JSONObject json=GraphsonUtil.jsonFromElement(v,propertiesToInclude,GraphsonMode.NORMAL);
  assertThat(json).isNotNull();
  assertThat(json.get(GraphSONTokens._ID)).isEqualTo("1");
  assertThat(json.get(GraphSONTokens._TYPE)).isEqualTo("vertex");
  assertThat(json.containsKey("x")).isFalse();
  assertThat(json.containsKey("z")).isFalse();
  assertThat(json.containsKey("y")).isTrue();
  assertThat(json.containsKey("v")).isTrue();
  JSONObject innerJson=(JSONObject)json.get("v");
  assertThat(innerJson.containsKey("x")).isFalse();
  assertThat(innerJson.containsKey("z")).isFalse();
  assertThat(innerJson.containsKey("y")).isTrue();
  assertThat(innerJson.containsKey("v")).isFalse();
}
