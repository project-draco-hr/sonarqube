{
  String componentKey="org.apache.struts:struts-core:Action.java";
  DefaultIssue issue=(DefaultIssue)new DefaultIssueBuilder(callback,componentKey).message("msg").line(123).cost(10000.0).ruleKey(RuleKey.of("squid","NullDereference")).severity(Severity.CRITICAL).done();
  assertThat(issue).isNotNull();
  assertThat(issue.key()).isNull();
  assertThat(issue.cost()).isEqualTo(10000.0);
  assertThat(issue.componentKey()).isEqualTo(componentKey);
  assertThat(issue.message()).isEqualTo("msg");
  assertThat(issue.line()).isEqualTo(123);
  assertThat(issue.ruleKey().repository()).isEqualTo("squid");
  assertThat(issue.ruleKey().rule()).isEqualTo("NullDereference");
  assertThat(issue.severity()).isEqualTo(Severity.CRITICAL);
  assertThat(issue.updatedAt()).isNull();
  assertThat(issue.closedAt()).isNull();
  assertThat(issue.assigneeLogin()).isNull();
  assertThat(issue.isNew()).isTrue();
  verify(callback).onIssueCreation(issue);
}
