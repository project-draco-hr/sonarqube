{
  String componentKey="org.apache.struts:struts-core:Action.java";
  DefaultIssue issue=(DefaultIssue)new DefaultIssueBuilder().componentKey(componentKey).description("the desc").line(123).cost(10000.0).ruleKey(RuleKey.of("squid","NullDereference")).severity(Severity.CRITICAL).attribute("JIRA","FOO-123").attribute("YOUTRACK","YT-123").build();
  assertThat(issue).isNotNull();
  assertThat(issue.key()).isNotNull();
  assertThat(issue.cost()).isEqualTo(10000.0);
  assertThat(issue.componentKey()).isEqualTo(componentKey);
  assertThat(issue.description()).isEqualTo("the desc");
  assertThat(issue.line()).isEqualTo(123);
  assertThat(issue.ruleKey().repository()).isEqualTo("squid");
  assertThat(issue.ruleKey().rule()).isEqualTo("NullDereference");
  assertThat(issue.severity()).isEqualTo(Severity.CRITICAL);
  assertThat(issue.technicalCreationDate()).isNotNull();
  assertThat(issue.technicalUpdateDate()).isNotNull();
  assertThat(issue.assignee()).isNull();
  assertThat(issue.isNew()).isTrue();
  assertThat(issue.resolution()).isEqualTo(Issue.RESOLUTION_OPEN);
  assertThat(issue.status()).isEqualTo(Issue.STATUS_OPEN);
  assertThat(issue.attribute("JIRA")).isEqualTo("FOO-123");
  assertThat(issue.attribute("YOUTRACK")).isEqualTo("YT-123");
  assertThat(issue.attributes()).hasSize(2);
}
