{
  when(actionPlanDao.selectByKey("ABCD")).thenReturn(new ActionPlanDto().setKey("ABCD").setProjectKey_unit_test_only(projectKey));
  when(resourceDao.selectResource(any(ResourceQuery.class))).thenReturn(new ResourceDto().setKey(projectKey).setId(1l));
  ActionPlan result=actionPlanService.setStatus("ABCD","CLOSED",projectAdministratorUserSession);
  verify(actionPlanDao).update(any(ActionPlanDto.class));
  assertThat(result).isNotNull();
  assertThat(result.status()).isEqualTo("CLOSED");
}
