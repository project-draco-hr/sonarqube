{
  String permission=validateProjectPermission(request.mandatoryParam(PARAM_PERMISSION));
  PermissionQuery.Builder permissionQuery=PermissionQuery.builder().permission(permission).pageIndex(request.mandatoryParamAsInt(Param.PAGE)).pageSize(request.mandatoryParamAsInt(Param.PAGE_SIZE)).membership(fromSelectionModeToMembership(request.mandatoryParam(Param.SELECTED))).template(template.getUuid()).search(request.param(Param.TEXT_QUERY));
  return permissionQuery.build();
}
