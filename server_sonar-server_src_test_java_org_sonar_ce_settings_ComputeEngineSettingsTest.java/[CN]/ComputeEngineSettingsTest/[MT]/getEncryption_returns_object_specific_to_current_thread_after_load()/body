{
  Encryption defaultEncryption=underTest.getEncryption();
  underTest.load();
  Encryption mainEncryption=underTest.getEncryption();
  assertThat(mainEncryption).isNotSameAs(defaultEncryption);
  EncryptionCaptorThread loadEncryptionCaptor=new EncryptionCaptorThread(true);
  loadEncryptionCaptor.blockingExecute();
  assertThat(loadEncryptionCaptor.encryption).isNotSameAs(defaultEncryption);
  assertThat(loadEncryptionCaptor.encryption).isNotSameAs(mainEncryption);
  EncryptionCaptorThread noLoadEncryptionCaptor=new EncryptionCaptorThread(false);
  noLoadEncryptionCaptor.blockingExecute();
  assertThat(noLoadEncryptionCaptor.encryption).isSameAs(defaultEncryption);
  underTest.unload();
  assertThat(underTest.getEncryption()).isSameAs(defaultEncryption);
}
