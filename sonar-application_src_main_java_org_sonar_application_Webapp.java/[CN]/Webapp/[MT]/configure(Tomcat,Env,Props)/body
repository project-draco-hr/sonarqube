{
  String ctx=props.of("sonar.web.context","/");
  try {
    System.setProperty("SONAR_HOME",env.rootDir().getAbsolutePath());
    Context context=tomcat.addWebapp(ctx,env.file("web").getAbsolutePath());
    context.setConfigFile(env.file("web/META-INF/context.xml").toURL());
    context.setJarScanner(new NullJarScanner());
  }
 catch (  Exception e) {
    throw new IllegalStateException("Fail to configure webapp",e);
  }
}
