{
  String ctx=props.of("sonar.web.context","/");
  try {
    Context context=tomcat.addWebapp(ctx,env.file("web").getAbsolutePath());
    context.setConfigFile(env.file("web/META-INF/context.xml").toURI().toURL());
    context.addParameter("rails.env","production");
    context.addParameter("jruby.max.runtimes","1");
    context.setJarScanner(new NullJarScanner());
  }
 catch (  Exception e) {
    throw new IllegalStateException("Fail to configure webapp",e);
  }
}
