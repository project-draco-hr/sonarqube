{
  setupData("should_persist_component_data");
  Snapshot snapshot=new Snapshot();
  snapshot.setId(100);
  snapshot.setResourceId(200);
  resourceCache.add(new Project("myProject").setId(200),null).setSnapshot(snapshot);
  data=new ComponentDataCache(caches);
  data.setStringData("myProject",SnapshotDataTypes.FILE_HASHES,"org/struts/Action.java=123ABC");
  SnapshotDataDao dataDao=new SnapshotDataDao(getMyBatis());
  FileHashesPersister persister=new FileHashesPersister(data,resourceCache,dataDao,getMyBatis());
  persister.persist();
  checkTables("should_persist_component_data",new String[]{"id","created_at","updated_at"},"snapshot_data");
}
