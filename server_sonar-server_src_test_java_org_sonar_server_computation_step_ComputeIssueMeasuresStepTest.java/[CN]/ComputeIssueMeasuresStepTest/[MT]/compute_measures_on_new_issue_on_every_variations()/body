{
  treeRootHolder.setRoot(PROJECT);
  addIssues(FILE.getRef(),createIssue(STATUS_CONFIRMED,BLOCKER,null,RULE_1.getKey(),1388552400000L),createIssue(STATUS_CONFIRMED,BLOCKER,null,RULE_1.getKey(),1421298000000L),createIssue(STATUS_CONFIRMED,BLOCKER,null,RULE_1.getKey(),1423976400000L),createIssue(STATUS_CONFIRMED,BLOCKER,null,RULE_1.getKey(),1426392000000L),createIssue(STATUS_CONFIRMED,BLOCKER,null,RULE_1.getKey(),1429070400000L),createIssue(STATUS_OPEN,BLOCKER,null,RULE_1.getKey(),1433131200000L));
  periodsHolder.setPeriods(newPeriod(1,1420088400000L),newPeriod(2,1422766800000L),newPeriod(3,1425186000000L),newPeriod(4,1427860800000L),newPeriod(5,1430452800000L));
  sut.execute();
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().getVariation1()).isEqualTo(5);
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().getVariation2()).isEqualTo(4);
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().getVariation3()).isEqualTo(3);
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().getVariation4()).isEqualTo(2);
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().getVariation5()).isEqualTo(1);
}
