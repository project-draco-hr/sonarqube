{
  treeRootHolder.setRoot(PROJECT);
  addIssues(FILE.getRef(),createIssue(STATUS_CONFIRMED,BLOCKER,null,RULE_1.getKey(),1388552400000L),createIssue(STATUS_OPEN,BLOCKER,null,RULE_1.getKey(),1433131200000L));
  periodsHolder.setPeriods(newPeriod(3,1420088400000L));
  sut.execute();
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().getVariation3()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().hasVariation1()).isFalse();
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().hasVariation2()).isFalse();
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().hasVariation4()).isFalse();
  assertThat(measureRepository.getRawMeasure(PROJECT,NEW_ISSUES_METRIC).get().getVariations().hasVariation5()).isFalse();
}
