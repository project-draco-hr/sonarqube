{
  treeRootHolder.setRoot(PROJECT);
  periodsHolder.setPeriods();
  addIssues(FILE.getRef(),createIssue(STATUS_OPEN,BLOCKER,RULE_1.getKey()),createIssue(STATUS_OPEN,CRITICAL,RULE_2.getKey()),createIssue(STATUS_OPEN,MAJOR,RULE_3.getKey()),createIssue(STATUS_OPEN,MINOR,RULE_4.getKey()),createIssue(STATUS_OPEN,INFO,RULE_5.getKey()),createIssue(STATUS_OPEN,INFO,RULE_6.getKey()));
  sut.execute();
  assertThat(measureRepository.getRawMeasure(PROJECT,BLOCKER_ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(PROJECT,CRITICAL_ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(PROJECT,MAJOR_ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(PROJECT,MINOR_ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(PROJECT,INFO_ISSUES_METRIC).get().getIntValue()).isEqualTo(2);
}
