{
  rootContainer=new ComponentContainer();
  rootContainer.addSingleton(servletContext);
  rootContainer.addSingleton(new BaseConfiguration());
  rootContainer.addSingleton(ServerSettings.class);
  rootContainer.addSingleton(ServerImpl.class);
  rootContainer.addSingleton(Logback.class);
  rootContainer.addSingleton(EmbeddedDatabaseFactory.class);
  rootContainer.addSingleton(DefaultDatabase.class);
  rootContainer.addSingleton(MyBatis.class);
  rootContainer.addSingleton(DefaultServerUpgradeStatus.class);
  rootContainer.addSingleton(DatabaseServerCompatibility.class);
  for (  Class<? extends DatabaseMigration> migrationClass : DatabaseMigrations.CLASSES) {
    rootContainer.addSingleton(migrationClass);
  }
  rootContainer.addSingleton(DatabaseMigrator.class);
  rootContainer.addSingleton(DatabaseVersion.class);
  for (  Class daoClass : DaoUtils.getDaoClasses()) {
    rootContainer.addSingleton(daoClass);
  }
  rootContainer.addSingleton(PurgeProfiler.class);
  rootContainer.addSingleton(PluginDeployer.class);
  rootContainer.addSingleton(InstalledPluginReferentialFactory.class);
  rootContainer.addSingleton(DefaultServerPluginRepository.class);
  rootContainer.addSingleton(DefaultServerFileSystem.class);
  rootContainer.addSingleton(ApplicationDeployer.class);
  rootContainer.addSingleton(JRubyI18n.class);
  rootContainer.addSingleton(I18nManager.class);
  rootContainer.addSingleton(RuleI18nManager.class);
  rootContainer.addSingleton(GwtI18n.class);
  rootContainer.addSingleton(PreviewDatabaseFactory.class);
  rootContainer.addSingleton(SemaphoreUpdater.class);
  rootContainer.addSingleton(SemaphoresImpl.class);
  rootContainer.addPicoAdapter(new TempFolderProvider());
  rootContainer.addSingleton(TempFolderCleaner.class);
  rootContainer.startComponents();
}
