{
  coreContainer=rootContainer.makeChildContainer();
  coreContainer.as(Characteristics.CACHE).addComponent(Environment.SERVER);
  coreContainer.as(Characteristics.CACHE).addComponent(PluginClassLoaders.class);
  coreContainer.as(Characteristics.CACHE).addComponent(PluginDeployer.class);
  coreContainer.as(Characteristics.CACHE).addComponent(ServerImpl.class);
  coreContainer.as(Characteristics.CACHE).addComponent(DefaultServerFileSystem.class);
  coreContainer.as(Characteristics.CACHE).addComponent(JpaPluginDao.class);
  coreContainer.as(Characteristics.CACHE).addComponent(ServerPluginRepository.class);
  coreContainer.as(Characteristics.CACHE).addComponent(ThreadLocalDatabaseSessionFactory.class);
  coreContainer.as(Characteristics.CACHE).addComponent(HttpDownloader.class);
  coreContainer.as(Characteristics.CACHE).addComponent(UpdateCenterClient.class);
  coreContainer.as(Characteristics.CACHE).addComponent(UpdateCenterMatrixFactory.class);
  coreContainer.as(Characteristics.CACHE).addComponent(PluginDownloader.class);
  coreContainer.as(Characteristics.NO_CACHE).addComponent(FilterExecutor.class);
  coreContainer.as(Characteristics.NO_CACHE).addAdapter(new DatabaseSessionProvider());
  coreContainer.start();
  DatabaseConfiguration dbConfiguration=new DatabaseConfiguration(coreContainer.getComponent(DatabaseSessionFactory.class));
  coreContainer.getComponent(CompositeConfiguration.class).addConfiguration(dbConfiguration);
}
