{
  Workflow workflow=new Workflow();
  workflow.addCommand("resolve");
  Condition condition=mock(Condition.class);
  when(condition.doVerify(any(Review.class),any(WorkflowContext.class))).thenReturn(false);
  workflow.addCondition("resolve",condition);
  workflow.setScreen("resolve",new CommentScreen());
  WorkflowEngine engine=new WorkflowEngine(workflow,mock(ReviewStore.class),new Settings());
  DefaultReview review=new DefaultReview();
  DefaultWorkflowContext context=new DefaultWorkflowContext();
  assertThat(engine.listAvailableScreens(review,context,true)).isEmpty();
  verify(condition).doVerify(review,context);
}
