{
  Violation violation1a=Violation.create(rule1,javaFile).setSeverity(RulePriority.CRITICAL).setLineId(20).setCost(55.6).setMessage("the message");
  Violation violation1b=Violation.create(rule1,javaFile).setSeverity(RulePriority.CRITICAL).setLineId(50).setCost(80.0);
  Violation violation2=Violation.create(rule2,javaFile).setSeverity(RulePriority.MINOR);
  Project project=new Project("project");
  violationPersister.saveViolation(project,violation1a);
  violationPersister.saveViolation(project,violation1b);
  violationPersister.saveViolation(project,violation2);
  checkTables("shouldInsertViolations","rule_failures");
}
