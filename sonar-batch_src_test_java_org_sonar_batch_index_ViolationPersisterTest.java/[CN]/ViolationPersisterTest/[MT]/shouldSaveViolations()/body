{
  Violation violation1a=Violation.create(rule1,javaFile).setPriority(RulePriority.CRITICAL).setLineId(20).setCost(55.6).setMessage("the message");
  Violation violation1b=Violation.create(rule1,javaFile).setPriority(RulePriority.CRITICAL).setLineId(50).setCost(80.0);
  Violation violation2=Violation.create(rule2,javaFile).setPriority(RulePriority.MINOR);
  violationPersister.saveViolation(new Project("project"),violation1a);
  violationPersister.saveViolation(new Project("project"),violation1b);
  violationPersister.saveViolation(new Project("project"),violation2);
  checkTables("shouldInsertViolations","rule_failures");
}
