{
  Violation violation=Violation.create(rule1,javaFile).setPriority(RulePriority.CRITICAL).setLineId(10).setCost(55.6).setMessage("old message");
  violationPersister.saveOrUpdateViolation(new Project("project"),violation);
  assertThat(violation.getCreatedAt(),notNullValue());
  checkTables("shouldUpdateViolation","rule_failures");
}
