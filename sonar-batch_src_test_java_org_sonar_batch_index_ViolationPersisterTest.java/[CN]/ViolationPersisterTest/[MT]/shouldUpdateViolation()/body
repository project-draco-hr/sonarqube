{
  Violation violation=Violation.create(rule1,javaFile).setLineId(20).setCost(55.6);
  RuleFailureModel model=getSession().getSingleResult(RuleFailureModel.class,"id",1);
  violationPersister.saveOrUpdateViolation(new Project("project"),violation,model,null);
  assertThat(violation.getCreatedAt(),notNullValue());
  checkTables("shouldUpdateViolation","rule_failures");
}
