{
  RuleFailureModel pastViolation=getSession().getSingleResult(RuleFailureModel.class,"id",1);
  Violation violation=Violation.create(rule1,javaFile).setSeverity(RulePriority.MAJOR).setMessage("new message");
  violationPersister.saveViolation(project,violation,pastViolation,"line_checksum");
  checkTables("shouldCopyPermanentIdFromPastViolation","rule_failures");
}
