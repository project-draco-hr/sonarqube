{
switch (state) {
case INIT:
    return new Lifecycle();
case STARTING:
  return newLifeCycle(State.INIT,state);
case STARTED:
return newLifeCycle(State.STARTING,state);
case RESTARTING:
return newLifeCycle(State.STARTED,state);
case STOPPING:
return newLifeCycle(State.STARTED,state);
case STOPPED:
return newLifeCycle(State.STOPPING,state);
default :
throw new IllegalArgumentException("Unsupported state " + state);
}
}
