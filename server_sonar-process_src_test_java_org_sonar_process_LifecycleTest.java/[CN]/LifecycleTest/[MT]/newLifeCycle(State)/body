{
switch (state) {
case INIT:
    return new Lifecycle();
case STARTING:
  return newLifeCycle(INIT,state);
case STARTED:
return newLifeCycle(STARTING,state);
case RESTARTING:
return newLifeCycle(STARTED,state);
case STOPPING:
return newLifeCycle(STARTED,state);
case HARD_STOPPING:
return newLifeCycle(STARTING,state);
case STOPPED:
return newLifeCycle(STOPPING,state);
default :
throw new IllegalArgumentException("Unsupported state " + state);
}
}
