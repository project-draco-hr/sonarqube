{
  if (verifyCrossProject(project,LOG) && dao != null && resourcePersister != null) {
    return new SonarDuplicationsIndex(new DbDuplicationsIndex(resourcePersister,project,dao,languageKey));
  }
  return new SonarDuplicationsIndex();
}
