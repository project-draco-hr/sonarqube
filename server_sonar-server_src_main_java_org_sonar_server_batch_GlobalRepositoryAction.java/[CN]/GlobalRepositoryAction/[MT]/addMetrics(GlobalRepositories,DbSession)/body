{
  for (  MetricDto metric : dbClient.metricDao().findEnabled(session)) {
    Boolean optimizedBestValue=metric.isOptimizedBestValue();
    ref.addMetric(new org.sonar.batch.protocol.input.Metric(metric.getId(),metric.getKey(),metric.getValueType(),metric.getDescription(),metric.getDirection(),metric.getName(),metric.isQualitative(),metric.isUserManaged(),metric.getWorstValue(),metric.getBestValue(),optimizedBestValue != null ? optimizedBestValue : false));
  }
}
