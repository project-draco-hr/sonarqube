{
  Configuration conf=mock(Configuration.class);
  when(conf.getString(Matchers.eq(CoreProperties.CORE_RULE_WEIGHTS_PROPERTY),anyString())).thenReturn("foo=0;bar=1;CRITICAL=5");
  final Map<RulePriority,Integer> map=RuleUtils.getPriorityWeights(conf);
  assertThat(map.get(RulePriority.BLOCKER),is(1));
  assertThat(map.get(RulePriority.CRITICAL),is(5));
  assertThat(map.get(RulePriority.MAJOR),is(1));
  assertThat(map.get(RulePriority.MINOR),is(1));
  assertThat(map.get(RulePriority.INFO),is(1));
}
