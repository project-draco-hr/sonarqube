{
  Configuration conf=mock(Configuration.class);
  when(conf.getString(Matchers.eq(CoreProperties.CORE_RULE_WEIGHTS_PROPERTY),anyString())).thenReturn("foo=0;bar=1;CRITICAL=5");
  final Map<RulePriority,Integer> map=RuleUtils.getPriorityWeights(conf);
  assertThat(map.get(RulePriority.BLOCKER)).isEqualTo(1);
  assertThat(map.get(RulePriority.CRITICAL)).isEqualTo(5);
  assertThat(map.get(RulePriority.MAJOR)).isEqualTo(1);
  assertThat(map.get(RulePriority.MINOR)).isEqualTo(1);
  assertThat(map.get(RulePriority.INFO)).isEqualTo(1);
}
