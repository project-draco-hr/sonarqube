{
  String actionKeyWithoutFormatSuffix=actionKey.contains(".") ? actionKey.substring(0,actionKey.lastIndexOf('.')) : actionKey;
  WebService.Controller controller=context.controller(controllerPath);
  if (controller == null) {
    throw new BadRequestException(format("Unknown web service: %s",controllerPath));
  }
  WebService.Action action=controller.action(actionKeyWithoutFormatSuffix);
  if (action == null) {
    throw new BadRequestException(format("Unknown action: %s/%s",controllerPath,actionKeyWithoutFormatSuffix));
  }
  return action;
}
