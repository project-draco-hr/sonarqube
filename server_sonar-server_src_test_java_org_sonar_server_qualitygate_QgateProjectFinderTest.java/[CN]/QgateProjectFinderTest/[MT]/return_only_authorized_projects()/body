{
  userSession.login(userDto.getLogin()).setUserId(userDto.getId().intValue());
  ComponentDto project1=componentDbTester.insertComponent(newProjectDto());
  componentDbTester.insertComponent(newProjectDto());
  dbClient.roleDao().insertUserRole(dbSession,new UserPermissionDto().setUserId(userDto.getId()).setComponentId(project1.getId()).setPermission(UserRole.USER));
  dbTester.commit();
  Association result=underTest.find(builder().gateId(Long.toString(qGate.getId())).build());
  verifyProjects(result,project1.getId());
}
