{
  DbSession dbSession=dbClient.openSession(true);
  try {
    ComponentDto componentDto=settingsWsComponentParameters.getComponent(dbSession,request);
    settingsWsComponentParameters.checkAdminPermission(componentDto);
    Set<String> keys=new HashSet<>(request.mandatoryParamAsStrings(PARAM_KEYS));
    Optional<ComponentDto> component=Optional.ofNullable(componentDto);
    return new ValuesResponseBuilder(loadSettings(dbSession,component,keys),component).build();
  }
  finally {
    dbClient.closeSession(dbSession);
  }
}
