{
  ComponentContainer container=new ComponentContainer();
  container.addSingleton(StartableComponent.class);
  container.startComponents();
  assertThat(container.getComponentByType(StartableComponent.class).started).isTrue();
  assertThat(container.getComponentByType(StartableComponent.class).stopped).isFalse();
  container.stopComponents();
  assertThat(container.getComponentByType(StartableComponent.class).stopped).isTrue();
}
