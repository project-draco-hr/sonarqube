{
  CheckProfile profile=CheckProfileXmlMarshaller.fromXml(new StringReader(expectedXml));
  assertThat(profile.getName(),is("one"));
  assertThat(profile.getLanguage(),is("java"));
  assertThat(profile.getChecks("checkstyle").size(),is(1));
  assertThat(profile.getChecks("unknown").size(),is(0));
  Check check=profile.getChecks("checkstyle").get(0);
  assertThat(check.getRepositoryKey(),is("checkstyle"));
  assertThat(check.getTemplateKey(),is("C1"));
  assertThat(check.getPriority(),is(Priority.MINOR));
  assertThat(check.getProperties().size(),is(2));
  assertThat(check.getProperty("min"),is("1"));
  assertThat(check.getProperty("max"),is("3"));
}
