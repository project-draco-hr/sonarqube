{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.doReturnBody("{\"issues\": [{\"key\": \"ABCDE\"}]}");
  IssueClient client=new DefaultIssueClient(requestFactory);
  client.find(IssueQuery.create().issues("ABC DE"));
  assertThat(httpServer.requestedPath()).isEqualTo("/api/issues/search?issues=ABC%20DE");
  client.find(IssueQuery.create().issues("ABC+BDE"));
  assertThat(httpServer.requestedPath()).isEqualTo("/api/issues/search?issues=ABC%2BBDE");
  client.find(IssueQuery.create().createdAfter(toDate("2013-01-01")));
  assertThat(httpServer.requestedPath()).isEqualTo("/api/issues/search?createdAfter=2013-01-01T00:00:00%2B0100");
}
