{
  final int ruleId=24;
  final RuleDto rule=new RuleDto().setId(ruleId);
  final String tag="polop";
  RuleRuleTagDto existingTag=new RuleRuleTagDto().setTag(tag).setType(RuleTagType.ADMIN);
  when(ruleDao.selectTags(ruleId,session)).thenReturn(ImmutableList.of(existingTag));
  operations.updateTags(rule,ImmutableList.<String>of(),authorizedUserSession);
  verify(ruleDao,atLeast(1)).selectTags(ruleId,session);
  verify(ruleDao).deleteTag(existingTag,session);
  verify(ruleDao).update(rule,session);
  verify(session).commit();
}
