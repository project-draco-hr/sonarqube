{
  Collection<String> messages=Lists.newArrayList();
  String exceptionMessage=message(e.getMessage(),e.l10nKey(),e.l10nParams());
  if (exceptionMessage != null) {
    messages.add(exceptionMessage);
  }
  for (  Message message : e.errors()) {
    messages.add(message(message.text(),message.l10nKey(),message.l10nParams()));
  }
  sendErrors(response,e.httpCode(),messages.toArray(new String[messages.size()]));
}
