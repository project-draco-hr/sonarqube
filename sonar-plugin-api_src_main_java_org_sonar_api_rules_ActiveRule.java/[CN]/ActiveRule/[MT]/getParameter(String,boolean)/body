{
  if (activeRuleParams != null) {
    for (    ActiveRuleParam param : activeRuleParams) {
      if (StringUtils.equals(key,param.getKey())) {
        return param.getValue(useDefaultValueIfNeeded);
      }
    }
  }
  if (useDefaultValueIfNeeded && rule.getParams() != null) {
    RuleParam param=rule.getParam(key);
    if (param != null) {
      return param.getDefaultValue();
    }
  }
  return null;
}
