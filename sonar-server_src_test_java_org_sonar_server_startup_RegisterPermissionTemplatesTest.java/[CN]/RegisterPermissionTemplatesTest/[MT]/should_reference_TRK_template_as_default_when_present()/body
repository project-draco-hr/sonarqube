{
  when(settings.getString(RegisterPermissionTemplates.DEFAULT_PROJECTS_TEMPLATE_PROPERTY)).thenReturn("my_projects_template");
  LoadedTemplateDto expectedTemplate=new LoadedTemplateDto().setKey(PermissionTemplateDto.DEFAULT.getKee()).setType(LoadedTemplateDto.PERMISSION_TEMPLATE_TYPE);
  RegisterPermissionTemplates initializer=new RegisterPermissionTemplates(loadedTemplateDao,permissionTemplateDao,userDao,settings);
  initializer.start();
  verify(loadedTemplateDao).insert(argThat(Matches.template(expectedTemplate)));
  verify(settings).saveProperty(RegisterPermissionTemplates.DEFAULT_TEMPLATE_PROPERTY,"my_projects_template");
  verifyZeroInteractions(permissionTemplateDao);
}
