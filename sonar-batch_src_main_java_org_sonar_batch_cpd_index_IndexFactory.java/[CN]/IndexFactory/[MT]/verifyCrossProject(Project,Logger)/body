{
  boolean crossProject=false;
  if (settings.getBoolean(CoreProperties.CPD_CROSS_PROJECT)) {
    if (mode.isPreview()) {
      logger.info("Cross-project analysis disabled. Not supported in preview mode.");
    }
 else     if (StringUtils.isNotBlank(settings.getString(CoreProperties.PROJECT_BRANCH_PROPERTY))) {
      logger.info("Cross-project analysis disabled. Not supported on project branches.");
    }
 else     if (project == null) {
      logger.info("Cross-project analysis disabled. Not supported in new sensor mode.");
    }
 else {
      logger.info("Cross-project analysis enabled");
      crossProject=true;
    }
  }
 else {
    logger.info("Cross-project analysis disabled");
  }
  return crossProject;
}
