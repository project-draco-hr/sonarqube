{
  XooRulesDefinition def=new XooRulesDefinition();
  RulesDefinition.Context context=new RulesDefinition.Context();
  def.define(context);
  RulesDefinition.Repository repo=context.repository("xoo");
  assertThat(repo).isNotNull();
  assertThat(repo.name()).isEqualTo("Xoo");
  assertThat(repo.language()).isEqualTo("xoo");
  assertThat(repo.rules()).hasSize(7);
  RulesDefinition.Rule rule=repo.rule(OneIssuePerLineSensor.RULE_KEY);
  assertThat(rule.name()).isNotEmpty();
  assertThat(rule.debtSubCharacteristic()).isEqualTo(RulesDefinition.SubCharacteristics.MEMORY_EFFICIENCY);
  assertThat(rule.debtRemediationFunction().type()).isEqualTo(DebtRemediationFunction.Type.LINEAR);
  assertThat(rule.debtRemediationFunction().coefficient()).isEqualTo("1min");
  assertThat(rule.debtRemediationFunction().offset()).isNull();
  assertThat(rule.effortToFixDescription()).isNotEmpty();
}
