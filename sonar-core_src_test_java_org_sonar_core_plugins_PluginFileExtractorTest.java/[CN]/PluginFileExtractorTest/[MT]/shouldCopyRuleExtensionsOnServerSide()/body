{
  File toDir=new File("target/test-tmp/PluginFileExtractorTest/shouldCopyRuleExtensionsOnServerSide");
  FileUtils.forceMkdir(toDir);
  FileUtils.cleanDirectory(toDir);
  DefaultPluginMetadata metadata=DefaultPluginMetadata.create(getFile("sonar-checkstyle-plugin-2.8.jar")).setKey("checkstyle").addDeprecatedExtension(getFile("PluginFileExtractorTest/shouldCopyRuleExtensionsOnServerSide/checkstyle-extension.xml"));
  extractor.install(metadata,toDir);
  assertThat(new File(toDir,"sonar-checkstyle-plugin-2.8.jar").exists(),is(true));
  assertThat(new File(toDir,"checkstyle-extension.xml").exists(),is(true));
}
