{
  machine=StateMachine.builder().states(Issue.STATUS_OPEN,Issue.STATUS_REOPENED,Issue.STATUS_RESOLVED,Issue.STATUS_CLOSED).transition(Transition.builder(DefaultTransitions.CLOSE).from(Issue.STATUS_OPEN).to(Issue.STATUS_CLOSED).functions(new SetResolution(Issue.RESOLUTION_FIXED),SetClosedAt.CLOSED_AT).build()).transition(Transition.builder(DefaultTransitions.CLOSE).from(Issue.STATUS_RESOLVED).to(Issue.STATUS_CLOSED).functions(SetClosedAt.CLOSED_AT).build()).transition(Transition.builder(DefaultTransitions.CLOSE).from(Issue.STATUS_REOPENED).to(Issue.STATUS_CLOSED).functions(SetClosedAt.CLOSED_AT).functions(new SetResolution(Issue.RESOLUTION_FIXED)).build()).transition(Transition.builder(DefaultTransitions.RESOLVE).from(Issue.STATUS_OPEN).to(Issue.STATUS_RESOLVED).functions(new SetResolution(Issue.RESOLUTION_FIXED)).build()).transition(Transition.builder(DefaultTransitions.RESOLVE).from(Issue.STATUS_REOPENED).to(Issue.STATUS_RESOLVED).functions(new SetResolution(Issue.RESOLUTION_FIXED)).build()).transition(Transition.builder(DefaultTransitions.REOPEN).from(Issue.STATUS_RESOLVED).to(Issue.STATUS_REOPENED).functions(new SetResolution(Issue.RESOLUTION_OPEN)).build()).transition(Transition.builder(DefaultTransitions.REOPEN).from(Issue.STATUS_CLOSED).to(Issue.STATUS_REOPENED).functions(new SetResolution(Issue.RESOLUTION_OPEN),new UnsetClosedAt()).build()).transition(Transition.builder(DefaultTransitions.FALSE_POSITIVE).from(Issue.STATUS_OPEN).to(Issue.STATUS_RESOLVED).conditions(new IsManual(false)).functions(new SetResolution(Issue.RESOLUTION_FALSE_POSITIVE)).build()).transition(Transition.builder(DefaultTransitions.FALSE_POSITIVE).from(Issue.STATUS_REOPENED).to(Issue.STATUS_RESOLVED).conditions(new IsManual(false)).functions(new SetResolution(Issue.RESOLUTION_FALSE_POSITIVE)).build()).transition(Transition.builder("automaticclose").from(Issue.STATUS_OPEN).to(Issue.STATUS_CLOSED).conditions(new IsAlive(false),new IsManual(false)).functions(new SetResolution(Issue.RESOLUTION_FIXED),SetClosedAt.CLOSED_AT).automatic().build()).transition(Transition.builder("automaticclose").from(Issue.STATUS_REOPENED).to(Issue.STATUS_CLOSED).conditions(new IsAlive(false)).functions(new SetResolution(Issue.RESOLUTION_FIXED),SetClosedAt.CLOSED_AT).automatic().build()).transition(Transition.builder("automaticclose").from(Issue.STATUS_RESOLVED).to(Issue.STATUS_CLOSED).conditions(new IsAlive(false)).functions(SetClosedAt.CLOSED_AT).automatic().build()).transition(Transition.builder("automaticreopen").from(Issue.STATUS_RESOLVED).to(Issue.STATUS_REOPENED).conditions(new IsAlive(true),new HasResolution(Issue.RESOLUTION_FIXED)).functions(new SetResolution(Issue.RESOLUTION_OPEN)).automatic().build()).build();
}
