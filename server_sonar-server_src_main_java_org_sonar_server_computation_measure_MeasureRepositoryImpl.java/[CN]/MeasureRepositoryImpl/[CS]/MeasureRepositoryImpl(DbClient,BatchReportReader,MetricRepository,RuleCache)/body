{
  this.dbClient=dbClient;
  this.reportReader=reportReader;
  this.batchMeasureToMeasure=new BatchMeasureToMeasure(ruleCache);
  this.batchMeasureToMeasureFunction=new Function<BatchReport.Measure,Measure>(){
    @Nullable @Override public Measure apply(    @Nonnull BatchReport.Measure input){
      return batchMeasureToMeasure.toMeasure(input,metricRepository.getByKey(input.getMetricKey())).get();
    }
  }
;
}
