{
  TimeProfiler profiler=new TimeProfiler(LOG).start("Register dashboards");
  List<DashboardDto> registeredDashboards=Lists.newArrayList();
  for (  DashboardTemplate template : dashboardTemplates) {
    if (shouldRegister(template.getName())) {
      Dashboard dashboard=template.createDashboard();
      DashboardDto dto=register(template.getName(),dashboard);
      if ((dto != null) && (dashboard.isActivated())) {
        registeredDashboards.add(dto);
      }
    }
  }
  activate(registeredDashboards);
  profiler.stop();
}
