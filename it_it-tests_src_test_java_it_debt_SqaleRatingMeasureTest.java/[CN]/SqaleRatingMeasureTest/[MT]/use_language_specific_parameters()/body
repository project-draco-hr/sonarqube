{
  orchestrator.getServer().restoreProfile(FileLocation.ofClasspath("/debt/one-issue-per-line.xml"));
  orchestrator.getServer().provisionProject(PROJECT,PROJECT);
  orchestrator.getServer().associateProjectToQualityProfile(PROJECT,"xoo","one-issue-per-line");
  orchestrator.executeBuild(SonarRunner.create(projectDir("shared/xoo-multi-modules-sample")));
  Measure rating=getMeasure(PROJECT,"sqale_rating");
  assertThat(rating.getIntValue()).isEqualTo(1);
  assertThat(rating.getData()).isEqualTo("A");
  setServerProperty(orchestrator,"languageSpecificParameters","0");
  setServerProperty(orchestrator,"languageSpecificParameters.0.language","xoo");
  setServerProperty(orchestrator,"languageSpecificParameters.0.man_days","1");
  setServerProperty(orchestrator,"languageSpecificParameters.0.size_metric","ncloc");
  orchestrator.executeBuild(SonarRunner.create(projectDir("shared/xoo-multi-modules-sample")).setProfile("one-issue-per-line"));
  rating=getMeasure(PROJECT,"sqale_rating");
  assertThat(rating.getIntValue()).isEqualTo(5);
  assertThat(rating.getData()).isEqualTo("E");
}
