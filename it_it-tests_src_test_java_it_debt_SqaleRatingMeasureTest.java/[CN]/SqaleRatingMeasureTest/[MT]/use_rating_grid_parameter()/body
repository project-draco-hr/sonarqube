{
  orchestrator.getServer().restoreProfile(FileLocation.ofClasspath("/debt/one-issue-per-line.xml"));
  orchestrator.getServer().provisionProject("sample","sample");
  orchestrator.getServer().associateProjectToQualityProfile("sample","xoo","one-issue-per-line");
  orchestrator.executeBuild(SonarRunner.create(projectDir("shared/xoo-sample")));
  Measure rating=getMeasure("sample","sqale_rating");
  assertThat(rating.getIntValue()).isEqualTo(1);
  assertThat(rating.getData()).isEqualTo("A");
  setServerProperty(orchestrator,"ratingGrid","0.001,0.005,0.010,0.015");
  orchestrator.executeBuild(SonarRunner.create(projectDir("shared/xoo-sample")));
  rating=getMeasure("sample","sqale_rating");
  assertThat(rating.getIntValue()).isEqualTo(5);
  assertThat(rating.getData()).isEqualTo("E");
}
