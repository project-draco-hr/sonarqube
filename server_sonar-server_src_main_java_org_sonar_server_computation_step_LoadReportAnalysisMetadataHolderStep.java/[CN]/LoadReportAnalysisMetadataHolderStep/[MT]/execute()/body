{
  BatchReport.Metadata reportMetadata=reportReader.readMetadata();
  checkState(ceTask.getComponentKey().equals(reportMetadata.getProjectKey()),"ProjectKey in report (%s) is not consistent with projectKey under which the report as been submitted (%s)",reportMetadata.getProjectKey(),ceTask.getComponentKey());
  mutableAnalysisMetadataHolder.setRootComponentRef(reportMetadata.getRootComponentRef());
  mutableAnalysisMetadataHolder.setBranch(reportMetadata.hasBranch() ? reportMetadata.getBranch() : null);
  mutableAnalysisMetadataHolder.setAnalysisDate(reportMetadata.getAnalysisDate());
  mutableAnalysisMetadataHolder.setCrossProjectDuplicationEnabled(reportMetadata.hasCrossProjectDuplicationActivated() && reportMetadata.getCrossProjectDuplicationActivated());
}
