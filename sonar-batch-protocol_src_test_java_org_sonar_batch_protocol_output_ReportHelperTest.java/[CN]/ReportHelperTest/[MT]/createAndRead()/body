{
  ReportHelper helper=ReportHelper.create(temp.newFolder());
  helper.saveComponents(new ReportComponents().setRoot(new ReportComponent().setBatchId(1L)));
  helper.saveIssues(1L,Arrays.asList(new ReportIssue().setRuleKey("foo","bar")));
  assertThat(new File(helper.reportRootDir(),"components.json")).exists();
  assertThat(new File(helper.reportRootDir(),"1/issues-1.json")).exists();
  assertThat(helper.getComponents().root().batchId()).isEqualTo(1L);
  assertThat(helper.getIssues(1L)).hasSize(1);
}
