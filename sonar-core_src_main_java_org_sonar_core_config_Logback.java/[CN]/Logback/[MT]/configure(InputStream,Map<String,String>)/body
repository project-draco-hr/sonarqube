{
  LoggerContext lc=(LoggerContext)LoggerFactory.getILoggerFactory();
  try {
    JoranConfigurator configurator=new JoranConfigurator();
    configurator.setContext(configureContext(lc,substitutionVariables));
    configurator.doConfigure(input);
    if (isConsoleEnabled(substitutionVariables)) {
      ((Logger)LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME)).addAppender(consoleAppender(lc));
    }
  }
 catch (  JoranException e) {
  }
 finally {
    IOUtils.closeQuietly(input);
  }
  StatusPrinter.printInCaseOfErrorsOrWarnings(lc);
}
