{
  LoggerContext lc=(LoggerContext)LoggerFactory.getILoggerFactory();
  try {
    JoranConfigurator configurator=new JoranConfigurator();
    configurator.setContext(configureContext(lc,substitutionVariables));
    configurator.doConfigure(input);
    if (isConsoleEnabled(substitutionVariables)) {
      Logger rootLogger=(Logger)LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);
      rootLogger.setAdditive(false);
      rootLogger.detachAppender("LOGFILE");
      rootLogger.addAppender(consoleAppender(lc,substitutionVariables));
    }
  }
 catch (  JoranException e) {
  }
 finally {
    IOUtils.closeQuietly(input);
  }
  StatusPrinter.printInCaseOfErrorsOrWarnings(lc);
}
