{
  Map<String,Object> logDoc=new HashMap<String,Object>();
  logDoc.put(LogFields.KEY.field(),dto.getKey());
  logDoc.put(LogFields.TYPE.field(),dto.getType());
  logDoc.put(LogFields.AUTHOR.field(),dto.getAuthor());
  logDoc.put(LogFields.MESSAGE.field(),dto.getMessage());
  logDoc.put(LogFields.EXECUTION.field(),dto.getExecutionTime());
  logDoc.put(LogFields.DATE.field(),dto.getCreatedAt());
  logDoc.put(LogFields.DETAILS.field(),KeyValueFormat.parse(dto.getData()));
  return ImmutableList.of(new UpdateRequest().replicationType(ReplicationType.ASYNC).doc(logDoc).upsert(logDoc));
}
