{
  Snapshot projectSnapshot=new Snapshot();
  projectSnapshot.setId(1010);
  PastSnapshot projectPastSnapshot=new PastSnapshot("mode",new Date(),projectSnapshot);
  when(periodsDefinition.getRootProjectPastSnapshots()).thenReturn(newArrayList(projectPastSnapshot));
  TimeMachineConfiguration timeMachineConfiguration=new TimeMachineConfiguration(getSession(),new Project("my:project"),periodsDefinition);
  assertThat(timeMachineConfiguration.periods()).hasSize(1);
  assertThat(timeMachineConfiguration.periods().get(0).getDate()).isNull();
}
