{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.stubResponseBody("{\"issue\": {\"key\": \"ABCDE\"}}");
  IssueClient client=new DefaultIssueClient(requestFactory);
  Issue result=client.create(NewIssue.create().component("Action.java").rule("squid:AvoidCycle"));
  assertThat(httpServer.requestedPath()).isEqualTo("/api/issues/create");
  assertThat(httpServer.requestParams()).includes(entry("component","Action.java"),entry("rule","squid:AvoidCycle"));
  assertThat(result).isNotNull();
}
