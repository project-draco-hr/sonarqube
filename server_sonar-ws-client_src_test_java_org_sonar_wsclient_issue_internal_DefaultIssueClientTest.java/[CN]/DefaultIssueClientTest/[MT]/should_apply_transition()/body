{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.stubResponseBody("{\"issue\": {\"key\": \"ABCDE\"}}");
  IssueClient client=new DefaultIssueClient(requestFactory);
  Issue result=client.doTransition("ABCDE","resolve");
  assertThat(httpServer.requestedPath()).isEqualTo("/api/issues/do_transition");
  assertThat(httpServer.requestParams()).containsEntry("issue","ABCDE").containsEntry("transition","resolve");
  assertThat(result).isNotNull();
}
