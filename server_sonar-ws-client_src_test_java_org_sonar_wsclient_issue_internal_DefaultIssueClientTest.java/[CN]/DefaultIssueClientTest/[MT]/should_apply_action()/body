{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.stubResponseBody("{\"issue\": {\"key\": \"ABCDE\"}}");
  IssueClient client=new DefaultIssueClient(requestFactory);
  Issue result=client.doAction("ABCDE","tweet");
  assertThat(httpServer.requestedPath()).isEqualTo("/api/issues/do_action");
  assertThat(httpServer.requestParams()).containsEntry("issue","ABCDE").containsEntry("actionKey","tweet");
  assertThat(result).isNotNull();
}
