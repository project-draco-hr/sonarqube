{
  thrown.expect(RuntimeException.class);
  thrown.expectMessage("Invalid AES key");
  URL resource=getClass().getResource("/org/sonar/api/config/AesCipherTest/bad_secret_key.txt");
  Settings settings=new Settings();
  settings.setProperty(CoreProperties.ENCRYPTION_SECRET_KEY_PATH,new File(resource.toURI()).getCanonicalPath());
  AesCipher cipher=new AesCipher(settings);
  cipher.encrypt("this is a secret");
}
