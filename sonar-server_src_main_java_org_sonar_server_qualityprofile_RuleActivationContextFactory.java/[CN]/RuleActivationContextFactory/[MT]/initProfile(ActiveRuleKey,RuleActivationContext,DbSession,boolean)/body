{
  QualityProfileDto profile=profileDao.selectByNameAndLanguage(key.qProfile().name(),key.qProfile().lang());
  if (profile == null) {
    throw new IllegalArgumentException("Quality profile not found: " + key.qProfile());
  }
  if (parent) {
    context.setParentProfile(profile);
  }
 else {
    context.setProfile(profile);
  }
  return profile;
}
