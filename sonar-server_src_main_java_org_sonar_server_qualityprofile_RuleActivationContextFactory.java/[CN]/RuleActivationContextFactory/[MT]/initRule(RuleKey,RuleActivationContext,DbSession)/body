{
  RuleDto rule=db.ruleDao().getByKey(dbSession,ruleKey);
  if (rule == null) {
    throw new IllegalArgumentException("Rule not found: " + ruleKey);
  }
  if (RuleStatus.REMOVED == RuleStatus.valueOf(rule.getStatus())) {
    throw new IllegalArgumentException("Rule was removed: " + ruleKey);
  }
  context.setRule(rule);
  context.setRuleParams(db.ruleDao().findRuleParamsByRuleKey(rule.getKey(),dbSession));
  return rule;
}
