{
  ActiveRuleDto activeRule=db.activeRuleDao().getByKey(session,key);
  Collection<ActiveRuleParamDto> activeRuleParams=null;
  if (activeRule != null) {
    activeRuleParams=db.activeRuleDao().findParamsByActiveRule(activeRule,session);
  }
  if (parent) {
    context.setParentActiveRule(activeRule);
    context.setParentActiveRuleParams(activeRuleParams);
  }
 else {
    context.setActiveRule(activeRule);
    context.setActiveRuleParams(activeRuleParams);
  }
}
