{
  ActiveRuleDto activeRule=activeRuleDao.getByKey(key,session);
  Collection<ActiveRuleParamDto> activeRuleParams=null;
  if (activeRule != null) {
    context.setActiveRuleParams(activeRuleDao.findParamsByActiveRule(activeRule,session));
  }
  if (parent) {
    context.setParentActiveRule(activeRule);
    context.setParentActiveRuleParams(activeRuleParams);
  }
 else {
    context.setActiveRule(activeRule);
    context.setActiveRuleParams(activeRuleParams);
  }
}
