{
  Tomcat tomcat=mock(Tomcat.class,Mockito.RETURNS_DEEP_STUBS);
  Props props=new Props(new Properties());
  props.set("sonar.path.web",temp.newFolder().getAbsolutePath());
  Logging.configure(tomcat,props);
  verify(tomcat.getHost().getPipeline()).addValve(argThat(new ArgumentMatcher<Valve>(){
    @Override public boolean matches(    Object o){
      LogbackValve v=(LogbackValve)o;
      String confFile=v.getFilename();
      return confFile.endsWith("logback-access.xml");
    }
  }
));
}
