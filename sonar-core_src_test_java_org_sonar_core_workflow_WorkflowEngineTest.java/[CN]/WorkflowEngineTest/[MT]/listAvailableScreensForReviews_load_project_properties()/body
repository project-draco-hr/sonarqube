{
  DefaultWorkflow workflow=new DefaultWorkflow();
  workflow.addCommand("resolve");
  workflow.addCondition("resolve",new HasProjectPropertyCondition("foo"));
  ReviewStore store=mock(ReviewStore.class);
  WorkflowEngine engine=new WorkflowEngine(workflow,store,new Settings());
  engine.listAvailableScreens(new DefaultReview[]{new DefaultReview().setViolationId(1000L),new DefaultReview().setViolationId(2000L)},new DefaultWorkflowContext().setProjectId(300L),true);
  verify(store).completeProjectSettings(eq(300L),any(Settings.class),(List<String>)argThat(hasItem("foo")));
}
