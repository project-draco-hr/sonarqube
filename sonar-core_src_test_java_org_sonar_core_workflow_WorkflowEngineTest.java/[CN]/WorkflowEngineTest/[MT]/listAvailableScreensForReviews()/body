{
  DefaultWorkflow workflow=new DefaultWorkflow();
  workflow.addCommand("command-without-screen");
  workflow.addCommand("resolve");
  CommentScreen screen=new CommentScreen();
  workflow.setScreen("resolve",screen);
  WorkflowEngine engine=new WorkflowEngine(workflow,mock(ReviewStore.class),new Settings());
  ListMultimap<Long,Screen> screens=engine.listAvailableScreens(new DefaultReview[]{new DefaultReview().setViolationId(1000L),new DefaultReview().setViolationId(2000L)},new DefaultWorkflowContext(),true);
  assertThat(screens.size()).isEqualTo(2);
  assertThat(screens.get(1000L)).containsExactly(screen);
  assertThat(screens.get(2000L)).containsExactly(screen);
}
