{
  Graph g=TinkerGraphFactory.createTinkerGraph();
  ByteArrayOutputStream stream=new ByteArrayOutputStream();
  GraphonWriter writer=new GraphonWriter();
  writer.write(g,stream,GraphonMode.COMPACT);
  stream.flush();
  stream.close();
  String jsonString=new String(stream.toByteArray());
  JSONObject rootNode=(JSONObject)JSONValue.parse(jsonString);
  assertThat(rootNode).isNotNull();
  assertThat(rootNode.containsKey(GraphonTokens.MODE)).isTrue();
  assertThat(rootNode.get(GraphonTokens.MODE)).isEqualTo("COMPACT");
  assertThat(rootNode.containsKey(GraphonTokens.VERTICES)).isTrue();
  JSONArray vertices=(JSONArray)rootNode.get(GraphonTokens.VERTICES);
  assertThat(vertices).hasSize(6);
  assertThat(rootNode.containsKey(GraphonTokens.EDGES)).isTrue();
  JSONArray edges=(JSONArray)rootNode.get(GraphonTokens.EDGES);
  assertThat(edges).hasSize(6);
}
