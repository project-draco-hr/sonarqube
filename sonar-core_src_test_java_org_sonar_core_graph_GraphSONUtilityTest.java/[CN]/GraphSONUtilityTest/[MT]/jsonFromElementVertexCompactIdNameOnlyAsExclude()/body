{
  GraphElementFactory factory=new GraphElementFactory(this.graph);
  Vertex v=this.graph.addVertex(1);
  v.setProperty("name","marko");
  Set<String> propertiesToExclude=new HashSet<String>(){
{
      add(GraphSONTokens._TYPE);
    }
  }
;
  ElementPropertyConfig config=new ElementPropertyConfig(propertiesToExclude,null,ElementPropertyConfig.ElementPropertiesRule.EXCLUDE,ElementPropertyConfig.ElementPropertiesRule.EXCLUDE);
  GraphSONUtility utility=new GraphSONUtility(GraphSONMode.COMPACT,factory,config);
  JSONObject json=utility.jsonFromElement(v);
  assertThat(json).isNotNull();
  assertThat(json.containsKey(GraphSONTokens._TYPE)).isFalse();
  assertThat(json.containsKey(GraphSONTokens._ID)).isTrue();
  assertThat(json.containsKey("name")).isTrue();
}
