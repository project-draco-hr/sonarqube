{
  Connector[] connectors=tomcat.getService().findConnectors();
  for (  Connector connector : connectors) {
    if (StringUtils.containsIgnoreCase(connector.getProtocol(),"AJP")) {
      logAjp(connector);
    }
 else     if (StringUtils.equalsIgnoreCase(connector.getScheme(),"http")) {
      logHttp(connector);
    }
 else {
      throw new IllegalArgumentException("Unsupported connector: " + connector);
    }
  }
}
