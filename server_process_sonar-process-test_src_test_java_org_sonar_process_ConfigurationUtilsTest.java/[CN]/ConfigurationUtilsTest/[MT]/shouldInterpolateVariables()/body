{
  Properties input=new Properties();
  input.setProperty("hello","world");
  input.setProperty("url","${env:SONAR_JDBC_URL}");
  input.setProperty("do_not_change","${SONAR_JDBC_URL}");
  Map<String,String> variables=Maps.newHashMap();
  variables.put("SONAR_JDBC_URL","jdbc:h2:mem");
  Properties output=ConfigurationUtils.interpolateVariables(input,variables);
  assertThat(output.size(),is(3));
  assertThat(output.getProperty("hello"),is("world"));
  assertThat(output.getProperty("url"),is("jdbc:h2:mem"));
  assertThat(output.getProperty("do_not_change"),is("${SONAR_JDBC_URL}"));
  assertThat(input.size(),is(3));
  assertThat(input.getProperty("hello"),is("world"));
  assertThat(input.getProperty("url"),is("${env:SONAR_JDBC_URL}"));
  assertThat(input.getProperty("do_not_change"),is("${SONAR_JDBC_URL}"));
}
