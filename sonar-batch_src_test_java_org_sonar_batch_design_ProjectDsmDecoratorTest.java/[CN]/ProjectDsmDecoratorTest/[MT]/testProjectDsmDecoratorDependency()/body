{
  Dependency dependency=new Dependency(module1,module2).setWeight(1).setId(51L);
  when(index.getEdge(module1,module2)).thenReturn(dependency);
  when(index.hasEdge(module1,module2)).thenReturn(true);
  when(index.getOutgoingEdges(module1)).thenReturn(Arrays.asList(dependency));
  when(index.getIncomingEdges(module2)).thenReturn(Arrays.asList(dependency));
  decorator.decorate(root,rootContext);
  verify(rootContext,times(1)).saveMeasure(any(Measure.class));
  verify(rootContext).saveMeasure(isMeasureWithValue(CoreMetrics.DEPENDENCY_MATRIX,"[{\"i\":1,\"n\":\"Module1\",\"q\":\"BRC\",\"v\":[{},{}]},{\"i\":2,\"n\":\"Module2\",\"q\":\"BRC\",\"v\":[{\"i\":51,\"w\":1},{}]}]"));
}
