{
  if (isType(extension,ServerExtension.class)) {
    if (!acceptProvider && (isType(extension,ExtensionProvider.class) || extension instanceof ExtensionProvider)) {
      LoggerFactory.getLogger(getClass()).error("ExtensionProvider can not include providers itself: " + extension);
    }
 else {
      container.as(Characteristics.CACHE).addComponent(getExtensionKey(extension),extension);
    }
  }
}
