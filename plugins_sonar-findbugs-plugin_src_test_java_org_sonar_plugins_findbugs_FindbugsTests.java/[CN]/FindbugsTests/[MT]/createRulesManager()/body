{
  RulesManager rulesManager=mock(RulesManager.class);
  when(rulesManager.getPluginRule(eq(CoreProperties.FINDBUGS_PLUGIN),anyString())).thenAnswer(new Answer<Rule>(){
    public Rule answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      Rule rule=Rule.create();
      rule.setPluginName((String)args[0]);
      rule.setKey((String)args[1]);
      return rule;
    }
  }
);
  return rulesManager;
}
