{
  updater=mock(IssueUpdater.class);
  changeDao=mock(IssueChangeDao.class);
  storage=mock(IssueStorage.class);
  finder=mock(DefaultIssueFinder.class);
  Issue issue=mock(Issue.class);
  IssueQueryResult result=new DefaultIssueQueryResult(Lists.newArrayList(issue));
  stub(finder.find(any(IssueQuery.class))).toReturn(result);
  issueNotifications=mock(IssueNotifications.class);
  issueCommentService=new IssueCommentService(updater,changeDao,storage,finder,issueNotifications);
}
