{
  List<Snapshot> snapshots=Lists.newLinkedList();
  snapshots.add(createSnapshot(1,day(-100)));
  snapshots.add(createSnapshot(2,day(-70)));
  snapshots.add(createSnapshot(3,day(-40)));
  snapshots.add(createSnapshot(4,day(-10)));
  assertThat(new KeepSnapshotsBetweenTwoDatesFilter(new Date(),day(-1)).filter(snapshots),is(0));
  assertThat(snapshots.size(),is(4));
  assertThat(new KeepSnapshotsBetweenTwoDatesFilter(new Date(),day(-80)).filter(snapshots),is(3));
  assertThat(snapshots.size(),is(1));
  assertThat(snapshots.get(0).getId(),is(1));
}
