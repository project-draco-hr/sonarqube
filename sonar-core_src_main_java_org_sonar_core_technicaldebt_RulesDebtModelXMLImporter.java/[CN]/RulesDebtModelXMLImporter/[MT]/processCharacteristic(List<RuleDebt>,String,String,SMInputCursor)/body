{
  String currentCharacteristicKey=null;
  SMInputCursor cursor=chcCursor.childElementCursor();
  while (cursor.getNext() != null) {
    String node=cursor.getLocalName();
    if (StringUtils.equals(node,CHARACTERISTIC_KEY)) {
      currentCharacteristicKey=cursor.collectDescendantText().trim();
    }
 else     if (StringUtils.equals(node,CHARACTERISTIC)) {
      processCharacteristic(ruleDebts,parentKey,currentCharacteristicKey,cursor);
    }
 else     if (StringUtils.equals(node,REPOSITORY_KEY)) {
      RuleDebt ruleDebt=processRule(cursor);
      if (ruleDebt != null) {
        if (rootKey != null) {
          ruleDebt.characteristicKey=parentKey;
          ruleDebts.add(ruleDebt);
        }
 else {
          LOG.warn("Rule '" + ruleDebt.ruleKey + "' is ignored because it's defined directly under a root characteristic.");
        }
      }
    }
  }
}
