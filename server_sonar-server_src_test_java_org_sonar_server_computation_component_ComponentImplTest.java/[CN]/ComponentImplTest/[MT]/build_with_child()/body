{
  ComponentImpl child=builder(ScannerReport.Component.newBuilder().setType(FILE).build()).setKey("CHILD_KEY").setUuid("CHILD_UUID").build();
  ComponentImpl componentImpl=builder(ScannerReport.Component.newBuilder().setType(DIRECTORY).build()).setKey(KEY).setUuid(UUID).addChildren(child).build();
  assertThat(componentImpl.getChildren()).hasSize(1);
  Component childReloaded=componentImpl.getChildren().iterator().next();
  assertThat(childReloaded.getKey()).isEqualTo("CHILD_KEY");
  assertThat(childReloaded.getUuid()).isEqualTo("CHILD_UUID");
  assertThat(childReloaded.getType()).isEqualTo(Component.Type.FILE);
}
