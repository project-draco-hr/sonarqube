{
  String javaVersion=getNormalizedJavaVersion(JavaUtils.getSourceVersion(project));
  if (javaVersion != null) {
    SourceType sourceType=SourceType.getSourceTypeForId("java " + javaVersion);
    if (sourceType != null) {
      LOG.info("Java version: " + javaVersion);
      pmd.setJavaVersion(sourceType);
    }
 else {
      throw new RuntimeException("Unsupported Java version for PMD: " + javaVersion);
    }
  }
}
