{
  List<RulesDefinition.ExtendedRepository> repositories=new ArrayList<RulesDefinition.ExtendedRepository>();
  for (  RulesDefinition.Repository repoDef : context.repositories()) {
    repositories.add(repoDef);
  }
  for (  RulesDefinition.ExtendedRepository extendedRepoDef : context.extendedRepositories()) {
    if (context.repository(extendedRepoDef.key()) == null) {
      LOG.warn(String.format("Extension is ignored, repository %s does not exist",extendedRepoDef.key()));
    }
 else {
      repositories.add(extendedRepoDef);
    }
  }
  return repositories;
}
