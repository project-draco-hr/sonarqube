{
  DuplicateLocation duplicateLocation=input.getLocation();
  if (duplicateLocation instanceof InnerDuplicationLocation) {
    return new InnerDuplicate(input.getDuplicate());
  }
  if (duplicateLocation instanceof InProjectDuplicationLocation) {
    return new InProjectDuplicate(((InProjectDuplicationLocation)duplicateLocation).getComponent(),input.getDuplicate());
  }
  if (duplicateLocation instanceof CrossProjectDuplicationLocation) {
    return new CrossProjectDuplicate(((CrossProjectDuplicationLocation)duplicateLocation).getFileKey(),input.getDuplicate());
  }
  throw new IllegalArgumentException("Unsupported DuplicationLocation type " + duplicateLocation.getClass());
}
