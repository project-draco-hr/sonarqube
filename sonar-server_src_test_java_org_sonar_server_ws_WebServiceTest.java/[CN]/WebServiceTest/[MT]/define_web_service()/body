{
  MetricWebService metricWs=new MetricWebService();
  metricWs.define(context);
  WebService.Controller controller=context.controller("metric");
  assertThat(controller).isNotNull();
  assertThat(controller.key()).isEqualTo("metric");
  assertThat(controller.description()).isEqualTo("Metrics");
  assertThat(controller.since()).isEqualTo("3.2");
  assertThat(controller.isApi()).isTrue();
  assertThat(controller.path()).isEqualTo("ws/metric");
  assertThat(controller.actions()).hasSize(2);
  WebService.Action showAction=controller.action("show");
  assertThat(showAction).isNotNull();
  assertThat(showAction.key()).isEqualTo("show");
  assertThat(showAction.description()).isEqualTo("Show metric");
  assertThat(showAction.handler()).isNotNull();
  assertThat(showAction.since()).isEqualTo("4.1");
  assertThat(showAction.isPost()).isFalse();
  assertThat(showAction.path()).isEqualTo("ws/metric/show");
  WebService.Action createAction=controller.action("create");
  assertThat(createAction).isNotNull();
  assertThat(createAction.key()).isEqualTo("create");
  assertThat(createAction.isPost()).isTrue();
}
