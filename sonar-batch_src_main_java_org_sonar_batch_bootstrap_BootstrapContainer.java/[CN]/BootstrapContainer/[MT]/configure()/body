{
  container.addSingleton(globalProperties);
  if (reactor != null) {
    container.addSingleton(reactor);
  }
  container.addSingleton(new PropertiesConfiguration());
  container.addSingleton(BootstrapSettings.class);
  container.addSingleton(ServerClient.class);
  container.addSingleton(BatchSettings.class);
  container.addSingleton(BatchPluginRepository.class);
  container.addSingleton(ExtensionInstaller.class);
  container.addSingleton(Logback.class);
  container.addSingleton(ServerMetadata.class);
  container.addSingleton(org.sonar.batch.ServerMetadata.class);
  container.addSingleton(TempDirectories.class);
  container.addSingleton(HttpDownloader.class);
  container.addSingleton(UriReader.class);
  container.addSingleton(PluginDownloader.class);
  container.addPicoAdapter(new FileCacheProvider());
  for (  Object component : boostrapperComponents) {
    if (component != null) {
      container.addSingleton(component);
    }
  }
  if (!isMavenPluginExecutorRegistered()) {
    container.addSingleton(FakeMavenPluginExecutor.class);
  }
}
