{
  String fileKey="src/Foo.java";
  when(sourceService.getLinesAsHtml(fileKey,3,5)).thenReturn(newArrayList(" */","","public class <span class=\"sym-31 sym\">HelloWorld</span> {"));
  when(sourceService.getScmAuthorData(fileKey)).thenReturn("1=julien;2=simon;3=simon;4=simon;5=simon;6=simon");
  when(sourceService.getScmDateData(fileKey)).thenReturn("1=2013-03-13T16:22:31+0100;2=2013-03-14T16:22:31+0100;3=2013-03-14T16:22:31+0100;4=2013-03-14T16:22:31+0100;5=2013-03-14T16:22:31+0100;6=2013-03-14T16:22:31+0100;");
  WsTester.TestRequest request=tester.newRequest("show").setParam("key",fileKey).setParam("from","3").setParam("to","5").setParam("scm","true");
  request.execute().assertJson(getClass(),"show_source_with_scm_without_repeating_same_lines_and_with_from_param_after_repetition.json");
}
