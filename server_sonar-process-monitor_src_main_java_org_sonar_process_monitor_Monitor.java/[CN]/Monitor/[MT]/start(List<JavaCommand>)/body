{
  if (commands.isEmpty()) {
    throw new IllegalArgumentException("At least one command is required");
  }
  if (lifecycle.getState() != State.INIT) {
    throw new IllegalStateException("Can not start multiple times");
  }
  Runtime.getRuntime().addShutdownHook(shutdownHook);
  if (watchForHardStop) {
    this.hardStopWatcher=new HardStopWatcherThread();
    this.hardStopWatcher.start();
  }
  this.restartWatcher.start();
  this.javaCommands=commands;
  startProcesses();
}
