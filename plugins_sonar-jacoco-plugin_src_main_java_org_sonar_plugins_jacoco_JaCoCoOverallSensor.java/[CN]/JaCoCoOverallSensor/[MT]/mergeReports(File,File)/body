{
  SessionInfoStore infoStore=new SessionInfoStore();
  ExecutionDataStore dataStore=new ExecutionDataStore();
  loadSourceFiles(infoStore,dataStore,reports);
  BufferedOutputStream outputStream=null;
  try {
    outputStream=new BufferedOutputStream(new FileOutputStream(reportOverall));
    ExecutionDataWriter dataWriter=new ExecutionDataWriter(outputStream);
    infoStore.accept(dataWriter);
    dataStore.accept(dataWriter);
  }
 catch (  IOException e) {
    throw new SonarException(String.format("Unable to write overall coverage report %s",reportOverall.getAbsolutePath()),e);
  }
 finally {
    Closeables.closeQuietly(outputStream);
  }
}
