{
  BulkRequestBuilder bulkRequestBuilder=searchClient.prepareBulk();
  bulkRequestBuilder.add(new UpdateRequest(IndexDefinition.RULE.getIndexName(),IndexDefinition.RULE.getIndexName(),"rule1").doc(Collections.emptyMap()));
  bulkRequestBuilder.add(new DeleteRequest(IndexDefinition.RULE.getIndexName(),IndexDefinition.RULE.getIndexName(),"rule1"));
  bulkRequestBuilder.add(new IndexRequest(IndexDefinition.RULE.getIndexName(),IndexDefinition.RULE.getIndexName(),"rule1").source(Collections.emptyMap()));
  assertThat(bulkRequestBuilder.toString()).contains("ES bulk request for [Action 'UpdateRequest' for key 'rule1' on index 'rules' on type 'rules'],").contains("[Action 'DeleteRequest' for key 'rule1' on index 'rules' on type 'rules'],").contains("[Action 'IndexRequest' for key 'rule1' on index 'rules' on type 'rules'],");
}
