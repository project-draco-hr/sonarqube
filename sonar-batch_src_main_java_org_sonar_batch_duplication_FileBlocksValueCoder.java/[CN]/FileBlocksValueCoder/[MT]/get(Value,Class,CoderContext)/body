{
  String resourceId=value.getString();
  int count=value.getInt();
  List<Block> blocks=new ArrayList<Block>(count);
  for (int i=0; i < count; i++) {
    Block.Builder b=Block.builder();
    b.setResourceId(resourceId);
    b.setBlockHash(new ByteArray(value.getByteArray()));
    b.setIndexInFile(value.getInt());
    int startLine=value.getInt();
    int endLine=value.getInt();
    b.setLines(startLine,endLine);
    int startUnit=value.getInt();
    int endUnit=value.getInt();
    b.setUnit(startUnit,endUnit);
    blocks.add(b.build());
  }
  return new FileBlocks(resourceId,blocks);
}
