{
  try {
    File pluginFile=metadata.getFile();
    File deployedPlugin=copyPlugin(pluginBasedir,pluginFile);
    install(metadata,pluginBasedir,deployedPlugin);
  }
 catch (  IOException e) {
    throw new IllegalStateException(FAIL_TO_INSTALL_PLUGIN + metadata,e);
  }
}
