{
  Runtime.getRuntime().removeShutdownHook(shutdownHook);
  shutdownHook.start();
  if (waitForCompletion) {
    try {
      shutdownHook.join();
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
  }
}
