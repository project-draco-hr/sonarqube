{
  this.env=env;
  this.executor=Executors.newFixedThreadPool(2);
  this.monitor=new MonitorService(systemAvailableSocket());
  this.esPort=Integer.toString(NetworkUtils.freePort());
  this.properties=new HashMap<String,String>();
  if (Arrays.binarySearch(args,"--debug") > -1) {
    properties.put("esDebug","true");
  }
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      shutdown();
    }
  }
);
  monitor.start();
}
