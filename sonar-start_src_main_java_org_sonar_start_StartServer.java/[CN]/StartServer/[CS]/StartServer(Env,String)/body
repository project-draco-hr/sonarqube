{
  this.env=env;
  this.properties=new HashMap<String,String>();
  monitor=new Monitor();
  if (Arrays.binarySearch(args,"--debug") > -1) {
    properties.put("esDebug","true");
  }
  shutdownHook=new Thread(new Runnable(){
    @Override public void run(){
      LOGGER.info("Shutting down all node services");
      monitor.interrupt();
      terminateAndWait(elasticsearch);
      terminateAndWait(sonarqube);
    }
  }
);
  Runtime.getRuntime().addShutdownHook(shutdownHook);
}
