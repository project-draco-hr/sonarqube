{
  Long groupId=null;
  if (DefaultGroups.isAnyone(groupName)) {
    groupId=null;
  }
 else {
    DbSession dbSession=dbClient.openSession(false);
    try {
      GroupDto groupDto=dbClient.groupDao().selectByName(dbSession,groupName);
      if (groupDto != null) {
        groupId=groupDto.getId();
      }
 else {
        LOG.error("Cannot setup default permission for group: " + groupName);
      }
    }
  finally {
      dbClient.closeSession(dbSession);
    }
  }
  dbClient.permissionTemplateDao().insertGroupPermission(template.getId(),groupId,permission);
}
