{
  when(snapshot.getPeriodMode(periodIndex)).thenReturn(CoreProperties.TIMEMACHINE_MODE_PREVIOUS_VERSION);
  when(snapshot.getPeriodModeParameter(periodIndex)).thenReturn(param);
  periods.getLabel(periodIndex);
  verify(i18n).message(Mockito.any(Locale.class),Mockito.eq("since_previous_version_detailed"),Mockito.isNull(String.class),Mockito.eq(param));
  when(snapshot.getPeriodMode(periodIndex)).thenReturn(CoreProperties.TIMEMACHINE_MODE_PREVIOUS_VERSION);
  when(snapshot.getPeriodModeParameter(periodIndex)).thenReturn(null);
  periods.getLabel(periodIndex);
  verify(i18n).message(Mockito.any(Locale.class),Mockito.eq("since_previous_version"),Mockito.isNull(String.class));
}
