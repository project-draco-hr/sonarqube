{
  dbTester.prepareDbUnit(getClass(),"load_data.xml");
  DbClient dbClient=new DbClient(dbTester.database(),dbTester.myBatis(),new FileSourceDao(dbTester.myBatis()));
  SourceLinesCache cache=new SourceLinesCache(dbClient);
  cache.init("FILE_A");
  assertThat(cache.countLines()).isEqualTo(0);
  assertThat(cache.lineAuthor(1)).isEqualTo("charb");
  assertThat(cache.lineAuthor(2)).isEqualTo("cabu");
  assertThat(cache.lineAuthor(3)).isEqualTo("wolinski");
  assertThat(cache.lineAuthor(4)).isEqualTo("cabu");
  assertThat(cache.lineAuthor(100)).isEqualTo("cabu");
  assertThat(cache.countLines()).isEqualTo(4);
  cache.clear();
  assertThat(cache.countLines()).isEqualTo(0);
}
