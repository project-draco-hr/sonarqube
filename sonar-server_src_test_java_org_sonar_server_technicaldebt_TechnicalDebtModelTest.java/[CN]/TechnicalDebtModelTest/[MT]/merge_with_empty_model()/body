{
  Model with=Model.createByName(RegisterTechnicalDebtModel.TECHNICAL_DEBT_MODEL);
  Characteristic efficiency=with.createCharacteristicByKey("efficiency","Efficiency");
  Characteristic ramEfficiency=with.createCharacteristicByKey("ram-efficiency","RAM Efficiency");
  efficiency.addChild(ramEfficiency);
  Characteristic usability=with.createCharacteristicByKey("usability","Usability");
  ValidationMessages messages=ValidationMessages.create();
  defaultCharacteristics.addAll(newArrayList(efficiency,ramEfficiency,usability));
  technicalDebtModel.mergeWith(with,messages,mockRuleCache());
  assertThat(model.getCharacteristics()).hasSize(3);
  assertThat(model.getRootCharacteristics()).hasSize(2);
  assertThat(model.getCharacteristicByKey("ram-efficiency").getDepth()).isEqualTo(Characteristic.ROOT_DEPTH + 1);
  assertThat(messages.getErrors()).isEmpty();
}
