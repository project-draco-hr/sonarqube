{
  DefaultIssue issue=createStandardIssue().setStatus("OPEN");
  when(issueService.getByKey(issue.key())).thenReturn(issue);
  when(actionService.listAvailableActions(issue)).thenReturn(newArrayList("comment","assign","set_tags","assign_to_me","plan"));
  userSessionRule.login("john");
  WsTester.TestRequest request=tester.newGetRequest("api/issues","show").setParam("key",issue.key());
  request.execute().assertJson(getClass(),"show_issue_with_actions.json");
}
