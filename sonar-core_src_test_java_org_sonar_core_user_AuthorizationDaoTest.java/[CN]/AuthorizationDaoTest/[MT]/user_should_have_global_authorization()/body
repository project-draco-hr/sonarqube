{
  setupData("user_should_have_global_permission");
  AuthorizationDao authorization=new AuthorizationDao(getMyBatis());
  Set<String> componentIds=authorization.keepAuthorizedComponentKeys(Sets.<String>newHashSet(PROJECT,PACKAGE,FILE,FILE_IN_OTHER_PROJECT,EMPTY_PROJECT),USER,"project_admin");
  assertThat(componentIds).containsOnly(PROJECT,PACKAGE,FILE,EMPTY_PROJECT);
  componentIds=authorization.keepAuthorizedComponentKeys(Sets.<String>newHashSet(PROJECT,PACKAGE,FILE),USER,"profile_admin");
  assertThat(componentIds).isEmpty();
}
