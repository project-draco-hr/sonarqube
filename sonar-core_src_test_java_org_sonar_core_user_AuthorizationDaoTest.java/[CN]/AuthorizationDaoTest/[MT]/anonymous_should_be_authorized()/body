{
  setupData("anonymous_should_be_authorized");
  AuthorizationDao authorization=new AuthorizationDao(getMyBatis());
  Collection<Long> componentIds=authorization.keepAuthorizedProjectIds(session,Sets.newHashSet(PROJECT_ID,EMPTY_PROJECT_ID),null,"user");
  assertThat(componentIds).containsOnly(PROJECT_ID,EMPTY_PROJECT_ID);
  componentIds=authorization.keepAuthorizedProjectIds(session,Sets.newHashSet(PROJECT_ID),null,"admin");
  assertThat(componentIds).isEmpty();
}
