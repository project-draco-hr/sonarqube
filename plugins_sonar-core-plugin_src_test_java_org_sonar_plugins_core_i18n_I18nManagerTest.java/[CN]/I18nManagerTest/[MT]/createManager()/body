{
  List<InstalledPlugin> plugins=Lists.newArrayList(new InstalledPlugin("test",getClass().getClassLoader()),new InstalledPlugin("fake1",getClass().getClassLoader()),new InstalledPlugin("fake2",getClass().getClassLoader()));
  TestClassLoader englishPackClassLoader=new TestClassLoader(getClass().getClassLoader().getResource("I18n/EnglishPlugin.jar"));
  LanguagePack englishPack=(LanguagePack)englishPackClassLoader.loadClass(ENGLISH_PACK_CLASS_NAME).newInstance();
  TestClassLoader frenchPackClassLoader=new TestClassLoader(getClass().getClassLoader().getResource("I18n/FrenchPlugin.jar"));
  LanguagePack frenchPack=(LanguagePack)frenchPackClassLoader.loadClass(FRENCH_PACK_CLASS_NAME).newInstance();
  TestClassLoader quebecPackClassLoader=new TestClassLoader(getClass().getClassLoader().getResource("I18n/QuebecPlugin.jar"));
  LanguagePack quebecPack=(LanguagePack)quebecPackClassLoader.loadClass(QUEBEC_PACK_CLASS_NAME).newInstance();
  manager=new I18nManager(mock(PluginRepository.class),new LanguagePack[]{frenchPack,quebecPack,englishPack});
  manager.doStart(plugins);
}
