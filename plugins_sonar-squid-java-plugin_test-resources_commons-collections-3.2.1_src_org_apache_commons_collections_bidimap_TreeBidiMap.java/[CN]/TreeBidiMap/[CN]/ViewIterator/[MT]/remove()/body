{
  if (lastReturnedNode == null) {
    throw new IllegalStateException();
  }
  if (main.modifications != expectedModifications) {
    throw new ConcurrentModificationException();
  }
  main.doRedBlackDelete(lastReturnedNode);
  expectedModifications++;
  lastReturnedNode=null;
  if (nextNode == null) {
    previousNode=TreeBidiMap.greatestNode(main.rootNode[orderType],orderType);
  }
 else {
    previousNode=main.nextSmaller(nextNode,orderType);
  }
}
