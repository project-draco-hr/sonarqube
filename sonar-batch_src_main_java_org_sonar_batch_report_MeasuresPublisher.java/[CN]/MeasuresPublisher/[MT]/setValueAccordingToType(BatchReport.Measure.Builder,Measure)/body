{
  Serializable value=measure.value();
switch (builder.getValueType()) {
case BOOLEAN:
    builder.setBooleanValue((Boolean)value);
  break;
case DOUBLE:
builder.setDoubleValue((Double)value);
break;
case INT:
builder.setIntValue((Integer)value);
break;
case LONG:
builder.setLongValue((Long)value);
break;
case STRING:
builder.setStringValue((String)value);
break;
default :
throw new IllegalStateException("Unknown value type: " + builder.getValueType());
}
}
