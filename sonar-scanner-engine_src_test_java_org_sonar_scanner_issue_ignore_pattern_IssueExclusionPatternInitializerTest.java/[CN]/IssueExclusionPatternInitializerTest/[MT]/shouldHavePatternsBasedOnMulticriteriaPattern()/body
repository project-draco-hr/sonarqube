{
  settings.setProperty("sonar.issue.ignore" + ".multicriteria","1,2");
  settings.setProperty("sonar.issue.ignore" + ".multicriteria" + ".1."+ "resourceKey","org/foo/Bar.java");
  settings.setProperty("sonar.issue.ignore" + ".multicriteria" + ".1."+ "ruleKey","*");
  settings.setProperty("sonar.issue.ignore" + ".multicriteria" + ".2."+ "resourceKey","org/foo/Hello.java");
  settings.setProperty("sonar.issue.ignore" + ".multicriteria" + ".2."+ "ruleKey","checkstyle:MagicNumber");
  patternsInitializer.initPatterns();
  assertThat(patternsInitializer.hasConfiguredPatterns()).isTrue();
  assertThat(patternsInitializer.hasFileContentPattern()).isFalse();
  assertThat(patternsInitializer.hasMulticriteriaPatterns()).isTrue();
  assertThat(patternsInitializer.getMulticriteriaPatterns().size()).isEqualTo(2);
  assertThat(patternsInitializer.getBlockPatterns().size()).isEqualTo(0);
  assertThat(patternsInitializer.getAllFilePatterns().size()).isEqualTo(0);
  patternsInitializer.initializePatternsForPath("org/foo/Bar.java","org.foo.Bar");
  patternsInitializer.initializePatternsForPath("org/foo/Baz.java","org.foo.Baz");
  patternsInitializer.initializePatternsForPath("org/foo/Hello.java","org.foo.Hello");
  assertThat(patternsInitializer.getPatternMatcher().getPatternsForComponent("org.foo.Bar")).hasSize(1);
  assertThat(patternsInitializer.getPatternMatcher().getPatternsForComponent("org.foo.Baz")).hasSize(0);
  assertThat(patternsInitializer.getPatternMatcher().getPatternsForComponent("org.foo.Hello")).hasSize(1);
}
