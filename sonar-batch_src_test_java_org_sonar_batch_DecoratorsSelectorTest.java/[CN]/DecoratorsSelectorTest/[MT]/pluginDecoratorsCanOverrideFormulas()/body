{
  Project project=new Project("key");
  Decorator fakeDecorator=new FakeDecorator();
  Decorator metric1Decorator=new Metric1Decorator();
  BatchExtensionDictionnary dictionnary=newDictionnary(fakeDecorator,metric1Decorator,withFormula1,withoutFormula,withFormula2);
  Collection<Decorator> decorators=new DecoratorsSelector(dictionnary).select(project);
  assertThat(decorators.size(),is(3));
  assertThat(decorators,hasItem(fakeDecorator));
  assertThat(decorators,hasItem(metric1Decorator));
  assertThat(decorators,hasItem((Decorator)new FormulaDecorator(withFormula2)));
}
