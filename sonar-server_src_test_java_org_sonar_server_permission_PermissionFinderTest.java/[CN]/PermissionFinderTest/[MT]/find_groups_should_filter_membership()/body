{
  when(dao.selectGroups(any(WithPermissionQuery.class),anyLong())).thenReturn(newArrayList(new GroupWithPermissionDto().setName("Anyone").setPermission("user"),new GroupWithPermissionDto().setName("Admin").setPermission("user"),new GroupWithPermissionDto().setName("Users").setPermission(null),new GroupWithPermissionDto().setName("Reviewers").setPermission(null),new GroupWithPermissionDto().setName("Other").setPermission(null)));
  assertThat(finder.findGroupsWithPermission(WithPermissionQuery.builder().permission("user").membership(WithPermissionQuery.IN).build()).groups()).hasSize(2);
  assertThat(finder.findGroupsWithPermission(WithPermissionQuery.builder().permission("user").membership(WithPermissionQuery.OUT).build()).groups()).hasSize(3);
  assertThat(finder.findGroupsWithPermission(WithPermissionQuery.builder().permission("user").membership(WithPermissionQuery.ANY).build()).groups()).hasSize(5);
}
