{
  when(dao.selectGroups(any(WithPermissionQuery.class),anyLong())).thenReturn(newArrayList(new GroupWithPermissionDto().setName("users").setPermission("user")));
  GroupWithPermissionQueryResult result=finder.findGroupsWithPermission(WithPermissionQuery.builder().permission("user").pageIndex(1).membership(WithPermissionQuery.ANY).build());
  assertThat(result.groups()).hasSize(2);
  GroupWithPermission first=result.groups().get(0);
  assertThat(first.name()).isEqualTo("Anyone");
  assertThat(first.hasPermission()).isFalse();
}
