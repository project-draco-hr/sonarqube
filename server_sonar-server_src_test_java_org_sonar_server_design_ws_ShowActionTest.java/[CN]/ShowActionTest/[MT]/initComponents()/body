{
  ComponentDto project=ComponentTesting.newProjectDto(PROJECT_UUID);
  ComponentDto directory1=ComponentTesting.newDirectory(project,"/src/main/java/dir1").setUuid(DIR1_UUID);
  ComponentDto file1=ComponentTesting.newFileDto(directory1,FILE1_UUID).setLongName("src/main/java/dir1/File1.java");
  ComponentDto directory2=ComponentTesting.newDirectory(project,"/src/main/java/dir2").setUuid(DIR2_UUID);
  ComponentDto file2=ComponentTesting.newFileDto(directory1,FILE2_UUID).setLongName("src/main/java/dir2/File2.java");
  dbClient.componentDao().insert(session,project,directory1,directory2,file1,file2);
  SnapshotDto projectSnapshot=SnapshotTesting.createForProject(project);
  dbClient.snapshotDao().insert(session,projectSnapshot);
  session.commit();
  projectSnapshotId=projectSnapshot.getId();
}
