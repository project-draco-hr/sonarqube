{
  Query query=session.createQuery("FROM " + Snapshot.class.getSimpleName() + " sp1 WHERE sp1.resourceId  = (select sp2.resourceId FROM "+ Snapshot.class.getSimpleName()+ " sp2 WHERE sp2.id = :id) and sp1.rootId= null and not exists (from "+ Event.class.getSimpleName()+ " e where e.snapshot=sp1) order by sp1.createdAt");
  query.setParameter("id",oneProjectSnapshotId);
  return query.getResultList();
}
