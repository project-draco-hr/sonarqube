{
  executeStartupTasksToCreateDefaultPermissionTemplate();
  userSessionRule.login("john").setGlobalPermissions(GlobalPermissions.PROVISIONING);
  String key=service.create(NewComponent.create("all-project","All Projects").setQualifier(Qualifiers.VIEW));
  ComponentDto project=service.getNullableByKey(key);
  assertThat(project.key()).isEqualTo("all-project");
  assertThat(project.deprecatedKey()).isEqualTo("all-project");
  assertThat(project.uuid()).isNotNull();
  assertThat(project.projectUuid()).isEqualTo(project.uuid());
  assertThat(project.moduleUuid()).isNull();
  assertThat(project.moduleUuidPath()).isEqualTo("." + project.uuid() + ".");
  assertThat(project.name()).isEqualTo("All Projects");
  assertThat(project.longName()).isEqualTo("All Projects");
  assertThat(project.scope()).isEqualTo("PRJ");
  assertThat(project.qualifier()).isEqualTo("VW");
  assertThat(project.getCreatedAt()).isNotNull();
}
