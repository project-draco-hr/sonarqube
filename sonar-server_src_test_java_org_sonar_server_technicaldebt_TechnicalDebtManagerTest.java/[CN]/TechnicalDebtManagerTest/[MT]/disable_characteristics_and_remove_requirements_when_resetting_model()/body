{
  setupData("disable_characteristics_and_remove_requirements_when_resetting_model");
  TechnicalDebtModelFinder technicalDebtModelFinder=mock(TechnicalDebtModelFinder.class);
  when(technicalDebtModelFinder.getContributingPluginList()).thenReturn(ImmutableList.of("java"));
  when(technicalDebtModelFinder.createReaderForXMLFile("java")).thenReturn(new FileReader(Resources.getResource(TechnicalDebtManagerTest.class,"TechnicalDebtManagerTest/fake-java-model.xml").getPath()));
  when(technicalDebtModelFinder.createReaderForXMLFile("technical-debt")).thenReturn(new FileReader(Resources.getResource(TechnicalDebtManagerTest.class,"TechnicalDebtManagerTest/fake-default-model.xml").getPath()));
  TechnicalDebtManager manager=new TechnicalDebtManager(getSessionFactory(),new DefaultModelFinder(getSessionFactory()),technicalDebtModelFinder,new XMLImporter());
  manager.reset(ValidationMessages.create(),defaultRuleCache());
  getSession().commit();
  checkTables("disable_characteristics_and_remove_requirements_when_resetting_model","quality_models","characteristics","characteristic_edges","characteristic_properties");
}
