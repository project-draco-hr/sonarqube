{
  setupData("create_default_model_on_first_execution");
  TechnicalDebtModelFinder technicalDebtModelFinder=mock(TechnicalDebtModelFinder.class);
  when(technicalDebtModelFinder.createReaderForXMLFile("technical-debt")).thenReturn(new FileReader(Resources.getResource(TechnicalDebtManagerTest.class,"TechnicalDebtManagerTest/fake-default-model.xml").getPath()));
  TechnicalDebtManager manager=new TechnicalDebtManager(getSessionFactory(),new DefaultModelFinder(getSessionFactory()),technicalDebtModelFinder,new XMLImporter());
  manager.reset(ValidationMessages.create(),defaultRuleCache());
  getSession().commit();
  checkTables("create_default_model_on_first_execution","quality_models","characteristics","characteristic_edges");
}
