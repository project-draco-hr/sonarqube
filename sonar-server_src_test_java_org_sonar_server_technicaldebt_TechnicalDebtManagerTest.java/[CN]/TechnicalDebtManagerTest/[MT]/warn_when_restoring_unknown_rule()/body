{
  setupData("warn_when_restoring_unknown_rule");
  Model with=Model.createByName(TechnicalDebtModelDefinition.TECHNICAL_DEBT_MODEL);
  Characteristic efficiency=with.createCharacteristicByKey("efficiency","Efficiency");
  efficiency.addChild(with.createCharacteristicByRule(newRegexpRule()));
  ValidationMessages messages=ValidationMessages.create();
  manager.restore(with,messages,defaultRuleCache());
  checkTables("warn_when_restoring_unknown_rule","quality_models","characteristics","characteristic_edges");
  assertThat(messages.getWarnings()).hasSize(1);
  assertThat(messages.getWarnings().get(0)).contains("regexp");
}
