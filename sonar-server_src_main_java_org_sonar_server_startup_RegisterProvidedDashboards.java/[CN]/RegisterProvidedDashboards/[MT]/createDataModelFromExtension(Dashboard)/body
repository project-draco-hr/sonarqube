{
  Date now=new Date();
  org.sonar.persistence.model.Dashboard dashboardDataModel=new org.sonar.persistence.model.Dashboard();
  dashboardDataModel.setKey(dashboard.getId());
  dashboardDataModel.setName(i18nManager.message(Locale.ENGLISH,"dashboard." + dashboard.getId() + ".name",dashboard.getName()));
  dashboardDataModel.setDescription(dashboard.getDescription());
  dashboardDataModel.setColumnLayout(dashboard.getLayout());
  dashboardDataModel.setShared(true);
  dashboardDataModel.setCreatedAt(now);
  dashboardDataModel.setUpdatedAt(now);
  for (  Widget widget : dashboard.getWidgets()) {
    org.sonar.persistence.model.Widget widgetDataModel=new org.sonar.persistence.model.Widget();
    widgetDataModel.setKey(widget.getId());
    widgetDataModel.setName(i18nManager.message(Locale.ENGLISH,"widget." + widget.getId() + ".name",""));
    widgetDataModel.setColumnIndex(widget.getColumnIndex());
    widgetDataModel.setRowIndex(widget.getRowIndex());
    widgetDataModel.setConfigured(true);
    widgetDataModel.setCreatedAt(now);
    widgetDataModel.setUpdatedAt(now);
    dashboardDataModel.addWidget(widgetDataModel);
    for (    Entry<String,String> property : widget.getProperties().entrySet()) {
      org.sonar.persistence.model.WidgetProperty widgetPropertyDataModel=new org.sonar.persistence.model.WidgetProperty();
      widgetPropertyDataModel.setKey(property.getKey());
      widgetPropertyDataModel.setValue(property.getValue());
      widgetDataModel.addWidgetProperty(widgetPropertyDataModel);
    }
  }
  return dashboardDataModel;
}
