{
  int nextOrderIndex=0;
  if (mainDashboard != null) {
    activateDashboard(mainDashboard,1);
    nextOrderIndex=2;
  }
 else {
    nextOrderIndex=activeDashboardDao.selectMaxOrderIndexForNullUser() + 1;
  }
  Collections.sort(loadedDashboards,new DashboardComparator());
  for (  org.sonar.persistence.model.Dashboard dashboard : loadedDashboards) {
    activateDashboard(dashboard,nextOrderIndex++);
  }
}
