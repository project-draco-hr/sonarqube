{
  NewController newController=context.newController("api/system");
  newController.newAction("health").setHandler(new RequestHandler(){
    @Override public void handle(    Request request,    Response response){
      try {
        response.stream().output().write("good".getBytes());
      }
 catch (      IOException e) {
        throw new IllegalStateException(e);
      }
    }
  }
);
  newController.newAction("ping").setPost(true).setHandler(new RequestHandler(){
    @Override public void handle(    Request request,    Response response){
      try {
        response.stream().output().write("pong".getBytes());
      }
 catch (      IOException e) {
        throw new IllegalStateException(e);
      }
    }
  }
);
  newController.newAction("fail").setHandler(new RequestHandler(){
    @Override public void handle(    Request request,    Response response){
      if (request.param("count") != null) {
        List<BadRequestException.Message> errors=Lists.newArrayList();
        for (int count=0; count < Integer.valueOf(request.param("count")); count++) {
          errors.add(Message.ofL10n("bad.request.reason",count));
        }
        throw BadRequestException.of(errors);
      }
      throw new IllegalStateException("Unexpected");
    }
  }
);
  newController.newAction("alive").setHandler(new RequestHandler(){
    @Override public void handle(    Request request,    Response response){
      response.noContent();
    }
  }
);
  newController.newAction("print").newParam("message","required message").newParam("author","optional author").setHandler(new RequestHandler(){
    @Override public void handle(    Request request,    Response response){
      try {
        IOUtils.write(request.mandatoryParam("message") + " by " + request.param("author","-"),response.stream().output());
      }
 catch (      IOException e) {
        throw new IllegalStateException(e);
      }
    }
  }
);
  newController.done();
}
