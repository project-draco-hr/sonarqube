{
  setupData("last_snapshot");
  ServerClient server=mock(ServerClient.class);
  LastSnapshots lastSnapshots=new LastSnapshots(new Settings(),getSession(),server);
  List<RuleFailureModel> violations=lastSnapshots.getViolations(newFile());
  assertThat(violations).hasSize(1);
  assertThat(violations.get(0).getChecksum()).isEqualTo("ABCDE");
  verifyZeroInteractions(server);
}
