{
  int countClearedRules=0;
  for (  RuleDto rule : dbClient.deprecatedRuleDao().selectAll(session)) {
    if (isDebtOverridden(rule)) {
      rule.setSubCharacteristicId(null);
      rule.setRemediationFunction(null);
      rule.setRemediationCoefficient(null);
      rule.setRemediationOffset(null);
      dbClient.deprecatedRuleDao().update(session,rule);
      countClearedRules++;
    }
  }
  if (countClearedRules > 0) {
    LOG.warn("The SQALE model has been cleaned to remove any redundant data left over from previous migrations.");
    LOG.warn("=> As a result, the technical debt of existing issues in your projects may change slightly when those projects are reanalyzed.");
  }
}
