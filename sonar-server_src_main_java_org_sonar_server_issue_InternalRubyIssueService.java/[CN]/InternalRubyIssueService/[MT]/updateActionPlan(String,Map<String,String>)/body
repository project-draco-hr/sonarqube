{
  DefaultActionPlan existingActionPlan=(DefaultActionPlan)actionPlanService.findByKey(key);
  Result<ActionPlan> result=createActionPlanResult(parameters,existingActionPlan.name());
  if (result.ok()) {
    String projectKey=parameters.get("projectKey");
    DefaultActionPlan actionPlan=(DefaultActionPlan)result.get();
    actionPlan.setKey(existingActionPlan.key());
    actionPlan.setUserLogin(existingActionPlan.userLogin());
    result.setObject(actionPlanService.update(actionPlan,projectKey));
  }
  return result;
}
