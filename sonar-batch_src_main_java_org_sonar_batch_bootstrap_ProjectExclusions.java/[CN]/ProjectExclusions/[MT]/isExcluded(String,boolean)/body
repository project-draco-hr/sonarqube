{
  String[] includedKeys=settings.getStringArray("sonar.includedModules");
  boolean excluded=false;
  if (!isRoot && includedKeys.length > 0) {
    excluded=!ArrayUtils.contains(includedKeys,projectKey);
  }
  if (!excluded) {
    String[] excludedKeys=settings.getStringArray("sonar.skippedModules");
    excluded=ArrayUtils.contains(excludedKeys,projectKey);
  }
  if (excluded && isRoot) {
    throw new IllegalArgumentException("The root project can't be excluded. Please check the parameters sonar.skippedModules and sonar.includedModules.");
  }
  return excluded;
}
