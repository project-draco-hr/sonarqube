{
  expected.expect(BadRequestException.class);
  expected.expectMessage("A template with the name 'template2' already exists (case insensitive).");
  PermissionTemplateDto template2=new PermissionTemplateDto().setId(2L).setName("template2").setDescription("template2");
  when(permissionTemplateDao.selectByName(any(DbSession.class),eq("template2"))).thenReturn(template2);
  underTest.updatePermissionTemplate(1L,"template2","template2",null);
}
