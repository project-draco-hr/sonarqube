{
  expected.expect(BadRequestException.class);
  expected.expectMessage("Unknown user:");
  when(permissionTemplateDao.selectTemplateByKey(DEFAULT_KEY)).thenReturn(DEFAULT_TEMPLATE);
  when(userDao.selectActiveUserByLogin("unknown")).thenReturn(null);
  underTest.addUserPermission(DEFAULT_KEY,DEFAULT_PERMISSION,"unknown");
}
