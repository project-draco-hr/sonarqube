{
  LoggerFactory.getLogger(getClass()).info("Restore properties");
  String serverId=persistentSettings.getString(CoreProperties.SERVER_ID);
  String serverStartTime=persistentSettings.getString(CoreProperties.SERVER_STARTTIME);
  Map<String,String> properties=Maps.newHashMap();
  if (CollectionUtils.isNotEmpty(sonarConfig.getProperties())) {
    for (    Property xmlProperty : sonarConfig.getProperties()) {
      properties.put(xmlProperty.getKey(),xmlProperty.getValue());
    }
  }
  properties.put(CoreProperties.SERVER_ID,serverId);
  properties.put(CoreProperties.SERVER_STARTTIME,serverStartTime);
  persistentSettings.deleteProperties();
  persistentSettings.saveProperties(properties);
}
