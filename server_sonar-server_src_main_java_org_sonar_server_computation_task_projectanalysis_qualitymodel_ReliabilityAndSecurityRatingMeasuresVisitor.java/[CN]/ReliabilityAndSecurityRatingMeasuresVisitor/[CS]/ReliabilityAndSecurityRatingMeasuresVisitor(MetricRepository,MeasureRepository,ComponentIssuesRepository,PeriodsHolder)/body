{
  super(LEAVES,POST_ORDER,CounterFactory.INSTANCE);
  this.measureRepository=measureRepository;
  this.componentIssuesRepository=componentIssuesRepository;
  this.periodsHolder=periodsHolder;
  this.reliabilityRatingMetric=metricRepository.getByKey(RELIABILITY_RATING_KEY);
  this.securityRatingMetric=metricRepository.getByKey(SECURITY_RATING_KEY);
  this.newReliabilityRatingMetric=metricRepository.getByKey(NEW_RELIABILITY_RATING_KEY);
  this.newSecurityRatingMetric=metricRepository.getByKey(NEW_SECURITY_RATING_KEY);
  this.metricsByKey=ImmutableMap.of(RELIABILITY_RATING_KEY,reliabilityRatingMetric,SECURITY_RATING_KEY,securityRatingMetric,NEW_RELIABILITY_RATING_KEY,newReliabilityRatingMetric,NEW_SECURITY_RATING_KEY,newSecurityRatingMetric);
}
