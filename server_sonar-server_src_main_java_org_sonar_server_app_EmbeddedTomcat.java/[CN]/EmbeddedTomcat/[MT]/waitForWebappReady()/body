{
  while (true) {
switch (webappContext.getState()) {
case NEW:
case INITIALIZING:
case INITIALIZED:
case STARTING_PREP:
case STARTING:
      Uninterruptibles.sleepUninterruptibly(300L,TimeUnit.MILLISECONDS);
    break;
case STARTED:
  return;
default :
throw new IllegalStateException("YYY Webapp did not start");
}
}
}
