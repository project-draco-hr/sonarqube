{
  if (tomcat != null && !stopping) {
    try {
      stopping=true;
      tomcat.stop();
      tomcat.destroy();
    }
 catch (    Exception e) {
      LoggerFactory.getLogger(EmbeddedTomcat.class).error("Fail to stop web service",e);
    }
  }
  tomcat=null;
  stopping=false;
  ready=false;
  FileUtils.deleteQuietly(tomcatBasedir());
}
