{
  if (tomcat != null) {
synchronized (tomcat) {
      if (tomcat.getServer().getState().isAvailable()) {
        try {
          tomcat.stop();
          tomcat.destroy();
        }
 catch (        Exception e) {
          LoggerFactory.getLogger(EmbeddedTomcat.class).error("Fail to stop web service",e);
        }
      }
    }
  }
  ready=false;
  FileUtils.deleteQuietly(tomcatBasedir());
}
