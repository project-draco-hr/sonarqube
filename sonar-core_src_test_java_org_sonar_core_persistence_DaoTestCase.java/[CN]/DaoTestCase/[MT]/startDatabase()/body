{
  Settings settings=new Settings();
  settings.setProperties(Maps.fromProperties(System.getProperties()));
  if (settings.hasKey("sonar.jdbc.dialect")) {
    database=new DefaultDatabase(settings);
  }
 else {
    database=new InMemoryDatabase();
  }
  database.start();
  myBatis=new MyBatis(database);
  myBatis.start();
  databaseCommands=DatabaseCommands.forDialect(database.getDialect());
}
