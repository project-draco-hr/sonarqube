{
  tester.get(ActivityService.class).write(dbSession,Activity.Type.QPROFILE,ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of(XOO_PROFILE_1,XOO_RULE_1)).setSeverity(Severity.MAJOR).setParameter("max","10"));
  dbSession.commit();
  List<QProfileActivity> activities=service.findActivities(new QProfileActivityQuery(),new QueryOptions());
  assertThat(activities).hasSize(1);
  QProfileActivity activity=activities.get(0);
  assertThat(activity.ruleKey()).isEqualTo(XOO_RULE_1);
  assertThat(activity.ruleName()).isEqualTo("Rule name");
}
