{
  tester.get(ActivityService.class).write(dbSession,Activity.Type.QPROFILE,ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of("java-default",RuleTesting.XOO_X1)));
  tester.get(ActivityService.class).write(dbSession,Activity.Type.QPROFILE,ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of("java-toto",RuleTesting.XOO_X1)));
  dbSession.commit();
  assertThat(service.findActivities(new QProfileActivityQuery(),new QueryOptions())).hasSize(2);
  List<QProfileActivity> result=service.findActivities(new QProfileActivityQuery().setQprofileKeys(ImmutableSet.of("java-default")),new QueryOptions());
  assertThat(result).hasSize(1);
  assertThat(service.findActivities(new QProfileActivityQuery().setQprofileKeys(ImmutableSet.of("java-default","java-toto")),new QueryOptions())).hasSize(2);
}
