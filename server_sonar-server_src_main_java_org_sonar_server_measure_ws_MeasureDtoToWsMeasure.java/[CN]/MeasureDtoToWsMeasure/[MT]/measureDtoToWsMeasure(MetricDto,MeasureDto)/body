{
  WsMeasures.Measure.Builder measure=WsMeasures.Measure.newBuilder();
  measure.setMetric(metricDto.getKey());
  if (measureDto.getValue() != null || measureDto.getData() != null) {
    measure.setValue(formatMeasureValue(measureDto,metricDto));
  }
  if (measureDto.getVariation(1) != null) {
    measure.setVariationValueP1(formatNumericalValue(measureDto.getVariation(1),metricDto));
  }
  if (measureDto.getVariation(2) != null) {
    measure.setVariationValueP2(formatNumericalValue(measureDto.getVariation(2),metricDto));
  }
  if (measureDto.getVariation(3) != null) {
    measure.setVariationValueP3(formatNumericalValue(measureDto.getVariation(3),metricDto));
  }
  if (measureDto.getVariation(4) != null) {
    measure.setVariationValueP4(formatNumericalValue(measureDto.getVariation(4),metricDto));
  }
  if (measureDto.getVariation(5) != null) {
    measure.setVariationValueP5(formatNumericalValue(measureDto.getVariation(5),metricDto));
  }
  return measure.build();
}
