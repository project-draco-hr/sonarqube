{
  StringBuilder sb=new StringBuilder();
  batchDir=new File(fs.getHomeDir(),"lib/batch");
  if (batchDir.exists()) {
    Collection<File> files=FileUtils.listFiles(batchDir,HiddenFileFilter.VISIBLE,FileFilterUtils.directoryFileFilter());
    for (    File file : files) {
      String filename=file.getName();
      if (StringUtils.endsWith(filename,".jar")) {
        try (FileInputStream fis=new FileInputStream(file)){
          sb.append(filename).append('|').append(DigestUtils.md5Hex(fis)).append(CharUtils.LF);
        }
 catch (        IOException e) {
          throw new IllegalStateException("Fail to compute hash",e);
        }
      }
    }
  }
  this.index=sb.toString();
}
