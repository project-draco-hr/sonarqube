{
  service.write(dbSession,Activity.Type.NONE,getActivity());
  service.write(dbSession,Activity.Type.SERVER,getActivity());
  service.write(dbSession,Activity.Type.SERVER,testValue);
  service.write(dbSession,Activity.Type.QPROFILE,getActivity());
  dbSession.commit();
  assertThat(service.search(new ActivityQuery(),new QueryOptions()).getHits()).hasSize(4);
  assertThat(service.search(new ActivityQuery().setTypes(ImmutableSet.of(Activity.Type.SERVER)),new QueryOptions()).getHits()).hasSize(2);
  assertThat(service.search(new ActivityQuery().setTypes(ImmutableSet.of(Activity.Type.QPROFILE)),new QueryOptions()).getHits()).hasSize(1);
}
