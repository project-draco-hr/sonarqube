{
  doThrow(RuntimeException.class).when(dao).purge(any(DbSession.class),any(PurgeConfiguration.class));
  sut.purge(mock(DbSession.class),mock(PurgeConfiguration.class),mock(Settings.class));
  verify(dao,times(1)).purge(any(DbSession.class),any(PurgeConfiguration.class));
}
