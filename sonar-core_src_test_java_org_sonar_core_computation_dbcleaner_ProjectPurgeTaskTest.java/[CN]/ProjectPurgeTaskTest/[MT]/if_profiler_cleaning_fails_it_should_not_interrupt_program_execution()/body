{
  doThrow(NullPointerException.class).when(periodCleaner).clean(anyLong(),any(Settings.class));
  sut.purge(mock(PurgeConfiguration.class),mock(Settings.class),mock(DbSession.class));
  verify(periodCleaner,times(1)).clean(anyLong(),any(Settings.class),any(DbSession.class));
}
