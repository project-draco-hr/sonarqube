{
  super(LEAVES,POST_ORDER,CounterFactory.INSTANCE);
  this.measureRepository=measureRepository;
  this.componentIssuesRepository=componentIssuesRepository;
  this.periodsHolder=periodsHolder;
  this.newReliabilityRatingMetric=metricRepository.getByKey(NEW_RELIABILITY_RATING_KEY);
  this.newSecurityRatingMetric=metricRepository.getByKey(NEW_SECURITY_RATING_KEY);
  this.metricsByKey=ImmutableMap.of(NEW_RELIABILITY_RATING_KEY,newReliabilityRatingMetric,NEW_SECURITY_RATING_KEY,newSecurityRatingMetric);
}
