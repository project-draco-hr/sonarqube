{
  session.select("org.sonar.core.purge.PurgeMapper.selectComponentIdUuidsToDisable",project.getId(),new ResultHandler(){
    @Override public void handleResult(    ResultContext resultContext){
      IdUuidPair componentIdUuid=(IdUuidPair)resultContext.getResultObject();
      if (componentIdUuid.getId() != null) {
        disableResource(componentIdUuid,purgeMapper);
        purgeListener.onComponentDisabling(componentIdUuid.getUuid());
      }
    }
  }
);
  session.commit();
}
