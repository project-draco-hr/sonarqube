{
  orchestrator.resetData();
  orchestrator.getServer().restoreProfile(FileLocation.ofClasspath("/authorisation/one-issue-per-line-profile.xml"));
  orchestrator.getServer().provisionProject("sample","Sample");
  orchestrator.getServer().associateProjectToQualityProfile("sample","xoo","one-issue-per-line");
  SonarScanner sampleProject=SonarScanner.create(projectDir("shared/xoo-sample"));
  orchestrator.executeBuild(sampleProject);
  orchestrator.getServer().provisionProject("sample2","Sample2");
  orchestrator.getServer().associateProjectToQualityProfile("sample2","xoo","one-issue-per-line");
  SonarScanner sampleProject2=SonarScanner.create(projectDir("shared/xoo-sample")).setProperty("sonar.projectKey","sample2").setProperty("sonar.projectName","Sample2");
  orchestrator.executeBuild(sampleProject2);
}
