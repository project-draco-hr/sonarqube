{
  final Map<String,Integer> result=Maps.newHashMap();
  DatabaseUtils.executeLargeInputs(groupIds,new Function<List<Long>,List<GroupUserCount>>(){
    @Override public List<GroupUserCount> apply(    @Nonnull List<Long> input){
      List<GroupUserCount> userCounts=mapper(session).countUsersByGroup(input);
      for (      GroupUserCount count : userCounts) {
        result.put(count.groupName(),count.userCount());
      }
      return userCounts;
    }
  }
);
  return result;
}
