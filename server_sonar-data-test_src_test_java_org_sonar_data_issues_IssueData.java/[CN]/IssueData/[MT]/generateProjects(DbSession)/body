{
  for (long p=1; p <= MAX_NUMBER_PROJECTS; p++) {
    ComponentDto project=ComponentTesting.newProjectDto().setKey("project-" + p).setName("Project " + p).setLongName("Project " + p);
    db.componentDao().insert(setupSession,project);
    for (int i=0; i < generator.nextInt(MAX_NUMBER_RESOURCES_PER_PROJECT); i++) {
      ComponentDto file=ComponentTesting.newFileDto(project).setKey("file-" + (p * MAX_NUMBER_PROJECTS + i)).setName("File " + (p * MAX_NUMBER_PROJECTS + i)).setLongName("File " + (p * MAX_NUMBER_PROJECTS + i));
      db.componentDao().insert(setupSession,file);
      componentsByProjectId.put(project,file);
    }
    setupSession.commit();
  }
}
