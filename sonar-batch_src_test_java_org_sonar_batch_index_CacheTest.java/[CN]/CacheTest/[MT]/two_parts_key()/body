{
  Cache<String> cache=caches.createCache("capitals");
  assertThat(cache.get("europe","france")).isNull();
  cache.put("europe","france","paris");
  cache.put("europe","italy","rome");
  cache.put("asia","china","pekin");
  assertThat(cache.get("europe")).isNull();
  assertThat(cache.get("europe","france")).isEqualTo("paris");
  assertThat(cache.get("europe","italy")).isEqualTo("rome");
  assertThat(cache.get("europe")).isNull();
  assertThat(cache.keySet("europe")).containsOnly("france","italy");
  assertThat(cache.keySet()).containsOnly("europe","asia");
  assertThat(cache.containsKey("europe")).isFalse();
  assertThat(cache.containsKey("europe","france")).isTrue();
  assertThat(cache.containsKey("europe","spain")).isFalse();
  assertThat(cache.values()).containsOnly("paris","rome","pekin");
  assertThat(cache.values("america")).isEmpty();
  assertThat(cache.values("europe")).containsOnly("paris","rome");
  assertThat(cache.values("oceania")).isEmpty();
  Cache.Entry[] allEntries=Iterables.toArray(cache.entries(),Cache.Entry.class);
  assertThat(allEntries).hasSize(3);
  assertThat(allEntries[0].key()).isEqualTo(new String[]{"asia","china"});
  assertThat(allEntries[0].value()).isEqualTo("pekin");
  assertThat(allEntries[1].key()).isEqualTo(new String[]{"europe","france"});
  assertThat(allEntries[1].value()).isEqualTo("paris");
  assertThat(allEntries[2].key()).isEqualTo(new String[]{"europe","italy"});
  assertThat(allEntries[2].value()).isEqualTo("rome");
  Cache.Entry[] subEntries=Iterables.toArray(cache.entries("europe"),Cache.Entry.class);
  assertThat(subEntries).hasSize(2);
  assertThat(subEntries[0].key()).isEqualTo(new String[]{"europe","france"});
  assertThat(subEntries[0].value()).isEqualTo("paris");
  assertThat(subEntries[1].key()).isEqualTo(new String[]{"europe","italy"});
  assertThat(subEntries[1].value()).isEqualTo("rome");
  cache.remove("europe","france");
  assertThat(cache.values()).containsOnly("rome","pekin");
  assertThat(cache.get("europe","france")).isNull();
  assertThat(cache.get("europe","italy")).isEqualTo("rome");
  assertThat(cache.containsKey("europe","france")).isFalse();
  assertThat(cache.keySet("europe")).containsOnly("italy");
  cache.clear("america");
  assertThat(cache.keySet()).containsOnly("europe","asia");
  cache.clear();
  assertThat(cache.keySet()).isEmpty();
}
