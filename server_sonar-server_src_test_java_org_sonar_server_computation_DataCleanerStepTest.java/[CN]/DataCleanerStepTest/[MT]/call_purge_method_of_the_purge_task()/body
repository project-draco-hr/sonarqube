{
  AnalysisReportDto report=mock(AnalysisReportDto.class);
  when(report.getProject()).thenReturn(mock(ComponentDto.class));
  sut.execute(mock(DbSession.class),report);
  verify(purgeTask).purge(any(Long.class));
  verify(issueIndex).deleteClosedIssuesOfProjectBefore(anyString(),any(Date.class));
}
