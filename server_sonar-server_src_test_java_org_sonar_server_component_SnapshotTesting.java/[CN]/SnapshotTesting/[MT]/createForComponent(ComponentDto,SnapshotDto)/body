{
  Long parentRootId=parentSnapshot.getRootId();
  return new SnapshotDto().setResourceId(component.getId()).setRootProjectId(parentSnapshot.getRootProjectId()).setRootId(parentRootId != null ? parentRootId : parentSnapshot.getId()).setStatus(SnapshotDto.STATUS_PROCESSED).setQualifier(component.qualifier()).setScope(component.scope()).setParentId(parentSnapshot.getId()).setPath(parentSnapshot.getPath() == null ? Long.toString(parentSnapshot.getId()) + "." : parentSnapshot.getPath() + Long.toString(parentSnapshot.getId()) + ".").setLast(true).setBuildDate(System.currentTimeMillis());
}
