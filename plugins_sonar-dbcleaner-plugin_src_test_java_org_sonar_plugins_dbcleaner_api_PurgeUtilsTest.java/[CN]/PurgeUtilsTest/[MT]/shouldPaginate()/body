{
  DatabaseSession session=mock(DatabaseSession.class);
  Query query=mock(Query.class);
  when(session.createQuery(anyString())).thenReturn(query);
  when(session.createNativeQuery(anyString())).thenReturn(query);
  List<Integer> ids=Lists.newArrayList();
  for (int i=0; i < (PurgeUtils.MAX_IN_ELEMENTS + 1); i++) {
    ids.add(i);
  }
  PurgeUtils.executeQuery(session,"description",ids,"hql");
  verify(session,times(2)).createQuery(anyString());
  verify(session,times(2)).commit();
  PurgeUtils.executeNativeQuery(session,"description",ids,"sql");
  verify(session,times(2)).createNativeQuery(anyString());
  verify(session,times(4)).commit();
}
