{
  String version=project.getAnalysisVersion();
  String snapshotVersionToDelete=(version.endsWith(SNAPSHOT_SUFFIX) ? "" : version + SNAPSHOT_SUFFIX);
  for (Iterator<Event> it=context.getEvents(project).iterator(); it.hasNext(); ) {
    Event event=it.next();
    if (event.isVersionCategory() && (version.equals(event.getName()) || snapshotVersionToDelete.equals(event.getName()))) {
      it.remove();
      context.deleteEvent(event);
    }
  }
}
