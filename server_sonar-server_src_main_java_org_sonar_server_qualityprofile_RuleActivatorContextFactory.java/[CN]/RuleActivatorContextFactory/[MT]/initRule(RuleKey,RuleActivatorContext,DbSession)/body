{
  Optional<RuleDto> rule=db.ruleDao().selectByKey(dbSession,ruleKey);
  if (!rule.isPresent()) {
    throw new BadRequestException("Rule not found: " + ruleKey);
  }
  context.setRule(rule.get());
  context.setRuleParams(db.ruleDao().selectRuleParamsByRuleKey(dbSession,rule.get().getKey()));
  return rule.get();
}
