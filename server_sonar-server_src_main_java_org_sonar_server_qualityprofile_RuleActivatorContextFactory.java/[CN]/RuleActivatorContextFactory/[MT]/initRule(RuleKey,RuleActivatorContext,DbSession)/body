{
  RuleDto rule=db.deprecatedRuleDao().getNullableByKey(dbSession,ruleKey);
  if (rule == null) {
    throw new BadRequestException("Rule not found: " + ruleKey);
  }
  context.setRule(rule);
  context.setRuleParams(db.deprecatedRuleDao().selectRuleParamsByRuleKey(dbSession,rule.getKey()));
  return rule;
}
