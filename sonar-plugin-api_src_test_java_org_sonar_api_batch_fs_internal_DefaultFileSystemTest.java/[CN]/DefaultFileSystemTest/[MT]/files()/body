{
  DefaultFileSystem fs=new DefaultFileSystem();
  assertThat(fs.inputFiles(FilePredicates.all())).isEmpty();
  fs.add(new DefaultInputFile("src/Foo.php").setLanguage("php").setFile(temp.newFile()));
  fs.add(new DefaultInputFile("src/Bar.java").setLanguage("java").setFile(temp.newFile()));
  fs.add(new DefaultInputFile("src/Baz.java").setLanguage("java").setFile(temp.newFile()));
  fs.add(new DefaultInputFile("src/readme.txt").setFile(temp.newFile()));
  assertThat(fs.inputFile(FilePredicates.hasRelativePath("src/Bar.java"))).isNotNull();
  assertThat(fs.inputFile(FilePredicates.hasRelativePath("does/not/exist"))).isNull();
  assertThat(fs.files(FilePredicates.all())).hasSize(4);
  assertThat(fs.files(FilePredicates.hasLanguage("java"))).hasSize(2);
  assertThat(fs.files(FilePredicates.hasLanguage("cobol"))).isEmpty();
  assertThat(fs.hasFiles(FilePredicates.all())).isTrue();
  assertThat(fs.hasFiles(FilePredicates.hasLanguage("java"))).isTrue();
  assertThat(fs.hasFiles(FilePredicates.hasLanguage("cobol"))).isFalse();
  assertThat(fs.inputFiles(FilePredicates.all())).hasSize(4);
  assertThat(fs.inputFiles(FilePredicates.hasLanguage("php"))).hasSize(1);
  assertThat(fs.inputFiles(FilePredicates.hasLanguage("java"))).hasSize(2);
  assertThat(fs.inputFiles(FilePredicates.hasLanguage("cobol"))).isEmpty();
  assertThat(fs.languages()).containsOnly("java","php");
}
