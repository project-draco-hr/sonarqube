{
  final Date now=new Date(system.now());
  MassUpdate massUpdate=context.prepareMassUpdate();
  massUpdate.select("SELECT f.id, f.data FROM issue_filters f WHERE f.data like '%componentRoots=%'");
  massUpdate.update("UPDATE issue_filters SET data=?, updated_at=? WHERE id=?");
  massUpdate.execute(new MassUpdate.Handler(){
    @Override public boolean handle(    Select.Row row,    SqlStatement update) throws SQLException {
      Long id=row.getLong(1);
      String data=row.getString(2);
      if (data == null) {
        return false;
      }
      update.setString(1,convertData(context,data));
      update.setDate(2,now);
      update.setLong(3,id);
      return true;
    }
  }
);
}
