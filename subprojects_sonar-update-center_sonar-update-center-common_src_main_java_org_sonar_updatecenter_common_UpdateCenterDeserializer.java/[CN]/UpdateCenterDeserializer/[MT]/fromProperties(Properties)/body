{
  UpdateCenter center=new UpdateCenter();
  center.setDate(FormatUtils.toDate(p.getProperty("date"),true));
  String[] sonarVersions=getArray(p,"sonar.versions");
  for (  String sonarVersion : sonarVersions) {
    Release release=new Release(center.getSonar(),sonarVersion);
    release.setChangelogUrl(get(p,"sonar." + sonarVersion + ".changelogUrl"));
    release.setDescription(get(p,"sonar." + sonarVersion + ".description"));
    release.setDownloadUrl(get(p,"sonar." + sonarVersion + ".downloadUrl"));
    release.setDate(FormatUtils.toDate(get(p,"sonar." + sonarVersion + ".date"),true));
    center.getSonar().addRelease(release);
  }
  String[] pluginKeys=getArray(p,"plugins");
  for (  String pluginKey : pluginKeys) {
    Plugin plugin=new Plugin(pluginKey);
    center.addPlugin(plugin);
    plugin.setName(get(p,pluginKey,"name"));
    plugin.setDescription(get(p,pluginKey,"description"));
    plugin.setCategory(get(p,pluginKey,"category"));
    plugin.setHomepageUrl(get(p,pluginKey,"homepageUrl"));
    plugin.setLicense(get(p,pluginKey,"license"));
    plugin.setOrganization(get(p,pluginKey,"organization"));
    plugin.setOrganizationUrl(get(p,pluginKey,"organizationUrl"));
    plugin.setTermsConditionsUrl(get(p,pluginKey,"termsConditionsUrl"));
    plugin.setIssueTrackerUrl(get(p,pluginKey,"issueTrackerUrl"));
    String[] pluginReleases=StringUtils.split(StringUtils.defaultIfEmpty(get(p,pluginKey,"versions"),""),",");
    for (    String pluginVersion : pluginReleases) {
      Release release=new Release(plugin,pluginVersion);
      plugin.addRelease(release);
      release.setDownloadUrl(get(p,pluginKey,pluginVersion + ".downloadUrl"));
      release.setChangelogUrl(get(p,pluginKey,pluginVersion + ".changelogUrl"));
      release.setDescription(get(p,pluginKey,pluginVersion + ".description"));
      release.setDate(toDate(get(p,pluginKey,pluginVersion + ".date"),true));
      String[] requiredSonarVersions=StringUtils.split(StringUtils.defaultIfEmpty(get(p,pluginKey,pluginVersion + ".requiredSonarVersions"),""),",");
      for (      String requiredSonarVersion : requiredSonarVersions) {
        release.addRequiredSonarVersions(Version.create(requiredSonarVersion));
      }
    }
  }
  return center;
}
