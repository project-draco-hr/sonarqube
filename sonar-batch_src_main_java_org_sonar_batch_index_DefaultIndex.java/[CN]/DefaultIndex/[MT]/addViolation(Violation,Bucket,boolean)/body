{
  boolean isIgnored=!force && violationFilters != null && violationFilters.isIgnored(violation);
  if (isIgnored) {
    return false;
  }
  if (!violation.isManual()) {
    ActiveRule activeRule=profile.getActiveRule(violation.getRule());
    if (activeRule != null) {
      violation.setSeverity(activeRule.getSeverity());
    }
 else     if (currentProject.getReuseExistingRulesConfig()) {
      violation.setSeverity(violation.getRule().getSeverity());
    }
 else {
      LoggerFactory.getLogger(getClass()).debug("Rule is not activated, ignoring violation {}",violation);
      return false;
    }
  }
  bucket.addViolation(violation);
  return true;
}
