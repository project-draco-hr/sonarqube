{
  BatchPluginRepository pluginRepository=mock(BatchPluginRepository.class);
  when(pluginRepository.getPluginsByMetadata()).thenReturn(newPlugin(SampleProjectTask.class,SampleTask.class,TaskProvider.class));
  ComponentContainer container=new ComponentContainer();
  ExtensionInstaller installer=new ExtensionInstaller(pluginRepository,new EnvironmentInformation("ant","1.7"),new Settings());
  installer.installTaskExtensions(container,true);
  assertThat(container.getComponentByType(SampleProjectTask.class)).isNotNull();
  assertThat(container.getComponentByType(SampleTask.class)).isNotNull();
  assertThat(container.getComponentByType(AnotherTask.class)).isNotNull();
}
