{
  Set<String> deleted=Sets.newHashSet();
  for (  RuleTagDto unused : ruleTagDao.selectUnused(session)) {
    deleted.add(unused.getTag());
    ruleTagDao.delete(unused.getId(),session);
  }
  if (!deleted.isEmpty()) {
    esRuleTags.delete(deleted.toArray(new String[0]));
  }
}
