{
  try {
    SMInputFactory inputFactory=initStax();
    SMHierarchicCursor root=inputFactory.rootElementCursor(new StringReader(duplicationsData));
    root.advance();
    SMInputCursor cursor=root.childElementCursor("g");
    while (cursor.getNext() != null) {
      json.beginObject().name("blocks").beginArray();
      SMInputCursor bCursor=cursor.childElementCursor("b");
      while (bCursor.getNext() != null) {
        String from=bCursor.getAttrValue("s");
        String size=bCursor.getAttrValue("l");
        String componentKey=bCursor.getAttrValue("r");
        if (from != null && size != null && componentKey != null) {
          writeDuplication(refByComponentKey,from,size,componentKey,json);
        }
      }
      json.endArray().endObject();
    }
  }
 catch (  XMLStreamException e) {
    throw new IllegalStateException("XML is not valid",e);
  }
}
