{
  addComponent(configuration);
  addComponent(ServerMetadata.class);
  addComponent(TempDirectories.class);
  addComponent(HttpDownloader.class);
  addComponent(ExtensionDownloader.class);
  addComponent(BootstrapClassLoader.class);
  URLClassLoader bootstrapClassLoader=getComponent(BootstrapClassLoader.class).getClassLoader();
  Thread.currentThread().setContextClassLoader(bootstrapClassLoader);
  addComponent(new DriverDatabaseConnector(configuration,bootstrapClassLoader));
  addComponent(ThreadLocalDatabaseSessionFactory.class);
  addAdapter(new DatabaseSessionProvider());
  for (  Object component : components) {
    addComponent(component);
  }
  if (!isMavenPluginExecutorRegistered()) {
    addComponent(FakeMavenPluginExecutor.class);
  }
}
