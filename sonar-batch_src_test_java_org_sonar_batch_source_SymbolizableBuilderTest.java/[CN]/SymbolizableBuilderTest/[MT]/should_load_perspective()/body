{
  Resource file=File.create("foo.c").setEffectiveKey("myproject:path/to/foo.c");
  Component component=new ResourceComponent(file);
  ResourceCache resourceCache=mock(ResourceCache.class);
  when(resourceCache.get(file.getEffectiveKey())).thenReturn(new BatchResource(1,file,null).setInputPath(new DefaultInputFile("myproject","path/to/foo.c")));
  SymbolizableBuilder perspectiveBuilder=new SymbolizableBuilder(resourceCache,mock(DefaultSensorStorage.class));
  Perspective perspective=perspectiveBuilder.loadPerspective(Symbolizable.class,component);
  assertThat(perspective).isInstanceOf(Symbolizable.class);
  assertThat(perspective.component().key()).isEqualTo(component.key());
}
