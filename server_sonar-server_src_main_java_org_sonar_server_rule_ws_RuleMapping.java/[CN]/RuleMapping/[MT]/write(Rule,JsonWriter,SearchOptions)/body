{
  RuleMappingContext context=new RuleMappingContext();
  String characteristicKey;
  if (needDebtCharacteristicNames(options) && (characteristicKey=rule.debtCharacteristicKey()) != null) {
    context.add(debtModel.characteristicByKey(characteristicKey));
  }
  String subCharacteristicKey;
  if (needDebtSubCharacteristicNames(options) && (subCharacteristicKey=rule.debtSubCharacteristicKey()) != null) {
    context.add(debtModel.characteristicByKey(subCharacteristicKey));
  }
  doWrite((RuleDoc)rule,context,json,options);
}
