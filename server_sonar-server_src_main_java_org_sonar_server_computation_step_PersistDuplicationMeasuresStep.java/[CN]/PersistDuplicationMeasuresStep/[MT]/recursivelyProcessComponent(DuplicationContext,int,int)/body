{
  BatchReportReader reportReader=duplicationContext.context().getReportReader();
  BatchReport.Component component=reportReader.readComponent(componentRef);
  List<BatchReport.Duplication> duplications=reportReader.readComponentDuplications(componentRef);
  if (!duplications.isEmpty()) {
    saveDuplications(duplicationContext,reportReader.readComponent(parentModuleRef),component,duplications);
  }
  for (  Integer childRef : component.getChildRefList()) {
    int nextParent=!component.getType().equals(Constants.ComponentType.PROJECT) && !component.getType().equals(Constants.ComponentType.MODULE) ? parentModuleRef : componentRef;
    recursivelyProcessComponent(duplicationContext,nextParent,childRef);
  }
}
