{
  String snapshotPath=component.getSnapshotPath();
  StringBuilder moduleUuidPath=new StringBuilder();
  Component lastModule=null;
  if (!Strings.isNullOrEmpty(snapshotPath)) {
    for (    String s : Splitter.on(".").omitEmptyStrings().split(snapshotPath)) {
      Long snapshotId=Long.valueOf(s);
      Component currentComponent=componentsBySnapshotId.get(snapshotId);
      if (currentComponent.getScope().equals(Scopes.PROJECT)) {
        lastModule=currentComponent;
        moduleUuidPath.append(currentComponent.getUuid()).append(".");
      }
    }
  }
  if (moduleUuidPath.length() > 0) {
    moduleUuidPath.deleteCharAt(moduleUuidPath.length() - 1);
    component.setModuleUuidPath(moduleUuidPath.toString());
  }
  if (lastModule != null && !lastModule.getId().equals(project.getId())) {
    component.setModuleUuid(getOrCreateUuid(lastModule,uuidByComponentId));
  }
}
