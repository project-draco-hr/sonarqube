{
  Map<String,Object> map=newHashMap();
  map.put("keys",newArrayList("org.codehaus.sonar"));
  map.put("names",newArrayList("Sonar"));
  map.put("qualifiers",newArrayList("TRK"));
  map.put("pageSize",10l);
  map.put("pageIndex",50);
  map.put("sort","NAME");
  map.put("asc",true);
  ComponentQuery query=DefaultRubyComponentService.toQuery(map);
  assertThat(query.keys()).containsOnly("org.codehaus.sonar");
  assertThat(query.names()).containsOnly("Sonar");
  assertThat(query.qualifiers()).containsOnly("TRK");
  assertThat(query.pageSize()).isEqualTo(10);
  assertThat(query.pageIndex()).isEqualTo(50);
  assertThat(query.sort()).isEqualTo(ComponentQuery.SORT_BY_NAME);
  assertThat(query.asc()).isTrue();
}
