{
  int length=chars.length();
  if (bufferPosition >= length) {
    for (int index=0; index < length; index++) {
      buffer[bufferPosition + index - length]=chars.charAt(index);
    }
    bufferPosition-=length;
  }
 else {
    char[] extendedBuffer=new char[buffer.length - bufferPosition + length];
    for (int index=0; index < length; index++) {
      extendedBuffer[index]=chars.charAt(index);
    }
    System.arraycopy(buffer,bufferPosition,extendedBuffer,length,bufferSize - bufferPosition);
    buffer=extendedBuffer;
    bufferSize=bufferSize + length - bufferPosition;
    bufferPosition=0;
  }
}
