{
  if (character == LF || character == CR) {
    if ((lastChar != LF && lastChar != CR) || lastChar == character || lastChar == LF) {
      cursor.line++;
    }
    cursor.column=0;
  }
 else   if (character == '\t') {
    cursor.column+=tabWidth;
  }
 else {
    cursor.column++;
  }
}
