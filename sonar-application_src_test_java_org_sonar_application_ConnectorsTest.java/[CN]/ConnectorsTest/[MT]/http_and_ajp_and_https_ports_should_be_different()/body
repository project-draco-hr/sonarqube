{
  Properties p=new Properties();
  p.setProperty("sonar.web.port","9000");
  p.setProperty("sonar.ajp.port","9000");
  p.setProperty("sonar.web.https.port","9000");
  try {
    Connectors.configure(tomcat,new Props(p));
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("HTTP, AJP and HTTPS must not use the same port 9000");
  }
}
