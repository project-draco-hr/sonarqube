{
  Properties p=new Properties();
  p.setProperty("sonar.web.port","9000");
  p.setProperty("sonar.web.ajp.port","9010");
  p.setProperty("sonar.web.https.port","9443");
  Props props=new Props(p);
  Connectors.configure(tomcat,props);
  verify(tomcat.getService()).addConnector(argThat(new ArgumentMatcher<Connector>(){
    @Override public boolean matches(    Object o){
      Connector c=(Connector)o;
      return c.getScheme().equals("http") && c.getPort() == 9000 && c.getProtocol().equals(Connectors.HTTP_PROTOCOL);
    }
  }
));
  verify(tomcat.getService()).addConnector(argThat(new ArgumentMatcher<Connector>(){
    @Override public boolean matches(    Object o){
      Connector c=(Connector)o;
      return c.getScheme().equals("http") && c.getPort() == 9010 && c.getProtocol().equals(Connectors.AJP_PROTOCOL);
    }
  }
));
  verify(tomcat.getService()).addConnector(argThat(new ArgumentMatcher<Connector>(){
    @Override public boolean matches(    Object o){
      Connector c=(Connector)o;
      return c.getScheme().equals("https") && c.getPort() == 9443 && c.getProtocol().equals(Connectors.HTTP_PROTOCOL);
    }
  }
));
}
