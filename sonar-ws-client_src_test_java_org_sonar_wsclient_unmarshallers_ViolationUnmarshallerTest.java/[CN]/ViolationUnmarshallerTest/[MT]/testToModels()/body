{
  Violation violation=new ViolationUnmarshaller().toModel("[]");
  assertThat(violation,nullValue());
  List<Violation> violations=new ViolationUnmarshaller().toModels(loadFile("/violations/violations.json"));
  assertThat(violations.size(),is(2));
  violation=violations.get(0);
  assertThat(violation.getKey(),is("1"));
  assertThat(violation.getMessage(),is("throw java.lang.Exception"));
  assertThat(violation.hasLine(),is(true));
  assertThat(violation.getLine(),is(97));
  assertThat(violation.getCreatedAt(),notNullValue());
  assertThat(violation.getSeverity(),is("MAJOR"));
  assertThat(violation.getRuleKey(),is("pmd:SignatureDeclareThrowsException"));
  assertThat(violation.getRuleName(),is("Signature Declare Throws Exception"));
  assertThat(violation.getResourceKey(),is("org.apache.excalibur.components:excalibur-pool-instrumented:org.apache.avalon.excalibur.pool.TraceableResourceLimitingPool"));
  assertThat(violation.getResourceName(),is("TraceableResourceLimitingPool"));
  assertThat(violation.getResourceQualifier(),is("CLA"));
  assertThat(violation.isSwitchedOff(),is(false));
}
