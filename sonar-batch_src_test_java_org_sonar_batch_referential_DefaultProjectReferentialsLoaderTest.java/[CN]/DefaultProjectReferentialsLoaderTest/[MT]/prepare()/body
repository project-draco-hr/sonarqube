{
  serverClient=mock(ServerClient.class);
  analysisMode=mock(AnalysisMode.class);
  MetricFinder metricFinder=mock(MetricFinder.class);
  when(metricFinder.findByKey(anyString())).thenReturn(new Metric().setId(1));
  loader=new DefaultProjectReferentialsLoader(serverClient,analysisMode,mock(PreviousFileHashLoader.class),metricFinder,mock(DefaultTimeMachine.class));
  when(serverClient.request(anyString())).thenReturn("");
  reactor=new ProjectReactor(ProjectDefinition.create().setKey("foo"));
  taskProperties=new TaskProperties(Maps.<String,String>newHashMap(),"");
}
