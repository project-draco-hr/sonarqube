{
  serverClient=mock(ServerClient.class);
  analysisMode=mock(AnalysisMode.class);
  loader=new DefaultProjectReferentialsLoader(serverClient,analysisMode);
  when(serverClient.doRequest(anyString(),anyInt())).thenReturn(new InputSupplier<InputStream>(){
    @Override public InputStream getInput() throws IOException {
      return new ByteArrayInputStream(new byte[0]);
    }
  }
);
  reactor=new ProjectReactor(ProjectDefinition.create().setKey("foo"));
  taskProperties=new TaskProperties(Maps.<String,String>newHashMap(),"");
}
