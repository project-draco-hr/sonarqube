{
  Long startedAt=activityDto.getStartedAt();
  if (startedAt == null) {
    return;
  }
  activityDto.setFinishedAt(system2.now());
  long executionTime=activityDto.getFinishedAt() - startedAt;
  activityDto.setExecutionTimeMs(executionTime);
  if (status == CeActivityDto.Status.SUCCESS) {
    queueStatus.addSuccess(executionTime);
  }
 else {
    queueStatus.addError(executionTime);
  }
}
