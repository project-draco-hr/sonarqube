{
  Map<String,Object> userDocMap=newHashMap();
  userDocMap.put("login","john");
  userDocMap.put("name","John");
  userDocMap.put("email","john@email.com");
  userDocMap.put("scmAccounts",newArrayList("jn"));
  userDocMap.put("active",true);
  userDocMap.put("createdAt",15000L);
  userDocMap.put("updatedAt",15000L);
  when(service.getByLogin("john")).thenReturn(new UserDoc(userDocMap));
  when(service.create(any(NewUser.class))).thenReturn(true);
  MockUserSession.set().setLogin("julien").setLocale(Locale.FRENCH);
  when(i18n.message(Locale.FRENCH,"user.reactivated","user.reactivated","john")).thenReturn("The user 'john' has been reactivated.");
  tester.newPostRequest("api/users","create").setParam("login","john").setParam("name","John").setParam("email","john@email.com").setParam("scm_accounts","jn").setParam("password","1234").setParam("password_confirmation","1234").execute().assertJson(getClass(),"reactivate_user.json");
}
