{
  componentDb.insertComponent(newView());
  ComponentDto project=componentDb.insertComponent(newProjectDto("project-uuid").setName("Project Name").setKey("project-key"));
  ComponentDto module=componentDb.insertComponent(newModuleDto("module-uuid",project).setName("Module Name").setKey("module-key"));
  componentDb.insertComponent(newDirectory(module,"path/to/directoy").setUuid("directory-uuid").setKey("directory-key").setName("Directory Name"));
  componentDb.insertComponent(newFileDto(module,"file-uuid").setKey("file-key").setName("File Name"));
  db.commit();
  String response=newRequest(Qualifiers.PROJECT,Qualifiers.MODULE,Qualifiers.DIRECTORY,Qualifiers.FILE).setMediaType(MimeTypes.JSON).execute().getInput();
  assertJson(response).isSimilarTo(getClass().getResource("search-components-example.json"));
}
