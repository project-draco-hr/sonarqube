{
  checkPermission();
  Date updateDate=new Date(system2.now());
  SqlSession session=mybatis.openSession();
  try {
    List<RuleDto> rules=newArrayList(Iterables.filter(ruleDao.selectEnablesAndNonManual(session),new Predicate<RuleDto>(){
      @Override public boolean apply(      @Nullable RuleDto input){
        return input != null && languageKey.equals(input.getLanguage());
      }
    }
));
    restoreProvidedModel(rules,updateDate,session);
    session.commit();
  }
  finally {
    MyBatis.closeQuietly(session);
  }
}
