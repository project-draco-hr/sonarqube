{
  RuleDebt ruleDebt=new RuleDebt().setRuleKey(RuleKey.of(rule.getRepositoryKey(),rule.getRuleKey())).setSubCharacteristicKey(subCharacteristicKey);
  String coefficient=rule.getRemediationCoefficient();
  String offset=rule.getRemediationOffset();
  String effectiveCoefficient=coefficient != null ? coefficient : rule.getDefaultRemediationCoefficient();
  String effectiveOffset=offset != null ? offset : rule.getDefaultRemediationOffset();
  ruleDebt.setFunction(DebtRemediationFunction.Type.valueOf(function));
  ruleDebt.setCoefficient(effectiveCoefficient);
  ruleDebt.setOffset(effectiveOffset);
  return ruleDebt;
}
