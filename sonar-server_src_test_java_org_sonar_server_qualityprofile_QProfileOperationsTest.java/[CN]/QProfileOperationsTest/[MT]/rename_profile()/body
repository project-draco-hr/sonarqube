{
  when(profileLookup.profile(1)).thenReturn(new QProfile().setId(1).setName("Default").setLanguage("java"));
  operations.renameProfile(1,"Default profile",authorizedUserSession);
  ArgumentCaptor<QualityProfileDto> profileArgument=ArgumentCaptor.forClass(QualityProfileDto.class);
  verify(qualityProfileDao).update(profileArgument.capture());
  assertThat(profileArgument.getValue().getName()).isEqualTo("Default profile");
  assertThat(profileArgument.getValue().getLanguage()).isEqualTo("java");
}
