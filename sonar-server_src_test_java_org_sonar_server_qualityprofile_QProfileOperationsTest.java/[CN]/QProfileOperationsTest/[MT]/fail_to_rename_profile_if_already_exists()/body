{
  when(qualityProfileDao.selectById(1,session)).thenReturn(new QualityProfileDto().setId(1).setName("Default").setLanguage("java"));
  when(qualityProfileDao.selectByNameAndLanguage(anyString(),anyString(),eq(session))).thenReturn(new QualityProfileDto());
  try {
    operations.renameProfile(1,"New Default",authorizedUserSession);
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(BadRequestException.class);
  }
}
