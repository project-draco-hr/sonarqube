{
  if (visitor instanceof TypeAwareVisitor) {
    return new TypeAwareVisitorWrapper((TypeAwareVisitor)visitor);
  }
 else   if (visitor instanceof PathAwareVisitor) {
    return new PathAwareVisitorWrapper((PathAwareVisitor)visitor);
  }
 else {
    throw new IllegalArgumentException("Only TypeAwareVisitor and PathAwareVisitor can be used");
  }
}
