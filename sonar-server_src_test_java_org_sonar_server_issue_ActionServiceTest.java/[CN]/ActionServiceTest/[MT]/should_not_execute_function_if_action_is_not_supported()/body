{
  Function function=mock(Function.class);
  Issue issue=new DefaultIssue().setKey("ABCD");
  IssueQueryResult issueQueryResult=new DefaultIssueQueryResult(newArrayList(issue));
  when(finder.find(any(IssueQuery.class))).thenReturn(issueQueryResult);
  actions.add("link-to-jira").setConditions(new NeverMatch()).setFunctions(function);
  try {
    actionService.execute("ABCD","link-to-jira",mock(UserSession.class));
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(IllegalStateException.class).hasMessage("A condition is not respected");
  }
  verifyZeroInteractions(function);
}
