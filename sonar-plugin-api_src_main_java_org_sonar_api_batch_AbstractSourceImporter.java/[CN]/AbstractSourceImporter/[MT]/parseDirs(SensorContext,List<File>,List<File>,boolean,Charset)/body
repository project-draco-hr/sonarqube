{
  for (  File file : files) {
    Resource resource=createResource(file,sourceDirs,unitTest);
    if (resource != null) {
      try {
        context.index(resource);
        if (enabled) {
          String source=Files.toString(file,Charset.forName(sourcesEncoding.name()));
          source=CharMatcher.anyOf("\uFEFF").removeFrom(source);
          context.saveSource(resource,source);
        }
      }
 catch (      Exception e) {
        throw new SonarException("Unable to read and import the source file : '" + file.getAbsolutePath() + "' with the charset : '"+ sourcesEncoding.name()+ "'.",e);
      }
    }
  }
}
