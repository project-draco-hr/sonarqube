{
  for (  File file : files) {
    Resource resource=createResource(file,sourceDirs,unitTest);
    if (resource != null) {
      try {
        String source=FileUtils.readFileToString(file,sourcesEncoding.name());
        context.index(resource);
        context.saveSource(resource,source);
      }
 catch (      IOException e) {
        throw new SonarException("Unable to read and import the source file : '" + file.getAbsolutePath() + "' with the charset : '"+ sourcesEncoding.name()+ "'.",e);
      }
    }
  }
}
