{
  String path=pathResolver.relativePath(fileSystem.baseDir(),file);
  if (path == null) {
    LoggerFactory.getLogger(getClass()).warn(String.format("File '%s' is not in basedir '%s'",file.getAbsolutePath(),fileSystem.baseDir()));
  }
 else {
    InputFile input=newInputFile(fileSystem,sourceDir,type,file,path);
    if (input != null && accept(input)) {
      cache.put(fileSystem.moduleKey(),input);
      status.markAsIndexed(path);
    }
  }
}
