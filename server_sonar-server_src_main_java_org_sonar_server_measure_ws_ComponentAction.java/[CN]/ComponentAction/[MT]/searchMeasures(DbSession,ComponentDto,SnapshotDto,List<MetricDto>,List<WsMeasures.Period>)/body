{
  if (snapshot == null) {
    return emptyList();
  }
  List<Integer> metricIds=Lists.transform(metrics,MetricDtoFunctions.toId());
  List<MeasureDto> measures=dbClient.measureDao().selectBySnapshotIdsAndMetricIds(dbSession,singletonList(snapshot.getId()),metricIds);
  addBestValuesToMeasures(measures,component,metrics,periods);
  return measures;
}
