{
  String otherComponentKey=((DefaultSymbol)symbol).componentKey();
  if (!otherComponentKey.equals(componentKey)) {
    throw new UnsupportedOperationException("Cannot add reference from (" + componentKey + ") to another file ("+ otherComponentKey+ ")");
  }
  if (fromOffset >= symbol.getDeclarationStartOffset() && fromOffset < symbol.getDeclarationEndOffset()) {
    throw new UnsupportedOperationException("Cannot add reference (" + fromOffset + ") overlapping "+ symbol);
  }
  referencesBySymbol.put(symbol,fromOffset);
}
