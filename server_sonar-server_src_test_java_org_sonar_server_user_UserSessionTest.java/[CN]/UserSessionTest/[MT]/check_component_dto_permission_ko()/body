{
  AuthorizationDao authorizationDao=mock(AuthorizationDao.class);
  ResourceDao resourceDao=mock(ResourceDao.class);
  UserSession session=new SpyUserSession("marius",authorizationDao,resourceDao).setUserId(1);
  ComponentDto project=ComponentTesting.newProjectDto();
  when(authorizationDao.selectAuthorizedRootProjectsKeys(1,UserRole.USER)).thenReturn(newArrayList(project.uuid()));
  session.checkComponentPermission(UserRole.USER,"another");
}
