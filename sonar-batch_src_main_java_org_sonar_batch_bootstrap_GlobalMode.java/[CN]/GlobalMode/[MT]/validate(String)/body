{
  if (StringUtils.isEmpty(mode)) {
    return;
  }
  if (!CoreProperties.ANALYSIS_MODE_PREVIEW.equals(mode) && !CoreProperties.ANALYSIS_MODE_PUBLISH.equals(mode) && !CoreProperties.ANALYSIS_MODE_ISSUES.equals(mode)) {
    throw new IllegalStateException("Invalid analysis mode: " + mode);
  }
}
