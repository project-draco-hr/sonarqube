{
  if (StringUtils.isEmpty(mode)) {
    return;
  }
  if (!Arrays.asList(VALID_MODES).contains(mode)) {
    throw new IllegalStateException("Invalid analysis mode: " + mode + ". Valid modes are: "+ Arrays.toString(VALID_MODES));
  }
}
