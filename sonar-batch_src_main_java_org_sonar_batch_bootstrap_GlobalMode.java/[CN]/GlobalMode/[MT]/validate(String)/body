{
  if (StringUtils.isEmpty(mode)) {
    return;
  }
  if (!CoreProperties.ANALYSIS_MODE_PREVIEW.equals(mode) && !CoreProperties.ANALYSIS_MODE_QUICK.equals(mode) && !CoreProperties.ANALYSIS_MODE_ANALYSIS.equals(mode)) {
    throw new IllegalStateException("Invalid analysis mode: " + mode);
  }
}
