{
  BaseIndex index=new BaseIndex(IndexDefinition.TEST,null,new NullQueue(),esNode){
    @Override protected String getKeyValue(    Serializable key){
      return null;
    }
    @Override protected org.elasticsearch.common.settings.Settings getIndexSettings() throws IOException {
      return ImmutableSettings.builder().build();
    }
    @Override protected XContentBuilder getMapping() throws IOException {
      return null;
    }
    @Override public Object toDoc(    Map fields){
      return null;
    }
  }
;
  index.start();
  return index;
}
