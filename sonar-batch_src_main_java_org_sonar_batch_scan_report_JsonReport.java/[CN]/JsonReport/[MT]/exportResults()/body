{
  File exportFile=new File(fileSystem.workDir(),settings.getString("sonar.report.export.path"));
  LOG.info("Export results to " + exportFile.getAbsolutePath());
  Writer output=null;
  try {
    output=new BufferedWriter(new OutputStreamWriter(new FileOutputStream(exportFile),Charsets.UTF_8));
    writeJson(output);
  }
 catch (  IOException e) {
    throw new IllegalStateException("Unable to write report results in file " + exportFile.getAbsolutePath(),e);
  }
 finally {
    Closeables.closeQuietly(output);
  }
}
