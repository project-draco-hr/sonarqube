{
  Issue issue=new DefaultIssue().setKey("A").setCreationDate(tenDaysAgo).setDebt(fiveDaysDebtInSec).setChanges(newArrayList(new FieldDiffs().setDiff("technicalDebt",null,fromWorkDayDuration(oneDaysDebt)).setCreationDate(nineDaysAgo),new FieldDiffs().setDiff("technicalDebt",fromWorkDayDuration(twoDaysDebt),fromWorkDayDuration(fiveDaysDebt)).setCreationDate(rightNow),new FieldDiffs().setDiff("technicalDebt",fromWorkDayDuration(oneDaysDebt),fromWorkDayDuration(twoDaysDebt)).setCreationDate(fourDaysAgo)));
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,fiveDaysAgo)).isEqualTo(WorkDuration.createFromValueAndUnit(4,WorkDuration.UNIT.DAYS,HOURS_IN_DAY));
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,elevenDaysAgo)).isEqualTo(WorkDuration.createFromValueAndUnit(5,WorkDuration.UNIT.DAYS,HOURS_IN_DAY));
}
