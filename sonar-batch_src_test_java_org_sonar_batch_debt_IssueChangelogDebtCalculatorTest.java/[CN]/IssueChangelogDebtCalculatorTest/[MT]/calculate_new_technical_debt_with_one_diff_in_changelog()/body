{
  Issue issue=new DefaultIssue().setKey("A").setCreationDate(tenDaysAgo).setDebt(twoDays).setChanges(newArrayList(new FieldDiffs().setDiff("technicalDebt",oneDay,twoDays).setCreationDate(null)));
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,rightNow)).isEqualTo(WorkDuration.createFromValueAndUnit(1,WorkDuration.UNIT.DAYS,HOURS_IN_DAY));
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,fiveDaysAgo)).isEqualTo(WorkDuration.createFromValueAndUnit(1,WorkDuration.UNIT.DAYS,HOURS_IN_DAY));
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,elevenDaysAgo)).isEqualTo(WorkDuration.createFromValueAndUnit(2,WorkDuration.UNIT.DAYS,HOURS_IN_DAY));
}
