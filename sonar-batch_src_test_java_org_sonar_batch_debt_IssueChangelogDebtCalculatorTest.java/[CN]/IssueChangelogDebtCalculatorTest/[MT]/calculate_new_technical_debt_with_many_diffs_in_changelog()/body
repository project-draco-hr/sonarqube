{
  Issue issue=new DefaultIssue().setKey("A").setCreationDate(tenDaysAgo).setDebt(fiveDaysDebt).setChanges(newArrayList(new FieldDiffs().setDiff("technicalDebt",twoDays,fiveDays).setCreationDate(null),new FieldDiffs().setDiff("technicalDebt",oneDay,twoDays).setCreationDate(fourDaysAgo)));
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,rightNow)).isEqualTo(3 * oneDay);
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,fiveDaysAgo)).isEqualTo(4 * oneDay);
  assertThat(issueChangelogDebtCalculator.calculateNewTechnicalDebt(issue,elevenDaysAgo)).isEqualTo(5 * oneDay);
}
