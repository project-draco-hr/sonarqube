{
  DbSession dbSession=dbClient.openSession(false);
  try {
    checkGlobalAdminUser(userSession);
    validateTemplateNameForUpdate(dbSession,dbClient,newName,templateId);
    validateProjectPattern(projectPattern);
    permissionTemplateDao.update(templateId,newName,newDescription,projectPattern);
  }
  finally {
    dbClient.closeSession(dbSession);
  }
}
