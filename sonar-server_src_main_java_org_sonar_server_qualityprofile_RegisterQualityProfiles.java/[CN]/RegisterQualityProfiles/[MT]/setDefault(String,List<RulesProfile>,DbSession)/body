{
  String propertyKey="sonar.profile." + language;
  boolean upToDate=false;
  String currentDefault=settings.getString(propertyKey);
  if (currentDefault != null) {
    QualityProfileDto profile=dbClient.qualityProfileDao().getByKey(QualityProfileKey.of(currentDefault,language),session);
    if (profile != null) {
      upToDate=true;
    }
  }
  if (!upToDate) {
    String defaultProfileName=defaultProfileName(profileDefs);
    LOGGER.info("Set default " + language + " profile: "+ defaultProfileName);
    settings.saveProperty(propertyKey,defaultProfileName);
  }
}
