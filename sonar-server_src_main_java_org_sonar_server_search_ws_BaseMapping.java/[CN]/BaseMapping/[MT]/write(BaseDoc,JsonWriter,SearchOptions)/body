{
  json.beginObject();
  json.prop("key",doc.keyField());
  if (options == null || options.fields() == null) {
    for (    BaseMapping.Field field : fields.values()) {
      field.write(json,doc);
    }
  }
 else {
    for (    String optionField : options.fields()) {
      for (      BaseMapping.Field field : fields.get(optionField)) {
        field.write(json,doc);
      }
    }
  }
  json.endObject();
}
