{
  RulesProfile profile=mock(RulesProfile.class);
  when(profile.getId()).thenReturn(22);
  when(profile.getName()).thenReturn("fake");
  SensorContext context=mock(SensorContext.class);
  ProfileSensor sensor=new ProfileSensor(profile);
  sensor.analyse(null,context);
  verify(context).saveMeasure(argThat(new IsMeasure(CoreMetrics.PROFILE,22d)));
}
