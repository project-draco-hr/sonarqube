{
  LOGGER.info("SonarQube home: " + homeDir.getAbsolutePath());
  File deployDir=getDeployDir();
  if (deployDir == null) {
    throw new IllegalArgumentException("Web app directory does not exist");
  }
  try {
    FileUtils.forceMkdir(deployDir);
    FileFilter fileFilter=FileFilterUtils.directoryFileFilter();
    File[] files=deployDir.listFiles(fileFilter);
    if (files != null) {
      for (      File subDirectory : files) {
        FileUtils.cleanDirectory(subDirectory);
      }
    }
  }
 catch (  IOException e) {
    throw new IllegalStateException("The following directory can not be created: " + deployDir.getAbsolutePath(),e);
  }
  File deprecated=getDeprecatedPluginsDir();
  try {
    FileUtils.forceMkdir(deprecated);
    FileUtils.cleanDirectory(deprecated);
  }
 catch (  IOException e) {
    throw new IllegalStateException("The following directory can not be created: " + deprecated.getAbsolutePath(),e);
  }
}
