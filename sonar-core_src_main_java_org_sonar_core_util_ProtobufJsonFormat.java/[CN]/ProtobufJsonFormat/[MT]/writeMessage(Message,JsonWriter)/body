{
  for (  Map.Entry<Descriptors.FieldDescriptor,Object> entry : message.getAllFields().entrySet()) {
    writeField(entry.getKey(),entry.getValue(),writer);
  }
}
