{
  ImmutableMap.Builder<String,String> details=ImmutableMap.builder();
  if (getType() != null) {
    details.put("type",getType().name());
  }
  if (getKey() != null) {
    details.put("key",getKey().toString());
    details.put("ruleKey",getKey().ruleKey().toString());
    details.put("profileKey",getKey().qProfile().toString());
  }
  return details.build();
}
