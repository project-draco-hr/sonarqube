{
  ImmutableMap.Builder<String,String> details=ImmutableMap.<String,String>builder();
  if (this.getType() != null) {
    details.put("type",this.getType().name());
  }
  if (this.getKey() != null) {
    details.put("key",this.getKey().toString());
    details.put("ruleKey",this.getKey().ruleKey().toString());
    details.put("profileKey",this.getKey().qProfile().toString());
  }
  return details.build();
}
