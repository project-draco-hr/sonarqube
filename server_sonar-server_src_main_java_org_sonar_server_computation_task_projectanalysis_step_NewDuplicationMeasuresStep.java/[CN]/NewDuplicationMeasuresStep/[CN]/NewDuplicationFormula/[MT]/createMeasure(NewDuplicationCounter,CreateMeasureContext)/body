{
  String metricKey=context.getMetric().getKey();
switch (metricKey) {
case NEW_LINES_DUPLICATED_KEY:
    Optional<MeasureVariations> newLinesDuplicated=counter.newLines.toMeasureVariations();
  return newLinesDuplicated.isPresent() ? Optional.of(Measure.newMeasureBuilder().setVariations(newLinesDuplicated.get()).createNoValue()) : Optional.absent();
case NEW_BLOCKS_DUPLICATED_KEY:
Optional<MeasureVariations> newBlocksDuplicated=counter.newBlocks.toMeasureVariations();
return newBlocksDuplicated.isPresent() ? Optional.of(Measure.newMeasureBuilder().setVariations(newBlocksDuplicated.get()).createNoValue()) : Optional.absent();
default :
throw new IllegalArgumentException("Unsupported metric " + context.getMetric());
}
}
