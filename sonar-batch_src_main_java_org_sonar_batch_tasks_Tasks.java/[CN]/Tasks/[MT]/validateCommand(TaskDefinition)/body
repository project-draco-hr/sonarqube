{
  String command=def.getCommand();
  if (StringUtils.isBlank(command)) {
    throw new SonarException("Task definition '" + def.getName() + "' doesn't define task command");
  }
  if (!Pattern.matches(COMMAND_PATTERN,command)) {
    throw new SonarException("Command '" + command + "' for task definition '"+ def.getName()+ "' is not valid and should match "+ COMMAND_PATTERN);
  }
  if (taskDefByCommand.containsKey(command)) {
    throw new SonarException("Task '" + def.getName() + "' uses the same command than task '"+ taskDefByCommand.get(command).getName()+ "'");
  }
  taskDefByCommand.put(command,def);
}
