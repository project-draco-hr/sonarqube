{
  String finalCommand=command;
  if (StringUtils.isBlank(finalCommand)) {
    finalCommand=settings.getString(CoreProperties.TASK);
  }
  finalCommand=StringUtils.isNotBlank(finalCommand) ? finalCommand : InspectionTask.COMMAND;
  for (  TaskDefinition taskDef : taskDefinitions) {
    if (finalCommand.equals(taskDef.getCommand())) {
      return taskDef;
    }
  }
  throw new SonarException("No task found for command: " + finalCommand);
}
