{
  String finalCommand=command;
  if (StringUtils.isBlank(finalCommand)) {
    finalCommand=settings.getString(CoreProperties.TASK);
  }
  finalCommand=StringUtils.isNotBlank(finalCommand) ? finalCommand : ScanTask.COMMAND;
  if (taskDefByCommand.containsKey(finalCommand)) {
    return taskDefByCommand.get(finalCommand);
  }
  throw new SonarException("No task found for command: " + finalCommand);
}
