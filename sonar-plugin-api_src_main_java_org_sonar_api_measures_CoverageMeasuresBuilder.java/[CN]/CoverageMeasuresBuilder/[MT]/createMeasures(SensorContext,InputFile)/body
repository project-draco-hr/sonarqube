{
  Collection<org.sonar.api.batch.sensor.measure.Measure> measures=Lists.newArrayList();
  if (getLinesToCover() > 0) {
    measures.add(context.<Integer>measureBuilder().onFile(onFile).forMetric(CoreMetrics.LINES_TO_COVER).withValue(getLinesToCover()).build());
    measures.add(context.<Integer>measureBuilder().onFile(onFile).forMetric(CoreMetrics.UNCOVERED_LINES).withValue(getLinesToCover() - getCoveredLines()).build());
    measures.add(context.<String>measureBuilder().onFile(onFile).forMetric(CoreMetrics.COVERAGE_LINE_HITS_DATA).withValue(KeyValueFormat.format(hitsByLine)).build());
  }
  if (getConditions() > 0) {
    measures.add(context.<Integer>measureBuilder().onFile(onFile).forMetric(CoreMetrics.CONDITIONS_TO_COVER).withValue(getConditions()).build());
    measures.add(context.<Integer>measureBuilder().onFile(onFile).forMetric(CoreMetrics.UNCOVERED_CONDITIONS).withValue(getConditions() - getCoveredConditions()).build());
    measures.add(createConditionsByLine(context,onFile));
    measures.add(createCoveredConditionsByLine(context,onFile));
  }
  return measures;
}
