{
  profilesManager=mock(ProfilesManager.class);
  ruleRegistry=mock(RuleRegistry.class);
  myBatis=getMyBatis();
  ruleDao=new RuleDao(myBatis);
  activeRuleDao=new ActiveRuleDao(myBatis);
  task=new RuleRegistration(new RuleDefinitionsLoader(mock(RuleRepositories.class),new RuleDefinitions[]{new FakeRepository()}),profilesManager,ruleRegistry,myBatis,ruleDao,activeRuleDao);
}
