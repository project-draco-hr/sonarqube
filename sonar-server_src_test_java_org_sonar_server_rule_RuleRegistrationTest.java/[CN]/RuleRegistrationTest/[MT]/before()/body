{
  myBatis=getMyBatis();
  ruleDao=new RuleDao(myBatis);
  ruleTagDao=new RuleTagDao(myBatis);
  activeRuleDao=new ActiveRuleDao(myBatis);
  ruleTagOperations=new RuleTagOperations(ruleTagDao,esRuleTags);
  characteristicDao=new CharacteristicDao(myBatis);
  task=new RuleRegistration(new RuleDefinitionsLoader(mock(RuleRepositories.class),new RuleDefinitions[]{new FakeRepository()}),profilesManager,ruleRegistry,esRuleTags,ruleTagOperations,myBatis,ruleDao,ruleTagDao,activeRuleDao,characteristicDao,mock(RegisterDebtCharacteristicModel.class));
}
