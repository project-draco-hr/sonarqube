{
  assertThat(checkAuthenticationThroughWebService("admin","admin")).isTrue();
  assertThat(checkAuthenticationThroughWebService("wrong","admin")).isFalse();
  assertThat(checkAuthenticationThroughWebService("admin","wrong")).isFalse();
  assertThat(checkAuthenticationThroughWebService(null,null)).isTrue();
  ORCHESTRATOR.getServer().getAdminWsClient().update(new PropertyUpdateQuery("sonar.forceAuthentication","true"));
  assertThat(checkAuthenticationThroughWebService("admin","admin")).isTrue();
  assertThat(checkAuthenticationThroughWebService("wrong","admin")).isFalse();
  assertThat(checkAuthenticationThroughWebService("admin","wrong")).isFalse();
  assertThat(checkAuthenticationThroughWebService(null,null)).isFalse();
}
