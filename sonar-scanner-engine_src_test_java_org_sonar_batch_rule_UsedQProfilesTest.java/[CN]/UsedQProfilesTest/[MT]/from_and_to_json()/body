{
  QProfile java=new QProfile().setKey("p1").setName("Sonar Way").setLanguage("java").setRulesUpdatedAt(UtcDateUtils.parseDateTime("2014-01-15T00:00:00+0000"));
  QProfile php=new QProfile().setKey("p2").setName("Sonar Way").setLanguage("php").setRulesUpdatedAt(UtcDateUtils.parseDateTime("2014-02-20T00:00:00+0000"));
  UsedQProfiles used=new UsedQProfiles().add(java).add(php);
  String json="[" + JAVA_JSON + ","+ PHP_JSON+ "]";
  assertThat(used.toJson()).isEqualTo(json);
  used=UsedQProfiles.fromJson(json);
  assertThat(used.profiles()).hasSize(2);
  assertThat(used.profiles().first().getKey()).isEqualTo("p1");
  assertThat(used.profiles().last().getKey()).isEqualTo("p2");
}
