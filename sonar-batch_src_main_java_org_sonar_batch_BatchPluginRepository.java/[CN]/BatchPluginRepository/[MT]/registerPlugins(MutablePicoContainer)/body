{
  try {
    for (    JpaPlugin pluginMetadata : dao.getPlugins()) {
      String classloaderKey=getClassloaderKey(pluginMetadata.getKey());
      Class claz=classloaders.get(classloaderKey).loadClass(pluginMetadata.getPluginClass());
      Plugin plugin=(Plugin)claz.newInstance();
      registerPlugin(pico,plugin,BatchExtension.class);
    }
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
