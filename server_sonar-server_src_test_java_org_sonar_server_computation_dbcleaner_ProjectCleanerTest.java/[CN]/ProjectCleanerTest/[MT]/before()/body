{
  this.dao=mock(PurgeDao.class);
  this.profiler=mock(PurgeProfiler.class);
  this.periodCleaner=mock(DefaultPeriodCleaner.class);
  this.purgeListener=mock(PurgeListener.class);
  this.settings=mock(Settings.class);
  this.projectSettingsFactory=mock(ProjectSettingsFactory.class);
  when(projectSettingsFactory.newProjectSettings(any(DbSession.class),any(Long.class))).thenReturn(settings);
  this.issueIndex=mock(IssueIndex.class);
  this.indexClient=mock(IndexClient.class);
  when(indexClient.get(IssueIndex.class)).thenReturn(issueIndex);
  this.sut=new ProjectCleaner(dao,periodCleaner,profiler,purgeListener,projectSettingsFactory,indexClient);
}
