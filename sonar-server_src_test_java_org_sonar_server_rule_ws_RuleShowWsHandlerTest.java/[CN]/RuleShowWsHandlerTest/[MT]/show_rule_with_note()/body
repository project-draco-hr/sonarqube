{
  Rule rule=createStandardRule();
  RuleNote note=mock(RuleNote.class);
  when(note.data()).thenReturn("*Extended rule description*");
  when(rule.ruleNote()).thenReturn(note);
  when(rules.findByKey(RuleKey.of("squid","AvoidCycle"))).thenReturn(rule);
  MockUserSession.set();
  WsTester.TestRequest request=tester.newRequest("show").setParam("key",rule.ruleKey().toString());
  request.execute().assertJson(getClass(),"show_rule_with_note.json");
}
