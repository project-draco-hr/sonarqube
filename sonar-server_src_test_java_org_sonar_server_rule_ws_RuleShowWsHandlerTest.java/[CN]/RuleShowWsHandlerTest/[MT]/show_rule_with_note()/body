{
  RuleNote note=mock(RuleNote.class);
  when(note.data()).thenReturn("*Extended rule description*");
  Rule rule=ruleBuilder.setRuleNote(note).build();
  when(rules.findByKey(RuleKey.of("squid","AvoidCycle"))).thenReturn(rule);
  MockUserSession.set();
  WsTester.TestRequest request=tester.newGetRequest("api/rules","show").setParam("key",rule.ruleKey().toString());
  request.execute().assertJson(getClass(),"show_rule_with_note.json");
}
