{
  this.session=session;
  Snapshot snapshot=periodLocator.locate(5);
  projectTargetSnapshots=new Snapshot[]{snapshot};
  this.metricByIds=Maps.newHashMap();
  for (  Metric metric : metricFinder.findAll()) {
    if (metric.isNumericType()) {
      metricByIds.put(metric.getId(),metric);
    }
  }
}
