{
  if (settings.hasKey(CoreProperties.CPD_SKIP_PROPERTY)) {
    LOG.warn("\"sonar.cpd.skip\" property is deprecated and will be removed. Please set \"sonar.cpd.exclusions=**\" instead to disable duplication mechanism.");
  }
  for (  String language : fs.languages()) {
    if (settings.hasKey("sonar.cpd." + language + ".skip")) {
      LOG.warn("\"sonar.cpd." + language + ".skip\" property is deprecated and will be removed. Please set \"sonar.cpd.exclusions=**\" instead to disable duplication mechanism.");
    }
    if (isSkipped(language)) {
      LOG.info("Detection of duplicated code is skipped for {}",language);
      continue;
    }
    CpdBlockIndexer blockIndexer=getBlockIndexer(language);
    if (!blockIndexer.isLanguageSupported(language)) {
      LOG.debug("Detection of duplicated code is not supported for {}",language);
      continue;
    }
    LOG.info("{} is used for {}",blockIndexer,language);
    blockIndexer.index(language);
  }
}
