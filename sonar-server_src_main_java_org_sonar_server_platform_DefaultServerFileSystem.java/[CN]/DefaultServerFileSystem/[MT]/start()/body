{
  Logs.INFO.info("Sonar home: " + homeDir.getAbsolutePath());
  if (!homeDir.isDirectory() || !homeDir.exists()) {
    throw new ServerStartException("Sonar home directory does not exist");
  }
  if (deployDir == null) {
    throw new ServerStartException("The target directory to deploy libraries is not set");
  }
  try {
    Logs.INFO.info("Deploy dir: " + deployDir.getAbsolutePath());
    FileUtils.forceMkdir(deployDir);
    FileUtils.cleanDirectory(deployDir);
  }
 catch (  IOException e) {
    throw new ServerStartException("The following directory can not be created: " + deployDir.getAbsolutePath(),e);
  }
  File deprecated=getDeprecatedPluginsDir();
  try {
    FileUtils.forceMkdir(deprecated);
    FileUtils.cleanDirectory(deprecated);
  }
 catch (  IOException e) {
    throw new ServerStartException("The following directory can not be created: " + deprecated.getAbsolutePath(),e);
  }
}
