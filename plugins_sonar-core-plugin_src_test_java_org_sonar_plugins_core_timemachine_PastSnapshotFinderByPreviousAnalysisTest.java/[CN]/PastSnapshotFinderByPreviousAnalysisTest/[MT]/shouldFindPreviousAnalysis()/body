{
  setupData("shouldFindPreviousAnalysis");
  Snapshot projectSnapshot=getSession().getSingleResult(Snapshot.class,"id",1010);
  PastSnapshotFinderByPreviousAnalysis finder=new PastSnapshotFinderByPreviousAnalysis(projectSnapshot,getSession());
  PastSnapshot pastSnapshot=finder.findByPreviousAnalysis();
  assertThat(pastSnapshot.getProjectSnapshotId(),is(1009));
}
