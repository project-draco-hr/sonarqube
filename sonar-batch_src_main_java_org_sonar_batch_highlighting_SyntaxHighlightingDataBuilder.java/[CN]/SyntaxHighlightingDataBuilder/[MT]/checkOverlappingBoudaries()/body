{
  if (syntaxHighlightingRuleSet.size() > 1) {
    Iterator<SyntaxHighlightingRule> it=syntaxHighlightingRuleSet.iterator();
    SyntaxHighlightingRule previous=it.next();
    while (it.hasNext()) {
      SyntaxHighlightingRule current=it.next();
      if (previous.getEndPosition() > current.getStartPosition() && !(previous.getEndPosition() >= current.getEndPosition())) {
        String errorMsg=String.format("Cannot register highlighting rule for characters from %s to %s as it " + "overlaps at least one existing rule",current.getStartPosition(),current.getEndPosition());
        throw new IllegalStateException(errorMsg);
      }
      previous=current;
    }
  }
}
