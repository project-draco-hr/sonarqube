{
  try {
    Properties props=new Properties();
    ServletContext servletContext=event.getServletContext();
    Enumeration<String> paramKeys=servletContext.getInitParameterNames();
    while (paramKeys.hasMoreElements()) {
      String key=paramKeys.nextElement();
      props.put(key,servletContext.getInitParameter(key));
    }
    Platform.getInstance().init(props,servletContext);
    Platform.getInstance().doStart();
    event.getServletContext().setAttribute(STARTED_ATTRIBUTE,Boolean.TRUE);
  }
 catch (  Throwable t) {
    stopQuietly();
    throw Throwables.propagate(t);
  }
}
