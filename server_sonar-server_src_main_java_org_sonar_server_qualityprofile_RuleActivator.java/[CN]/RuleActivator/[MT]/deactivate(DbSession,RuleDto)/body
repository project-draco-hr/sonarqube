{
  List<ActiveRuleChange> changes=Lists.newArrayList();
  List<ActiveRuleDto> activeRules=db.deprecatedActiveRuleDao().selectByRule(dbSession,ruleDto);
  for (  ActiveRuleDto activeRule : activeRules) {
    changes.addAll(deactivate(dbSession,activeRule.getKey(),true));
  }
  return changes;
}
