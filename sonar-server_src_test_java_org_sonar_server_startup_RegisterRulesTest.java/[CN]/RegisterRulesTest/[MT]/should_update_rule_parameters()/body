{
  setupData("updateRuleParameters");
  task.start();
  Rule rule=getSession().getSingleResult(Rule.class,"id",1);
  assertThat(rule.getParams().size(),is(2));
  assertNotNull(rule.getParam("param2"));
  assertThat(rule.getParam("param2").getDescription(),is("parameter two"));
  assertThat(rule.getParam("param2").getDefaultValue(),is("default value two"));
  assertNotNull(rule.getParam("param1"));
  assertThat(rule.getParam("param1").getDescription(),is("parameter one"));
  assertThat(rule.getParam("param1").getDefaultValue(),is("default value one"));
  assertNull(rule.getParam("deprecated_param"));
  assertNull(getSession().getSingleResult(RuleParam.class,"id",2));
}
