{
  setupData("updateRuleParameters");
  task.start();
  Rule rule=getSession().getSingleResult(Rule.class,"id",1);
  assertThat(rule.getParams().size()).isEqualTo(2);
  assertThat(rule.getParam("param2")).isNotNull();
  assertThat(rule.getParam("param2").getDescription()).isEqualTo("parameter two");
  assertThat(rule.getParam("param2").getDefaultValue()).isEqualTo("default value two");
  assertThat(rule.getParam("param1")).isNotNull();
  assertThat(rule.getParam("param1").getDescription()).isEqualTo("parameter one");
  assertThat(rule.getParam("param1").getDefaultValue()).isEqualTo("default value one");
  assertThat(rule.getParam("deprecated_param")).isNull();
  assertThat(getSession().getSingleResult(RuleParam.class,"id",2)).isNull();
}
