{
  setupData("updateRuleParameters");
  RegisterRules task=new RegisterRules(getSessionFactory(),null,new RuleRepository[]{new FakeRepository()});
  task.start();
  Rule rule=getSession().getSingleResult(Rule.class,"id",1);
  assertThat(rule.getParams().size(),is(2));
  assertNotNull(rule.getParam("param2"));
  assertThat(rule.getParam("param1").getDescription(),is("parameter one"));
  assertNull(rule.getParam("deprecated_param"));
  assertNull(getSession().getSingleResult(RuleParam.class,"id",2));
}
