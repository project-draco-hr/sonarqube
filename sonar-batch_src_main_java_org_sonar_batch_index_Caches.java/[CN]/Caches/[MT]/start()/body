{
  try {
    tempDir=Files.createTempDir();
    persistit=new Persistit();
    persistit.setPersistitLogger(new Slf4jAdapter(LoggerFactory.getLogger("PERSISTIT")));
    Properties props=new Properties();
    props.setProperty("datapath",tempDir.getAbsolutePath());
    props.setProperty("buffer.count.8192","10");
    props.setProperty("logfile","${datapath}/persistit.log");
    props.setProperty("volume.1","${datapath}/sonar-scan,create,pageSize:8192,initialSize:1M,extensionSize:1M,maximumSize:10G");
    props.setProperty("journalpath","${datapath}/journal");
    persistit.setProperties(props);
    persistit.initialize();
  }
 catch (  Exception e) {
    throw new IllegalStateException("Fail to start caches",e);
  }
}
