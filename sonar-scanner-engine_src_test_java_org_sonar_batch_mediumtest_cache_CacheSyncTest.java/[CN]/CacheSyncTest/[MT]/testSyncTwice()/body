{
  LogOutputRecorder logOutput=new LogOutputRecorder();
  tester=BatchMediumTester.builder().bootstrapProperties(ImmutableMap.of(CoreProperties.ANALYSIS_MODE,CoreProperties.ANALYSIS_MODE_ISSUES,"sonar.verbose","true")).registerPlugin("xoo",new XooPlugin()).addRules(new XooRulesDefinition()).addQProfile("lang","name").addActiveRule("xoo","OneIssuePerLine",null,"One issue per line","MAJOR","my/internal/key","xoo").setPreviousAnalysisDate(new Date()).addFileData("test-project","file1",new FileData("hash","123456789")).setLogOutput(logOutput).build();
  tester.start();
  tester.syncProject("test-project");
  tester.syncProject("test-project");
  assertThat(logOutput.getAsString()).contains("-- Found project [test-project]");
  assertThat(logOutput.getAsString()).contains("not found, synchronizing data");
  assertThat(logOutput.getAsString()).contains("], synchronizing data (forced)..");
}
