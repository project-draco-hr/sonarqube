{
  PermissionTemplateDto permissionTemplate=null;
  PermissionTemplateMapper mapper=mapper(session);
  permissionTemplate=mapper.selectByKey(templateKey);
  PermissionTemplateDto templateUsersPermissions=mapper.selectTemplateUsersPermissions(templateKey);
  if (templateUsersPermissions != null) {
    permissionTemplate.setUsersPermissions(templateUsersPermissions.getUsersPermissions());
  }
  PermissionTemplateDto templateGroupsPermissions=mapper.selectTemplateGroupsPermissions(templateKey);
  if (templateGroupsPermissions != null) {
    permissionTemplate.setGroupsByPermission(templateGroupsPermissions.getGroupsPermissions());
  }
  return permissionTemplate;
}
