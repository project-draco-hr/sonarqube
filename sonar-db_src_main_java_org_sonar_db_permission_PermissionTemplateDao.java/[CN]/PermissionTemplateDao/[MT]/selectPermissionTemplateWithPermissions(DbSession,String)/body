{
  PermissionTemplateDto permissionTemplateDto=selectByUuid(session,templateUuid);
  if (permissionTemplateDto == null) {
    throw new IllegalArgumentException("Could not retrieve permission template with uuid " + templateUuid);
  }
  PermissionTemplateDto templateWithPermissions=selectByUuidWithUserAndGroupPermissions(session,permissionTemplateDto.getKee());
  if (templateWithPermissions == null) {
    throw new IllegalArgumentException("Could not retrieve permissions for template with uuid " + templateUuid);
  }
  return templateWithPermissions;
}
