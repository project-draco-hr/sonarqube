{
  final Map<String,Object> parameters=new HashMap<>();
  executeLargeInputsWithoutOutput(templateIds,new Function<List<Long>,Void>(){
    @Override public Void apply(    @Nonnull List<Long> partitionedTemplateIds){
      parameters.put("templateIds",partitionedTemplateIds);
      mapper(dbSession).usersCountByTemplateIdAndPermission(parameters,resultHandler);
      return null;
    }
  }
);
}
