{
  PermissionTemplateDto template;
  PermissionTemplateMapper mapper=mapper(session);
  template=mapper.selectByUuid(templateUuid);
  if (template == null) {
    return null;
  }
  PermissionTemplateDto templateWithUserPermissions=mapper.selectTemplateUsersPermissions(templateUuid);
  List<PermissionTemplateUserDto> userPermissions=templateWithUserPermissions == null ? emptyList() : templateWithUserPermissions.getUsersPermissions();
  template.setUsersPermissions(userPermissions);
  PermissionTemplateDto templateWithGroupPermissions=mapper.selectTemplateGroupsPermissions(templateUuid);
  List<PermissionTemplateGroupDto> groupPermissions=templateWithGroupPermissions == null ? emptyList() : templateWithGroupPermissions.getGroupsPermissions();
  template.setGroupsByPermission(groupPermissions);
  PermissionTemplateDto templateWithCharacteristics=mapper.selectTemplateCharacteristics(templateUuid);
  List<PermissionTemplateCharacteristicDto> characteristics=templateWithCharacteristics == null ? emptyList() : templateWithCharacteristics.getCharacteristics();
  template.setCharacteristics(characteristics);
  return template;
}
