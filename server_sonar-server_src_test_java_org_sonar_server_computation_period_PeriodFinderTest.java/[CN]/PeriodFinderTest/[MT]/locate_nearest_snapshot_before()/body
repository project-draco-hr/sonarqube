{
  Date current=DATE_FORMAT.parse("2010-10-20");
  List<SnapshotDto> snapshots=Arrays.asList(new SnapshotDto().setId(1L).setCreatedAt(DATE_FORMAT.parse("2010-09-30").getTime()),new SnapshotDto().setId(2L).setCreatedAt(DATE_FORMAT.parse("2010-10-03").getTime()),new SnapshotDto().setId(3L).setCreatedAt(DATE_FORMAT.parse("2010-10-08").getTime()),new SnapshotDto().setId(4L).setCreatedAt(DATE_FORMAT.parse("2010-10-12").getTime()));
  assertThat(PeriodFinder.findNearestSnapshotToTargetDate(snapshots,DateUtils.addDays(current,-15).getTime()).getId()).isEqualTo(2);
}
