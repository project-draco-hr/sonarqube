{
  dbTester.prepareDbUnit(getClass(),"find_by_days.xml");
  Period result=periodFinder.findByDays(dbSession,1L,DATE_FORMAT.parse("2008-11-16").getTime(),50);
  assertThat(result.getMode()).isEqualTo(CoreProperties.TIMEMACHINE_MODE_DAYS);
  assertThat(result.getModeParameter()).isEqualTo("50");
  assertThat(result.getSnapshotDate()).isEqualTo(1225544280000L);
  assertThat(result.getTargetDate()).isBetween(DATE_FORMAT.parse("2008-09-26").getTime(),DATE_FORMAT.parse("2008-09-27").getTime());
  assertThat(result.getProjectSnapshot().getId()).isEqualTo(1000L);
}
