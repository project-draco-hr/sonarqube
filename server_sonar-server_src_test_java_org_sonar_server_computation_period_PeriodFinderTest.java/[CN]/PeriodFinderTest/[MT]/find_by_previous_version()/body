{
  dbTester.prepareDbUnit(getClass(),"find_by_previous_version.xml");
  Period result=periodFinder.findByPreviousVersion(dbSession,1L,"1.2-SNAPSHOT");
  assertThat(result.getMode()).isEqualTo(CoreProperties.TIMEMACHINE_MODE_PREVIOUS_VERSION);
  assertThat(result.getModeParameter()).isEqualTo("1.1");
  assertThat(result.getSnapshotDate()).isEqualTo(1225803480000L);
  assertThat(result.getTargetDate()).isEqualTo(1225803480000L);
  assertThat(result.getProjectSnapshot().getId()).isEqualTo(1001L);
}
