{
  Notification notification=new Notification("new-issues").setFieldValue("count","32").setFieldValue("projectName","Struts").setFieldValue("projectKey","org.apache:struts").setFieldValue("projectDate","2010-05-18T16:50:45+0200");
  EmailMessage message=template.format(notification);
  assertThat(message.getMessageId()).isEqualTo("new-issues/org.apache:struts");
  assertThat(message.getSubject()).isEqualTo("Struts: new issues");
  assertThat(message.getMessage()).isEqualTo("" + "Project: Struts\n" + "32 new issues\n"+ "\n"+ "See it in SonarQube: http://nemo.sonarsource.org/issues/search?componentRoots=org.apache%3Astruts&createdAtOrAfter=2010-05-18T16%3A50%3A45%2B0200\n");
}
