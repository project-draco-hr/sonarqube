{
  when(dao.selectAll()).thenReturn(newArrayList(new QualityProfileDto().setId(1).setName("Sonar Way with Findbugs").setLanguage("java").setParent("Sonar Way").setVersion(1).setUsed(false)));
  List<QProfile> result=search.searchProfiles();
  assertThat(result).hasSize(1);
  QProfile qProfile=result.get(0);
  assertThat(qProfile.id()).isEqualTo(1);
  assertThat(qProfile.name()).isEqualTo("Sonar Way with Findbugs");
  assertThat(qProfile.language()).isEqualTo("java");
  assertThat(qProfile.key()).isEqualTo(QProfileKey.of("Sonar Way with Findbugs","java"));
  assertThat(qProfile.parent()).isEqualTo("Sonar Way");
  assertThat(qProfile.version()).isEqualTo(1);
  assertThat(qProfile.used()).isFalse();
}
