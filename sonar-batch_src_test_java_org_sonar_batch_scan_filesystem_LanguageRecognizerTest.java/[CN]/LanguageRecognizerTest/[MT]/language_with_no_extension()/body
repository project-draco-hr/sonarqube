{
  Language[] languages=new Language[]{new MockLanguage("java","java"),new MockLanguage("abap")};
  LanguageRecognizer recognizer=new LanguageRecognizer(newProject("java"),languages);
  recognizer.start();
  assertThat(recognizer.of(temp.newFile("abc"))).isNull();
  assertThat(recognizer.of(temp.newFile("abc.abap"))).isNull();
  assertThat(recognizer.of(temp.newFile("abc.java"))).isEqualTo("java");
  recognizer.stop();
  recognizer=new LanguageRecognizer(newProject("abap"),languages);
  recognizer.start();
  assertThat(recognizer.of(temp.newFile("abc"))).isEqualTo("abap");
  assertThat(recognizer.of(temp.newFile("abc.txt"))).isEqualTo("abap");
  assertThat(recognizer.of(temp.newFile("abc.java"))).isEqualTo("abap");
  recognizer.stop();
}
