{
  Languages languages=new Languages(new MockLanguage("java","java","jav"),new MockLanguage("cobol","cbl","cob"));
  LanguageRecognizer recognizer=new LanguageRecognizer(new Settings(),languages);
  recognizer.start();
  assertThat(recognizer.of(newInputFile("Foo.java"))).isEqualTo("java");
  assertThat(recognizer.of(newInputFile("src/Foo.java"))).isEqualTo("java");
  assertThat(recognizer.of(newInputFile("Foo.JAVA"))).isEqualTo("java");
  assertThat(recognizer.of(newInputFile("Foo.jav"))).isEqualTo("java");
  assertThat(recognizer.of(newInputFile("Foo.Jav"))).isEqualTo("java");
  assertThat(recognizer.of(newInputFile("abc.cbl"))).isEqualTo("cobol");
  assertThat(recognizer.of(newInputFile("abc.CBL"))).isEqualTo("cobol");
  assertThat(recognizer.of(newInputFile("abc.php"))).isNull();
  assertThat(recognizer.of(newInputFile("abc"))).isNull();
  recognizer.stop();
}
