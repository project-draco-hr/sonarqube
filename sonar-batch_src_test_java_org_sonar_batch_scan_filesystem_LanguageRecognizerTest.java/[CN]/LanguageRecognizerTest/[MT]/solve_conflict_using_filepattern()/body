{
  Languages languages=new Languages(new MockLanguage("xml","xhtml"),new MockLanguage("web","xhtml"));
  Settings settings=new Settings();
  settings.setProperty("sonar.xml.filePatterns","xml/**");
  settings.setProperty("sonar.web.filePatterns","web/**");
  LanguageRecognizer recognizer=new LanguageRecognizer(settings,languages);
  recognizer.start();
  assertThat(recognizer.of(newInputFile("xml/abc.xhtml"))).isEqualTo("xml");
  assertThat(recognizer.of(newInputFile("web/abc.xhtml"))).isEqualTo("web");
  recognizer.stop();
}
