{
  Language[] languages=new Language[]{Java.INSTANCE,new Language(){
    @Override public String getKey(){
      return "java2";
    }
    @Override public String getName(){
      return "Java2";
    }
    @Override public String[] getFileSuffixes(){
      return new String[]{"java2","java"};
    }
  }
};
  try {
    new LanguageRecognizer(languages).start();
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage()).isEqualTo("File extension 'java' is declared by two languages: java and java2");
  }
}
