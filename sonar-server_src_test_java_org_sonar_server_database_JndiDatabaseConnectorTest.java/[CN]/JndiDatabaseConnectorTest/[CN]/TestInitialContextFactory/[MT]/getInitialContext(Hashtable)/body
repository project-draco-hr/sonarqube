{
  Context ctx=mock(Context.class);
  DataSource ds=mock(DataSource.class);
  DatabaseMetaData m=mock(DatabaseMetaData.class);
  c=mock(Connection.class);
  try {
    when(ctx.lookup(anyString())).thenReturn(ds);
    when(ds.getConnection()).thenReturn(c);
    when(m.getURL()).thenReturn("testdbcUrl");
    when(c.getMetaData()).thenReturn(m);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return ctx;
}
