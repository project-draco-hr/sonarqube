{
  ConnectorCallable callable=new ConnectorCallable(command,processRef.getProcess());
  ProcessMXBean mxBean=execute(callable,timeoutMs);
  if (mxBean != null) {
    register(processRef,mxBean);
  }
 else   if (!processRef.isTerminated()) {
    throw new IllegalStateException("Fail to connect to JMX RMI server of " + processRef);
  }
}
