{
  setupData("shouldSaveIfNew");
  Metric metric1=new Metric.Builder("new1","short1",Metric.ValueType.FLOAT).setDescription("desc1").setDirection(1).setQualitative(true).setDomain("domain1").setUserManaged(false).create();
  Metric metric2=new Metric.Builder("new2","short2",Metric.ValueType.FLOAT).setDescription("desc2").setDirection(1).setQualitative(true).setDomain("domain2").setUserManaged(false).create();
  RegisterMetrics synchronizer=new RegisterMetrics(new MeasuresDao(getSession()),mock(QualityGateConditionDao.class),new Metrics[0]);
  synchronizer.register(Arrays.asList(metric1,metric2));
  checkTables("shouldSaveIfNew","metrics");
}
