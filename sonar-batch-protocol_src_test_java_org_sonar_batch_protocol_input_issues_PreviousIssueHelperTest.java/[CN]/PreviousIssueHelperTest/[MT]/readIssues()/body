{
  PreviousIssueHelper helper=PreviousIssueHelper.create();
  StringReader reader=new StringReader("[{\"key\": \"key1\", \"componentPath\": \"path\", \"ruleKey\": \"rulekey\", \"ruleRepo\": \"repokey\", \"line\": 2,\"message\": \"message\", \"severity\": \"severity\", \"resolution\": \"resolution\", \"status\": \"status\", \"checksum\": \"checksum\",\"assigneeLogin\": \"login\", \"assigneeFullname\": \"fullname\"}," + "{\"key\": \"key2\"}]");
  Iterator<PreviousIssue> iterator=helper.getIssues(reader).iterator();
  PreviousIssue issue1=iterator.next();
  assertThat(iterator.hasNext()).isTrue();
  PreviousIssue issue2=iterator.next();
  assertThat(iterator.hasNext()).isFalse();
  assertThat(issue1.key()).isEqualTo("key1");
  assertThat(issue1.componentPath()).isEqualTo("path");
  assertThat(issue1.ruleRepo()).isEqualTo("repokey");
  assertThat(issue1.ruleKey()).isEqualTo("rulekey");
  assertThat(issue1.line()).isEqualTo(2);
  assertThat(issue1.message()).isEqualTo("message");
  assertThat(issue1.severity()).isEqualTo("severity");
  assertThat(issue1.resolution()).isEqualTo("resolution");
  assertThat(issue1.status()).isEqualTo("status");
  assertThat(issue1.checksum()).isEqualTo("checksum");
  assertThat(issue1.assigneeLogin()).isEqualTo("login");
  assertThat(issue1.assigneeFullname()).isEqualTo("fullname");
  assertThat(issue2.key()).isEqualTo("key2");
}
