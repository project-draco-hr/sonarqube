{
  if (params.length % 2 == 1) {
    throw new IllegalArgumentException(String.format("Expecting even number of elements. Got %s",Arrays.toString(params)));
  }
  Map<String,Object> map=new HashMap<>();
  for (int index=0; index < params.length; index++) {
    if (params[index] == null) {
      throw new IllegalArgumentException(String.format("Parameter key can't be null at index %d of %s",index,Arrays.toString(params)));
    }
    map.put(params[index].toString(),params[index + 1]);
    index++;
  }
  return map;
}
