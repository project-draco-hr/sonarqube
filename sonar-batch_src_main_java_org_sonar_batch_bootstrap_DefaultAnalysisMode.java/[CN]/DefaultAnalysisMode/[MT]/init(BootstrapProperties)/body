{
  if (bootstrapProps.properties().containsKey(CoreProperties.DRY_RUN)) {
    LOG.warn(MessageFormat.format("Property {0} is deprecated. Please use {1} instead.",CoreProperties.DRY_RUN,CoreProperties.ANALYSIS_MODE));
    preview="true".equals(bootstrapProps.property(CoreProperties.DRY_RUN));
    incremental=false;
    mediumTestMode=false;
  }
 else {
    String mode=bootstrapProps.property(CoreProperties.ANALYSIS_MODE);
    preview=CoreProperties.ANALYSIS_MODE_PREVIEW.equals(mode);
    incremental=CoreProperties.ANALYSIS_MODE_INCREMENTAL.equals(mode);
    mediumTestMode=CoreProperties.ANALYSIS_MODE_MEDIUM_TEST.equals(mode);
  }
  if (incremental) {
    LOG.info("Incremental mode");
  }
 else   if (preview) {
    LOG.info("Preview mode");
  }
 else   if (mediumTestMode) {
    LOG.info("Medium test mode");
  }
  if (incremental || preview) {
    bootstrapProps.properties().put(CoreProperties.DRY_RUN,"true");
  }
}
