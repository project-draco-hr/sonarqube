{
  try {
    ClassLoader resourcesClassLoader=new ResourcesClassLoader(urls,baseClassLoader);
    final ClassRealm realm;
    if (childFirst) {
      ClassRealm parentRealm=world.newRealm(key + "-parent",resourcesClassLoader);
      realm=parentRealm.createChildRealm(key);
    }
 else {
      realm=world.newRealm(key,resourcesClassLoader);
    }
    for (    URL constituent : urls) {
      realm.addConstituent(constituent);
    }
    return realm.getClassLoader();
  }
 catch (  DuplicateRealmException e) {
    throw new SonarException(e);
  }
}
