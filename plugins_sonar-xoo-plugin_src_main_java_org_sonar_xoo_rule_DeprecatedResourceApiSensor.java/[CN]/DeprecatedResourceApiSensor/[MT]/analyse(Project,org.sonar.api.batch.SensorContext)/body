{
  for (  File f : fileSystem.files(FileQuery.onMain().onLanguage(Xoo.KEY))) {
    String relativePathFromSourceDir=new PathResolver().relativePath(fileSystem.baseDir(),f);
    org.sonar.api.resources.File sonarFile=org.sonar.api.resources.File.create(relativePathFromSourceDir);
    Issuable issuable=perspectives.as(Issuable.class,sonarFile);
    issuable.addIssue(issuable.newIssueBuilder().ruleKey(RuleKey.of(XooRulesDefinition.XOO_REPOSITORY,RULE_KEY)).message("Issue created using deprecated API").line(1).build());
    issuable.addIssue(issuable.newIssueBuilder().ruleKey(RuleKey.of(XooRulesDefinition.XOO_REPOSITORY,RULE_KEY)).message(null).line(null).build());
    sonarFile=context.getResource(sonarFile);
    Directory parent=sonarFile.getParent();
    createIssueOnDir(parent);
  }
}
