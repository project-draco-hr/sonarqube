{
  super(response);
  for (  SearchHit hit : response.getHits()) {
    String ruleKey=hit.getFields().get(RuleNormalizer.RuleField.KEY.key()).getValue();
    if (hit.getFields().containsKey(RuleNormalizer.RuleField.ACTIVE.key())) {
      Map<String,Map<String,Object>> activeRulesForHit=hit.getFields().get(RuleNormalizer.RuleField.ACTIVE.key()).getValue();
      for (      Map.Entry<String,Map<String,Object>> activeRule : activeRulesForHit.entrySet()) {
        activeRules.put(ruleKey,new ActiveRuleDoc(ActiveRuleKey.parse(activeRule.getKey()),activeRule.getValue()));
      }
    }
  }
}
