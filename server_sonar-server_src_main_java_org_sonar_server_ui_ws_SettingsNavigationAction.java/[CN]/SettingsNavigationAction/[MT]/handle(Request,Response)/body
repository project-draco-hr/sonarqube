{
  boolean isAdmin=userSession.hasPermission(GlobalPermissions.SYSTEM_ADMIN);
  JsonWriter json=response.newJsonWriter().beginObject();
  json.prop("showUpdateCenter",isAdmin && settings.getBoolean(UpdateCenterClient.ACTIVATION_PROPERTY));
  json.prop("showProvisioning",userSession.hasPermission(GlobalPermissions.PROVISIONING));
  json.name("extensions").beginArray();
  if (isAdmin) {
    for (    ViewProxy<Page> page : views.getPages(NavigationSection.CONFIGURATION,null,null,null)) {
      json.beginObject().prop("name",i18n.message(userSession.locale(),String.format("%s.page",page.getTitle()),page.getTitle())).prop("url",getPageUrl(page)).endObject();
    }
  }
  json.endArray();
  json.endObject().close();
}
