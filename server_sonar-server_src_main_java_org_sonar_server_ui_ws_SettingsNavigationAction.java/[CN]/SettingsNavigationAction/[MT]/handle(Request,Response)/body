{
  boolean isAdmin=UserSession.get().hasGlobalPermission(GlobalPermissions.SYSTEM_ADMIN);
  JsonWriter json=response.newJsonWriter().beginObject();
  json.prop("showUpdateCenter",isAdmin && settings.getBoolean(UpdateCenterClient.ACTIVATION_PROPERTY));
  json.name("plugins").beginArray();
  if (isAdmin) {
    for (    ViewProxy<Page> page : views.getPages(NavigationSection.CONFIGURATION,null,null,null,null)) {
      json.beginObject().prop("name",i18n.message(UserSession.get().locale(),String.format("%s.page",page.getTitle()),page.getTitle())).prop("url",getPageUrl(page)).endObject();
    }
  }
  json.endArray();
  json.endObject().close();
}
