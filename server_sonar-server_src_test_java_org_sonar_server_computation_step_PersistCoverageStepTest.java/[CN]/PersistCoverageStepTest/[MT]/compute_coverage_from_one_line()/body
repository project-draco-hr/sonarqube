{
  BatchReportWriter writer=initReport();
  writer.writeFileCoverage(BatchReport.Coverage.newBuilder().setFileRef(FILE_REF).addAllConditionsByLine(Arrays.asList(10)).addAllUtHitsByLine(Arrays.asList(true)).addAllUtCoveredConditionsByLine(Arrays.asList(2)).addAllItHitsByLine(Arrays.asList(false)).addAllItCoveredConditionsByLine(Arrays.asList(3)).addAllOverallCoveredConditionsByLine(Arrays.asList(4)).build());
  step.execute(new ComputationContext(new BatchReportReader(reportDir),mock(ComponentDto.class)));
  FileSourceDb.Data data=step.getFileSourceData();
  assertThat(data.getLines(0).getUtLineHits()).isEqualTo(1);
  assertThat(data.getLines(0).getUtConditions()).isEqualTo(10);
  assertThat(data.getLines(0).getUtCoveredConditions()).isEqualTo(2);
  assertThat(data.getLines(0).hasItLineHits()).isFalse();
  assertThat(data.getLines(0).getItConditions()).isEqualTo(10);
  assertThat(data.getLines(0).getItCoveredConditions()).isEqualTo(3);
  assertThat(data.getLines(0).getOverallLineHits()).isEqualTo(1);
  assertThat(data.getLines(0).getOverallConditions()).isEqualTo(10);
  assertThat(data.getLines(0).getOverallCoveredConditions()).isEqualTo(4);
}
