{
  BatchReportWriter writer=initReport();
  writer.writeFileCoverage(FILE_REF,newArrayList(BatchReport.Coverage.newBuilder().setLine(1).setConditions(10).setUtHits(true).setUtCoveredConditions(2).setItHits(false).setItCoveredConditions(3).setOverallCoveredConditions(4).build()));
  step.execute(new ComputationContext(new BatchReportReader(reportDir),mock(ComponentDto.class)));
  FileSourceDb.Data data=step.getFileSourceData();
  assertThat(data.getLinesList()).hasSize(1);
  assertThat(data.getLines(0).getUtLineHits()).isEqualTo(1);
  assertThat(data.getLines(0).getUtConditions()).isEqualTo(10);
  assertThat(data.getLines(0).getUtCoveredConditions()).isEqualTo(2);
  assertThat(data.getLines(0).hasItLineHits()).isFalse();
  assertThat(data.getLines(0).getItConditions()).isEqualTo(10);
  assertThat(data.getLines(0).getItCoveredConditions()).isEqualTo(3);
  assertThat(data.getLines(0).getOverallLineHits()).isEqualTo(1);
  assertThat(data.getLines(0).getOverallConditions()).isEqualTo(10);
  assertThat(data.getLines(0).getOverallCoveredConditions()).isEqualTo(4);
}
