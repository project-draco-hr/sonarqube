{
  RulesProfile profile=mock(RulesProfile.class);
  when(profile.getId()).thenReturn(1);
  when(hibernateSession.getSingleResult(any(Class.class),eq("id"),eq(1))).thenReturn(profile);
  ProfileExporter exporter=mock(ProfileExporter.class);
  when(exporter.getKey()).thenReturn("pmd");
  exporters.add(exporter);
  operations.exportToXml(new QProfile().setId(1),"pmd");
  verify(exporter).exportProfile(eq(profile),any(Writer.class));
}
