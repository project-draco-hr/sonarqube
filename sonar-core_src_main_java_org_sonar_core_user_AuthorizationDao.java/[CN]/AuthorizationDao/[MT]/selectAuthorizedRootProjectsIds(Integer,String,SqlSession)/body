{
  String sql;
  Map<String,Object> params=newHashMap();
  if (userId == null) {
    sql="selectAuthorizedRootProjectsIdsForAnonymous";
    params.put("role",role);
  }
 else {
    sql="selectAuthorizedRootProjectsIdsForUser";
    params.put("userId",userId);
    params.put("role",role);
  }
  return Sets.newHashSet(session.<Integer>selectList(sql,params));
}
