{
  java.io.File baseDir=temp.newFolder();
  Project project=mock(Project.class);
  ProjectFileSystem fileSystem=mock(ProjectFileSystem.class);
  when(project.getFileSystem()).thenReturn(fileSystem);
  when(fileSystem.getBasedir()).thenReturn(baseDir);
  Resource file=File.fromIOFile(new java.io.File(baseDir,"src/foo/bar/toto.sql"),project);
  assertThat(file.getKey(),is("src/foo/bar/toto.sql"));
}
