{
  insertPermissionsForProject(DEFAULT_PROJECT_KEY);
  insertPermissionsForProject("2");
  insertPermissionsForProject("3");
  sut.add(DEFAULT_PROJECT_KEY,123L,defaultReportData());
  sut.add("2",123L,defaultReportData());
  sut.add("3",123L,defaultReportData());
  AnalysisReportDto firstBookedReport=sut.pop();
  AnalysisReportDto secondBookedReport=sut.pop();
  AnalysisReportDto thirdBookedReport=sut.pop();
  assertThat(firstBookedReport.getProjectKey()).isEqualTo(DEFAULT_PROJECT_KEY);
  assertThat(firstBookedReport.getStatus()).isEqualTo(WORKING);
  assertThat(firstBookedReport.getStartedAt()).isNotNull();
  assertThat(secondBookedReport.getProjectKey()).isEqualTo("2");
  assertThat(thirdBookedReport.getProjectKey()).isEqualTo("3");
}
