{
  expected.expect(BadRequestException.class);
  expected.expectMessage("A template with that name already exists");
  PermissionTemplateDto template1=new PermissionTemplateDto().setId(1L).setName("template1").setDescription("template1");
  PermissionTemplateDto template2=new PermissionTemplateDto().setId(2L).setName("template2").setDescription("template2");
  when(permissionTemplateDao.selectAllPermissionTemplates()).thenReturn(Lists.newArrayList(template1,template2));
  service.updatePermissionTemplate(1L,"template2","template1",null);
}
