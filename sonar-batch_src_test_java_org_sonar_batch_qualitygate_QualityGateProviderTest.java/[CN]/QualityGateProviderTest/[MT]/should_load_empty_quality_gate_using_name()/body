{
  String qGateName="Sonar way";
  when(settings.getString("sonar.qualitygate")).thenReturn(qGateName);
  when(client.request("/api/qualitygates/show?name=Sonar way",false)).thenReturn("{'id':12345,'name':'Sonar way'}");
  QualityGate qGate=new QualityGateProvider().init(settings,client,metricFinder,logger);
  assertThat(qGate.name()).isEqualTo(qGateName);
  assertThat(qGate.isEnabled()).isTrue();
  assertThat(qGate.conditions()).isEmpty();
  verify(logger).info("Loaded quality gate '{}'",qGateName);
}
