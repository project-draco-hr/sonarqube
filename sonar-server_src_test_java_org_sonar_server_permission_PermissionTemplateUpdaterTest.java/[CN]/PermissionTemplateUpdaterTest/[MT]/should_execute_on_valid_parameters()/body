{
  final PermissionDao permissionDao=mock(PermissionDao.class);
  when(permissionDao.selectTemplateByName("my template")).thenReturn(new PermissionTemplateDto().setId(1L));
  PermissionTemplateUpdater updater=new PermissionTemplateUpdater("my template",Permission.SCAN_EXECUTION.key(),"user",permissionDao,userDao){
    @Override void doExecute(    Long templateId,    String permission){
      permissionDao.addUserPermission(1L,1L,Permission.SCAN_EXECUTION.key());
    }
  }
;
  updater.executeUpdate();
  verify(permissionDao,times(1)).addUserPermission(1L,1L,Permission.SCAN_EXECUTION.key());
}
