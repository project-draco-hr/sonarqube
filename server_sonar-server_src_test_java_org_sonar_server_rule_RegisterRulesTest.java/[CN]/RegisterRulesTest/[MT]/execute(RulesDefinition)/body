{
  RuleDefinitionsLoader loader=new RuleDefinitionsLoader(mock(DeprecatedRulesDefinitionLoader.class),new RuleRepositories(),defs);
  Languages languages=mock(Languages.class);
  when(languages.get("java")).thenReturn(mock(Language.class));
  RegisterRules task=new RegisterRules(loader,ruleActivator,dbClient,languages);
  task.start();
  dbSession.commit();
}
