{
  Settings settings=new Settings();
  settings.setProperty("sonar.profile.java","legacy profile");
  when(dao.getProfile(Java.KEY,"legacy profile")).thenReturn(RulesProfile.create("legacy profile","java"));
  RulesProfile profile=new DefaultProfileLoader(dao,settings).load(javaProject);
  assertThat(profile.getName()).isEqualTo("legacy profile");
}
