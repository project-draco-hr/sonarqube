{
  long measureValue=10;
  ReportComponent fileComponent=createFileComponent(languageKey,1);
  treeRootHolder.setRoot(fileComponent);
  measureRepository.addRawMeasure(fileComponent.getReportAttributes().getRef(),metricKey,newMeasureBuilder().create(measureValue));
  measureRepository.addRawMeasure(fileComponent.getReportAttributes().getRef(),TECHNICAL_DEBT_KEY,newMeasureBuilder().create(debt));
  underTest.visit(fileComponent);
  verifyFileMeasures(fileComponent.getReportAttributes().getRef(),measureValue,debt,languageCost,expectedRating);
}
