{
  configure(getClass().getResource("SwitchLogbackAppenderTest/valid-switch.xml"));
  String initialThreadName=Thread.currentThread().getName();
  Thread.currentThread().setName(ComputationWorkerLauncher.THREAD_NAME_PREFIX + "test");
  try {
    logger.info("hello");
    assertThat(analyisReports.list).hasSize(1);
    assertThat(analyisReports.list.get(0).getMessage()).isEqualTo("hello");
    assertThat(console.list).isEmpty();
    logger.warn("a warning");
    assertThat(analyisReports.list).hasSize(2);
    assertThat(analyisReports.list.get(1).getMessage()).isEqualTo("a warning");
    assertThat(console.list).hasSize(1);
    assertThat(console.list.get(0).getMessage()).isEqualTo("a warning");
    logger.error("an error");
    assertThat(analyisReports.list).hasSize(3);
    assertThat(analyisReports.list.get(2).getMessage()).isEqualTo("an error");
    assertThat(console.list).hasSize(2);
    assertThat(console.list.get(1).getMessage()).isEqualTo("an error");
  }
  finally {
    Thread.currentThread().setName(initialThreadName);
  }
}
