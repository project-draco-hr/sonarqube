{
  ProfilePrototype profile=ProfilePrototype.create();
  profile.activateRule("checkstyle","JavadocCheck",RulePriority.MINOR);
  profile.activateRule("checkstyle","EqualsHashCodeCheck",RulePriority.BLOCKER);
  profile.activateRule("findbugs","DetectNullPointer",RulePriority.BLOCKER);
  assertThat(profile.getRules().size(),is(3));
  assertThat(profile.getRulesByRepositoryKey("checkstyle").size(),is(2));
  assertThat(profile.getRulesByRepositoryKey("pmd").size(),is(0));
  assertThat(profile.getRule("findbugs","DetectNullPointer"),not(nullValue()));
  assertThat(profile.getRule("findbugs","DetectNullPointer").getPriority(),is(RulePriority.BLOCKER));
}
