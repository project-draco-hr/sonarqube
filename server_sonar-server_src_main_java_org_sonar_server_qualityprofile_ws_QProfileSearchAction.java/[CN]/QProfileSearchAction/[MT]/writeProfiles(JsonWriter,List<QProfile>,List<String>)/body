{
  json.name("profiles").beginArray();
  for (  QProfile profile : profiles) {
    json.beginObject().prop(FIELD_KEY,nullUnlessNeeded(FIELD_KEY,profile.key(),fields)).prop(FIELD_NAME,nullUnlessNeeded(FIELD_NAME,profile.name(),fields)).prop(FIELD_LANGUAGE,nullUnlessNeeded(FIELD_LANGUAGE,profile.language(),fields)).prop(FIELD_PARENT_KEY,nullUnlessNeeded(FIELD_PARENT_KEY,profile.parent(),fields));
    if (fieldIsNeeded(FIELD_IS_INHERITED,fields)) {
      json.prop(FIELD_IS_INHERITED,profile.isInherited());
    }
    if (fieldIsNeeded(FIELD_IS_DEFAULT,fields) && profile.isDefault()) {
      json.prop(FIELD_IS_DEFAULT,true);
    }
    json.endObject();
  }
  json.endArray();
}
