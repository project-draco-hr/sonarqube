{
  PurgeDao purgeDao=mock(PurgeDao.class);
  when(purgeDao.purge(anyLong(),(String[])any())).thenThrow(new RuntimeException());
  DefaultPurgeTask task=new DefaultPurgeTask(purgeDao,new Settings(),mock(DefaultPeriodCleaner.class),mock(PurgeProfiler.class));
  task.purge(1L);
  verify(purgeDao).purge(anyLong(),(String[])any());
}
