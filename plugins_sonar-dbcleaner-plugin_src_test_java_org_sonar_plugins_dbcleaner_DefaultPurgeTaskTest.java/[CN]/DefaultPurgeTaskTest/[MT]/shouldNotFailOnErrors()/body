{
  PurgeDao purgeDao=mock(PurgeDao.class);
  when(purgeDao.purgeProject(anyLong())).thenThrow(new RuntimeException());
  DefaultPurgeTask task=new DefaultPurgeTask(purgeDao,new Settings(),mock(DefaultPeriodCleaner.class));
  task.purgeProject(1L);
  verify(purgeDao).purgeProject(anyLong());
}
