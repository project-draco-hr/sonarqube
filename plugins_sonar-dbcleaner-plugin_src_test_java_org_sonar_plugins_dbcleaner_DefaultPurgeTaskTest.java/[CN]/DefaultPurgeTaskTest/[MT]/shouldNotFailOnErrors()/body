{
  PurgeDao purgeDao=mock(PurgeDao.class);
  when(purgeDao.purgeProject(anyLong(),(String[])any())).thenThrow(new RuntimeException());
  DefaultPurgeTask task=new DefaultPurgeTask(purgeDao,new Settings(),mock(DefaultPeriodCleaner.class));
  task.purge(1L);
  verify(purgeDao).purgeProject(anyLong(),(String[])any());
}
