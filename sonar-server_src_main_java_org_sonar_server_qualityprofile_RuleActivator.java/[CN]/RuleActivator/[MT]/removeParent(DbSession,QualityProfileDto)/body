{
  if (profileDto.getParent() != null) {
    profileDto.setParent(null);
    db.qualityProfileDao().update(dbSession,profileDto);
    for (    ActiveRuleDto activeRule : db.activeRuleDao().findByProfileKey(dbSession,profileDto.getKey())) {
      deactivate(dbSession,activeRule.getKey());
    }
  }
}
