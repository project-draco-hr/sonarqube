{
  List<ActiveRuleChange> changes=Lists.newArrayList();
  List<ActiveRuleDto> activeRules=db.activeRuleDao().findByRule(dbSession,ruleDto);
  for (  ActiveRuleDto activeRule : activeRules) {
    changes.addAll(deactivate(dbSession,activeRule.getKey(),true));
  }
  dbSession.commit();
  return changes;
}
