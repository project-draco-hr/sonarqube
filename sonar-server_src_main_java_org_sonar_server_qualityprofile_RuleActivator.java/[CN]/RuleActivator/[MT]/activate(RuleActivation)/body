{
  verifyPermission(UserSession.get());
  DbSession dbSession=db.openSession(false);
  List<ActiveRuleChange> changes=Lists.newArrayList();
  try {
    changes.addAll(activate(activation,dbSession));
    if (!changes.isEmpty()) {
      dbSession.commit();
      previewCache.reportGlobalModification();
    }
  }
  finally {
    dbSession.close();
  }
  return changes;
}
