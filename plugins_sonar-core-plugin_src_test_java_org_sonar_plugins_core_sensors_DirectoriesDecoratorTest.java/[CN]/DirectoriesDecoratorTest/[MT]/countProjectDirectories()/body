{
  DirectoriesDecorator decorator=new DirectoriesDecorator();
  Resource project=new Project("project");
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getChildrenMeasures(CoreMetrics.DIRECTORIES)).thenReturn(Arrays.<Measure>asList(new Measure(CoreMetrics.DIRECTORIES,1.0),new Measure(CoreMetrics.DIRECTORIES,1.0),new Measure(CoreMetrics.DIRECTORIES,1.0)));
  decorator.decorate(project,context);
  verify(context).saveMeasure(CoreMetrics.DIRECTORIES,3.0);
}
