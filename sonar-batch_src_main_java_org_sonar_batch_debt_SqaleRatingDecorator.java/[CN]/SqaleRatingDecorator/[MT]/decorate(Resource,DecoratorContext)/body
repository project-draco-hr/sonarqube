{
  if (ResourceUtils.isPersistable(resource) && !ResourceUtils.isUnitTestClass(resource)) {
    Long developmentCost=getDevelopmentCost(context);
    context.saveMeasure(new Measure(CoreMetrics.DEVELOPMENT_COST,Long.toString(developmentCost)));
    long debt=getMeasureValue(context,CoreMetrics.TECHNICAL_DEBT);
    double density=computeDensity(debt,developmentCost);
    context.saveMeasure(CoreMetrics.SQALE_DEBT_RATIO,100.0 * density);
    SqaleRatingGrid ratingGrid=new SqaleRatingGrid(sqaleRatingSettings.getRatingGrid());
    context.saveMeasure(createRatingMeasure(ratingGrid.getRatingForDensity(density)));
  }
}
