{
  MeasureFilter filter=new MeasureFilter();
  filter.setBaseResourceKey((String)properties.get("base"));
  if (properties.containsKey("baseId")) {
    filter.setBaseResourceId(Long.valueOf((String)properties.get("baseId")));
  }
  filter.setResourceScopes(toList(properties.get("scopes")));
  filter.setResourceQualifiers(toList(properties.get("qualifiers")));
  filter.setResourceLanguages(toList(properties.get("languages")));
  MeasureFilterCondition condition=alertToCondition(toList(properties.get("alertLevels")));
  if (condition != null) {
    filter.addCondition(condition);
  }
  if (properties.containsKey("onBaseComponents")) {
    filter.setOnBaseResourceChildren(Boolean.valueOf((String)properties.get("onBaseComponents")));
  }
  filter.setResourceName((String)properties.get("nameSearch"));
  filter.setResourceKeyRegexp((String)properties.get("keyRegexp"));
  if (properties.containsKey("onFavourites")) {
    filter.setUserFavourites(Boolean.valueOf((String)properties.get("onFavourites")));
  }
  fillDateConditions(filter,properties);
  fillSorting(filter,properties);
  fillMeasureConditions(properties,filter);
  return filter;
}
