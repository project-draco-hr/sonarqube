{
  String projectUuid="abcd";
  String fileUuid="efgh";
  String componentKey="componentKey";
  when(componentService.getByUuid(fileUuid)).thenReturn(new ComponentDto().setKey(componentKey).setProjectUuid(projectUuid));
  MockUserSession.set().setLogin("login").addProjectUuidPermissions(UserRole.CODEVIEWER,projectUuid);
  when(sourceLineIndex.getLines(fileUuid,3,3)).thenReturn(newArrayList(new SourceLineDoc().setProjectUuid(projectUuid).setFileUuid(fileUuid).setLine(3).setScmRevision("cafebabe").setScmDate(null).setScmAuthor("polop").setSource("}").setHighlighting("").setSymbols("").setUtLineHits(null).setUtConditions(null).setUtCoveredConditions(null).setItLineHits(null).setItConditions(null).setItCoveredConditions(null).setDuplications(null).setUpdateDate(new Date())));
  WsTester.TestRequest request=tester.newGetRequest("api/sources","lines").setParam("uuid",fileUuid).setParam("from","3").setParam("to","3");
  request.execute().assertJson(getClass(),"show_source_with_params_from_and_to.json");
}
