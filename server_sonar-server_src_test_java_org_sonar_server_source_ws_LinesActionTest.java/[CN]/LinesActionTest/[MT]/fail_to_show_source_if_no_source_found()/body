{
  String componentUuid="abcd";
  String projectUuid="efgh";
  when(sourceLineIndex.getLines(anyString(),anyInt(),anyInt())).thenReturn(Lists.<SourceLineDoc>newArrayList());
  String componentKey="componentKey";
  when(componentService.getByUuid(componentUuid)).thenReturn(new ComponentDto().setKey(componentKey).setProjectUuid(projectUuid));
  MockUserSession.set().setLogin("login").addProjectUuidPermissions(UserRole.CODEVIEWER,projectUuid);
  try {
    WsTester.TestRequest request=tester.newGetRequest("api/sources","lines").setParam("uuid",componentUuid);
    request.execute();
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(NotFoundException.class);
  }
}
