{
  newFile();
  esTester.putDocuments(SourceLineIndexDefinition.INDEX,SourceLineIndexDefinition.TYPE,new SourceLineDoc().setProjectUuid(PROJECT_UUID).setFileUuid(FILE_UUID).setLine(3).setScmRevision("cafebabe").setScmDate(null).setScmAuthor("polop").setSource("}").setHighlighting("").setSymbols("").setUtLineHits(null).setUtConditions(null).setUtCoveredConditions(null).setItLineHits(null).setItConditions(null).setItCoveredConditions(null).setDuplications(null).setUpdateDate(new Date()));
  userSessionRule.login("login").addProjectUuidPermissions(UserRole.CODEVIEWER,PROJECT_UUID);
  WsTester.TestRequest request=wsTester.newGetRequest("api/sources","lines").setParam("key",FILE_KEY);
  request.execute().assertJson(getClass(),"show_source_by_file_key.json");
}
