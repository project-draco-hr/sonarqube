{
  tester=new WsTester(new SourcesWs(mock(ShowAction.class),mock(RawAction.class),new LinesAction(sourceLineIndex,htmlSourceDecorator,componentService),mock(HashAction.class),mock(IndexAction.class)));
  when(htmlSourceDecorator.getDecoratedSourceAsHtml(anyString(),anyString(),anyString())).thenAnswer(new Answer<String>(){
    @Override public String answer(    InvocationOnMock invocation) throws Throwable {
      return "<span class=\"" + invocation.getArguments()[1] + " sym-"+ invocation.getArguments()[2]+ "\">"+ StringEscapeUtils.escapeHtml((String)invocation.getArguments()[0])+ "</span>";
    }
  }
);
}
