{
  tester=BatchMediumTester.builder().bootstrapProperties(ImmutableMap.of(CoreProperties.ANALYSIS_MODE,CoreProperties.ANALYSIS_MODE_ISSUES,CoreProperties.GLOBAL_WORKING_DIRECTORY,temp.newFolder().getAbsolutePath())).registerPlugin("xoo",new XooPlugin()).addQProfile("xoo","Sonar Way").addRules(new XooRulesDefinition()).addRule("manual:MyManualIssue","manual","MyManualIssue","My manual issue").addRule("manual:MyManualIssueDup","manual","MyManualIssue","My manual issue").activateRule(new ActiveRule("xoo","OneIssuePerLine",null,"One issue per line","MAJOR",null,"xoo")).activateRule(new ActiveRule("xoo","OneIssueOnDirPerFile",null,"OneIssueOnDirPerFile","MAJOR",null,"xoo")).activateRule(new ActiveRule("xoo","OneIssuePerModule",null,"OneIssuePerModule","MAJOR",null,"xoo")).activateRule(new ActiveRule("manual","MyManualIssue",null,"My manual issue","MAJOR",null,null)).setAssociated(false).build();
  tester.start();
}
