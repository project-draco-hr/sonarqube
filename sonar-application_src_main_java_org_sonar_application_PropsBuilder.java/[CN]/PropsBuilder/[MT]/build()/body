{
  Properties p=loadPropertiesFile(homeDir);
  p.putAll(rawProperties);
  p.setProperty(ProcessProperties.PATH_HOME,homeDir.getAbsolutePath());
  p=ConfigurationUtils.interpolateVariables(p,System.getenv());
  Props props=new Props(p);
  ProcessProperties.completeDefaults(props);
  initExistingDir(props,ProcessProperties.PATH_DATA,"data");
  initExistingDir(props,ProcessProperties.PATH_WEB,"web");
  initExistingDir(props,ProcessProperties.PATH_LOGS,"logs");
  initTempDir(props);
  jdbcSettings.checkAndComplete(homeDir,props);
  return props;
}
