{
  NewIndex index=context.create(INDEX);
  EsUtils.setShards(index,settings);
  NewIndex.NewIndexType mapping=index.createType(TYPE_USER);
  mapping.setAttribute("_id",ImmutableMap.of("path",FIELD_LOGIN));
  mapping.stringFieldBuilder(FIELD_LOGIN).build();
  mapping.stringFieldBuilder(FIELD_NAME).build();
  mapping.stringFieldBuilder(FIELD_EMAIL).enableSorting().build();
  mapping.createDateTimeField(FIELD_CREATED_AT);
  mapping.createDateTimeField(FIELD_UPDATED_AT);
  mapping.createBooleanField(FIELD_ACTIVE);
  mapping.stringFieldBuilder(FIELD_SCM_ACCOUNTS).build();
}
