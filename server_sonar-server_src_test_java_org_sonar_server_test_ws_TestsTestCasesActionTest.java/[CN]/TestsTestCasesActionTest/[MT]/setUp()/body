{
  SnapshotPerspectives snapshotPerspectives=mock(SnapshotPerspectives.class);
  when(snapshotPerspectives.as(MutableTestable.class,FILE_KEY)).thenReturn(testable);
  when(dbClient.componentDao()).thenReturn(componentDao);
  when(dbClient.openSession(false)).thenReturn(mock(DbSession.class));
  tester=new WsTester(new TestsWs(mock(TestsShowAction.class),new TestsTestCasesAction(snapshotPerspectives,componentService,dbClient),mock(TestsCoveredFilesAction.class)));
}
