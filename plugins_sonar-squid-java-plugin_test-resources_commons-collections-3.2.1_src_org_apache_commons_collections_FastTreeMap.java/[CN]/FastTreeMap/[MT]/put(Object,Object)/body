{
  if (fast) {
synchronized (this) {
      TreeMap temp=(TreeMap)map.clone();
      Object result=temp.put(key,value);
      map=temp;
      return (result);
    }
  }
 else {
synchronized (map) {
      return (map.put(key,value));
    }
  }
}
