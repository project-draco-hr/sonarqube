{
  I18nManager i18n=mock(I18nManager.class);
  when(i18n.getPropertyKeys()).thenReturn(Sets.newHashSet("rule.pmd.Header.name","rule.pmd.Header.param.pattern","rule.checkstyle.com.puppycrawl.tools.checkstyle.checks.annotation.AnnotationUseStyleCheck.name","by","something.else"));
  RuleI18nManager ruleI18n=new RuleI18nManager(i18n);
  ruleI18n.start();
  List<RuleI18nManager.RuleKey> keys=Arrays.asList(ruleI18n.getRuleKeys());
  assertThat(keys.size(),Is.is(2));
  assertThat(keys,hasItem(new RuleI18nManager.RuleKey("pmd","Header")));
  assertThat(keys,hasItem(new RuleI18nManager.RuleKey("checkstyle","com.puppycrawl.tools.checkstyle.checks.annotation.AnnotationUseStyleCheck")));
}
