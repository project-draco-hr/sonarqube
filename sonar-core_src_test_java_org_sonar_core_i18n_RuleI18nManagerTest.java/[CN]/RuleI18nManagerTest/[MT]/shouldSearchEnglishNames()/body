{
  I18nManager i18n=mock(I18nManager.class);
  when(i18n.getPropertyKeys()).thenReturn(Sets.newHashSet("rule.pmd.Header.name","rule.checkstyle.AnnotationUseStyleCheck.name"));
  when(i18n.message(Locale.ENGLISH,"rule.pmd.Header.name",null)).thenReturn("HEADER PMD CHECK");
  when(i18n.message(Locale.ENGLISH,"rule.checkstyle.AnnotationUseStyleCheck.name",null)).thenReturn("check annotation style");
  RuleI18nManager ruleI18n=new RuleI18nManager(i18n);
  ruleI18n.start();
  List<RuleI18nManager.RuleKey> result=ruleI18n.searchNames("ANNOTATion",Locale.ENGLISH);
  assertThat(result.size(),Is.is(1));
  assertThat(result.get(0).getRepositoryKey(),Is.is("checkstyle"));
  result=ruleI18n.searchNames("bibopaloula",Locale.ENGLISH);
  assertThat(result.size(),Is.is(0));
}
