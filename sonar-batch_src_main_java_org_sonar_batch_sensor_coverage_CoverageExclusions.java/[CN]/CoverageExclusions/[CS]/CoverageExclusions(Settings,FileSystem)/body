{
  this.settings=settings;
  this.fs=fs;
  this.coverageMetrics=new HashSet<>();
  this.byLineMetrics=new HashSet<>();
  coverageMetrics.add(CoreMetrics.COVERAGE);
  coverageMetrics.add(CoreMetrics.LINE_COVERAGE);
  coverageMetrics.add(CoreMetrics.BRANCH_COVERAGE);
  coverageMetrics.add(CoreMetrics.UNCOVERED_LINES);
  coverageMetrics.add(CoreMetrics.LINES_TO_COVER);
  coverageMetrics.add(CoreMetrics.UNCOVERED_CONDITIONS);
  coverageMetrics.add(CoreMetrics.CONDITIONS_TO_COVER);
  coverageMetrics.add(CoreMetrics.CONDITIONS_BY_LINE);
  coverageMetrics.add(CoreMetrics.COVERED_CONDITIONS_BY_LINE);
  coverageMetrics.add(CoreMetrics.COVERAGE_LINE_HITS_DATA);
  coverageMetrics.add(CoreMetrics.NEW_LINES_TO_COVER);
  coverageMetrics.add(CoreMetrics.NEW_UNCOVERED_LINES);
  coverageMetrics.add(CoreMetrics.NEW_UNCOVERED_CONDITIONS);
  coverageMetrics.add(CoreMetrics.IT_COVERAGE);
  coverageMetrics.add(CoreMetrics.IT_LINE_COVERAGE);
  coverageMetrics.add(CoreMetrics.IT_BRANCH_COVERAGE);
  coverageMetrics.add(CoreMetrics.IT_UNCOVERED_LINES);
  coverageMetrics.add(CoreMetrics.IT_LINES_TO_COVER);
  coverageMetrics.add(CoreMetrics.IT_UNCOVERED_CONDITIONS);
  coverageMetrics.add(CoreMetrics.IT_CONDITIONS_TO_COVER);
  coverageMetrics.add(CoreMetrics.IT_CONDITIONS_BY_LINE);
  coverageMetrics.add(CoreMetrics.IT_COVERED_CONDITIONS_BY_LINE);
  coverageMetrics.add(CoreMetrics.IT_COVERAGE_LINE_HITS_DATA);
  coverageMetrics.add(CoreMetrics.NEW_IT_LINES_TO_COVER);
  coverageMetrics.add(CoreMetrics.NEW_IT_UNCOVERED_LINES);
  coverageMetrics.add(CoreMetrics.NEW_IT_UNCOVERED_CONDITIONS);
  coverageMetrics.add(CoreMetrics.OVERALL_COVERAGE);
  coverageMetrics.add(CoreMetrics.OVERALL_LINE_COVERAGE);
  coverageMetrics.add(CoreMetrics.OVERALL_BRANCH_COVERAGE);
  coverageMetrics.add(CoreMetrics.OVERALL_UNCOVERED_LINES);
  coverageMetrics.add(CoreMetrics.OVERALL_LINES_TO_COVER);
  coverageMetrics.add(CoreMetrics.OVERALL_UNCOVERED_CONDITIONS);
  coverageMetrics.add(CoreMetrics.OVERALL_CONDITIONS_TO_COVER);
  coverageMetrics.add(CoreMetrics.OVERALL_CONDITIONS_BY_LINE);
  coverageMetrics.add(CoreMetrics.OVERALL_COVERED_CONDITIONS_BY_LINE);
  coverageMetrics.add(CoreMetrics.OVERALL_COVERAGE_LINE_HITS_DATA);
  coverageMetrics.add(CoreMetrics.NEW_OVERALL_LINES_TO_COVER);
  coverageMetrics.add(CoreMetrics.NEW_OVERALL_UNCOVERED_LINES);
  coverageMetrics.add(CoreMetrics.NEW_OVERALL_UNCOVERED_CONDITIONS);
  byLineMetrics.add(CoreMetrics.OVERALL_CONDITIONS_BY_LINE);
  byLineMetrics.add(CoreMetrics.OVERALL_COVERED_CONDITIONS_BY_LINE);
  byLineMetrics.add(CoreMetrics.COVERED_CONDITIONS_BY_LINE);
  byLineMetrics.add(CoreMetrics.CONDITIONS_BY_LINE);
  byLineMetrics.add(CoreMetrics.IT_CONDITIONS_BY_LINE);
  byLineMetrics.add(CoreMetrics.IT_COVERED_CONDITIONS_BY_LINE);
  initPatterns();
}
