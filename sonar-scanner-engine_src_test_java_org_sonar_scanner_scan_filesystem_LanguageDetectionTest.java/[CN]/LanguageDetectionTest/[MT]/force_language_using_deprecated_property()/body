{
  LanguagesRepository languages=new DefaultLanguagesRepository(new Languages(new MockLanguage("java","java"),new MockLanguage("php","php")));
  Settings settings=new MapSettings();
  settings.setProperty(CoreProperties.PROJECT_LANGUAGE_PROPERTY,"java");
  LanguageDetection detection=new LanguageDetection(settings,languages);
  assertThat(detection.language(newInputFile("abc"))).isNull();
  assertThat(detection.language(newInputFile("abc.php"))).isNull();
  assertThat(detection.language(newInputFile("abc.java"))).isEqualTo("java");
  assertThat(detection.language(newInputFile("src/abc.java"))).isEqualTo("java");
}
