{
  boolean r=(parent.keyType > HARD) && (key == ref);
  r=r || ((parent.valueType > HARD) && (value == ref));
  if (r) {
    if (parent.keyType > HARD) {
      ((Reference)key).clear();
    }
    if (parent.valueType > HARD) {
      ((Reference)value).clear();
    }
 else     if (parent.purgeValues) {
      value=null;
    }
  }
  return r;
}
