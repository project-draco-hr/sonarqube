{
  Component component=mock(Component.class);
  SymbolDataCache cache=mock(SymbolDataCache.class);
  SymbolDataRepository symbolDataRepository=mock(SymbolDataRepository.class);
  DefaultSymbolPerspective symbolPerspective=new DefaultSymbolPerspective(cache,component,symbolDataRepository);
  Symbol symbol=symbolPerspective.newSymbol().build();
  symbolPerspective.declareReferences(symbol).addReference(1).addReference(20);
  verify(symbolDataRepository).registerSymbol(symbol);
  verify(symbolDataRepository).registerSymbolReference(symbol,1);
  verify(symbolDataRepository).registerSymbolReference(symbol,20);
}
