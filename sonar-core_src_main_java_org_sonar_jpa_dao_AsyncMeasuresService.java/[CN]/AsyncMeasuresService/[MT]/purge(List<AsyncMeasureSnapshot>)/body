{
  Map<Integer,AsyncMeasureSnapshot> measuresById=new LinkedHashMap<Integer,AsyncMeasureSnapshot>();
  for (  AsyncMeasureSnapshot currentAsyncMeasureSnapshot : list) {
    AsyncMeasureSnapshot asyncMeasureSnapshotFromMap=measuresById.get(currentAsyncMeasureSnapshot.getMetricId());
    if (asyncMeasureSnapshotFromMap != null) {
      if (asyncMeasureSnapshotFromMap.getMeasureDate().before(currentAsyncMeasureSnapshot.getMeasureDate())) {
        measuresById.put(currentAsyncMeasureSnapshot.getMetricId(),currentAsyncMeasureSnapshot);
      }
    }
 else {
      measuresById.put(currentAsyncMeasureSnapshot.getMetricId(),currentAsyncMeasureSnapshot);
    }
  }
  return measuresById.values();
}
