{
  ReportQueue.Item item=mock(ReportQueue.Item.class);
  doAnswer(new ExecuteFirstArgAsRunnable()).when(batchExecutorService).execute(any(Runnable.class));
  when(queue.pop()).thenReturn(item);
  underTest.startAnalysisTaskNow();
  assertThat(processingQueue.getTasks()).hasSize(1);
  assertThat(processingQueue.getTasks().iterator().next()).isInstanceOf(ReportProcessingTask.class);
}
