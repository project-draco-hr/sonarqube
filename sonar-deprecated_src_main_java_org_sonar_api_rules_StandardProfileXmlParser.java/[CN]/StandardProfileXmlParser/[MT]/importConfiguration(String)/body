{
  RulesProfile rulesProfile=new RulesProfile();
  List<ActiveRule> activeRules=new ArrayList<ActiveRule>();
  Profile profile=buildProfileFromXml(configuration);
  rulesProfile.setName(profile.getName());
  rulesProfile.setLanguage(profile.getLanguage());
  if (StringUtils.isBlank(rulesProfile.getName())) {
    throw new SonarException("Profile name can't be null or empty");
  }
  buildActiveRulesFromProfile(profile,activeRules);
  rulesProfile.setActiveRules(activeRules);
  return rulesProfile;
}
