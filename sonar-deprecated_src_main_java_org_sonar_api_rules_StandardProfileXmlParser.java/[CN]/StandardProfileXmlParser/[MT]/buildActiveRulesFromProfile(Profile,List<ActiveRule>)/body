{
  if (profile.getRules() != null && !profile.getRules().isEmpty()) {
    for (    org.sonar.api.rules.xml.Rule module : profile.getRules()) {
      String ref=module.getKey();
      for (      Rule rule : rules) {
        if (rule.getConfigKey().equals(ref)) {
          RulePriority rulePriority=getRulePriority(module);
          ActiveRule activeRule=new ActiveRule(null,rule,rulePriority);
          activeRule.setActiveRuleParams(getActiveRuleParams(module,rule,activeRule));
          activeRules.add(activeRule);
          break;
        }
      }
    }
  }
}
