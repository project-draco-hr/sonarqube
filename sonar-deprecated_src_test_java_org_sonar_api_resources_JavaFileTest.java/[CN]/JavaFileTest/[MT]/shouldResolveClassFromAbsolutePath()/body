{
  File sources1=newDir("source1");
  File sources2=newDir("source2");
  List<File> sources=Arrays.asList(sources1,sources2);
  JavaFile javaFile=JavaFile.fromAbsolutePath(absPath(sources2,"foo/bar/MyFile.java"),sources,false);
  assertThat("foo.bar.MyFile",is(javaFile.getDeprecatedKey()));
  assertThat(javaFile.getLongName(),is("foo.bar.MyFile"));
  assertThat(javaFile.getName(),is("MyFile.java"));
  assertThat(javaFile.getParent().getDeprecatedKey(),is("foo/bar"));
}
