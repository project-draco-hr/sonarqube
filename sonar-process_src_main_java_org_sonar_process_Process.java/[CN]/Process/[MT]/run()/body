{
  LOGGER.info("Setting up heartbeat on port '{}'",port);
  DatagramPacket client=null;
  try {
    byte[] data=new byte[name.length()];
    name.getBytes(0,name.length(),data,0);
    DatagramPacket pack=new DatagramPacket(data,data.length,InetAddress.getLocalHost(),port);
    while (!Thread.currentThread().isInterrupted()) {
      LOGGER.trace("My heart is beating");
      DatagramSocket ds=new DatagramSocket();
      ds.send(pack);
      ds.close();
      try {
        Thread.sleep(heartBeatInterval);
      }
 catch (      InterruptedException e) {
        break;
      }
    }
  }
 catch (  IOException e) {
    throw new IllegalStateException("Monitoring Thread for " + name + " could not communicate to socket",e);
  }
  System.out.println("Closing  application");
}
