{
  dbTester.prepareDbUnit(getClass(),"shouldFindUsersForNotification.xml");
  List<String> users=dao.findUsersForNotification("NewViolations","Email",null);
  assertThat(users).isEmpty();
  users=dao.findUsersForNotification("NewViolations","Email","uuid_78");
  assertThat(users).isEmpty();
  users=dao.findUsersForNotification("NewViolations","Email","uuid_45");
  assertThat(users).hasSize(1);
  assertThat(users).containsOnly("user2");
  users=dao.findUsersForNotification("NewViolations","Twitter",null);
  assertThat(users).hasSize(1);
  assertThat(users).containsOnly("user3");
  users=dao.findUsersForNotification("NewViolations","Twitter","uuid_78");
  assertThat(users).isEmpty();
  users=dao.findUsersForNotification("NewViolations","Twitter","uuid_56");
  assertThat(users).hasSize(2);
  assertThat(users).containsOnly("user1","user3");
}
