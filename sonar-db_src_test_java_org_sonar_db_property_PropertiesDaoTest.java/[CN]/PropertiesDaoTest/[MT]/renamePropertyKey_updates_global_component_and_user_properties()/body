{
  long id1=insertProperty("foo","bar",null,null,DATE_1);
  long id2=insertProperty("old_name","doc1",null,null,DATE_1);
  long id3=insertProperty("old_name","doc2",15L,null,DATE_1);
  long id4=insertProperty("old_name","doc3",16L,null,DATE_1);
  long id5=insertProperty("old_name","doc4",null,100L,DATE_1);
  long id6=insertProperty("old_name","doc5",null,101L,DATE_1);
  underTest.renamePropertyKey("old_name","new_name");
  assertThatPropertiesRow(id1).hasKey("foo").hasNoUserId().hasNoResourceId().hasTextValue("bar").hasCreatedAt(DATE_1);
  assertThatPropertiesRow(id2).hasKey("new_name").hasNoResourceId().hasNoUserId().hasTextValue("doc1").hasCreatedAt(DATE_1);
  assertThatPropertiesRow(id3).hasKey("new_name").hasResourceId(15).hasNoUserId().hasTextValue("doc2").hasCreatedAt(DATE_1);
  assertThatPropertiesRow(id4).hasKey("new_name").hasResourceId(16).hasNoUserId().hasTextValue("doc3").hasCreatedAt(DATE_1);
  assertThatPropertiesRow(id5).hasKey("new_name").hasNoResourceId().hasUserId(100).hasTextValue("doc4").hasCreatedAt(DATE_1);
  assertThatPropertiesRow(id6).hasKey("new_name").hasNoResourceId().hasUserId(101).hasTextValue("doc5").hasCreatedAt(DATE_1);
}
