{
  List<Row> rows=new ArrayList<Row>();
  List<Violation> lineViolations=filteredViolationsByLine.get(index);
  boolean hasViolations=lineViolations != null && !lineViolations.isEmpty();
  if (index > 0) {
    String style=(hasViolations ? "red" : "");
    Row row=new Row().setLineIndex(index,style).unsetValue().setSource(source,style);
    rows.add(row);
  }
  if (hasViolations) {
    for (    Violation violation : lineViolations) {
      rows.add(new ViolationRow(violation));
    }
  }
  return rows;
}
