{
  if (pom == null) {
    return null;
  }
  Plugin plugin=null;
  if (pom.getBuildPlugins() != null) {
    plugin=getPlugin(pom.getBuildPlugins(),groupId,artifactId);
  }
  if (plugin == null && pom.getReportPlugins() != null) {
    plugin=getReportPlugin(pom.getReportPlugins(),groupId,artifactId);
  }
  if (pom.getPluginManagement() != null) {
    Plugin pluginManagement=getPlugin(pom.getPluginManagement().getPlugins(),groupId,artifactId);
    if (plugin == null) {
      plugin=pluginManagement;
    }
 else     if (pluginManagement != null) {
      if (pluginManagement.getConfiguration() != null) {
        if (plugin.getConfiguration() == null) {
          plugin.setConfiguration(pluginManagement.getConfiguration());
        }
 else {
          Xpp3Dom.mergeXpp3Dom((Xpp3Dom)plugin.getConfiguration(),(Xpp3Dom)pluginManagement.getConfiguration());
        }
      }
      if (plugin.getDependencies() == null && pluginManagement.getDependencies() != null) {
        plugin.setDependencies(pluginManagement.getDependencies());
      }
      if (plugin.getVersion() == null) {
        plugin.setVersion(pluginManagement.getVersion());
      }
    }
  }
  if (plugin != null) {
    return new MavenPlugin(plugin);
  }
  return null;
}
