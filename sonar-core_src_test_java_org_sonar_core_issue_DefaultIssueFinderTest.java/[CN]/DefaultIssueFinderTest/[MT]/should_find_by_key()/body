{
  IssueDto issueDto=new IssueDto().setId(1L).setRuleId(1).setResourceId(1);
  when(issueDao.selectByKey("ABCDE")).thenReturn(issueDto);
  when(ruleFinder.findById(anyInt())).thenReturn(Rule.create("squid","NullDeref"));
  when(resourceDao.getResource(anyInt())).thenReturn(new ResourceDto().setKey("org/struts/Action.java"));
  Issue issue=finder.findByKey("ABCDE");
  assertThat(issue).isNotNull();
  assertThat(issue.componentKey()).isEqualTo("org/struts/Action.java");
  assertThat(issue.ruleKey().toString()).isEqualTo("squid:NullDeref");
}
