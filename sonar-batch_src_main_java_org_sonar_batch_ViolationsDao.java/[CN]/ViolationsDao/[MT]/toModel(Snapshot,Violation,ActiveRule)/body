{
  Rule rule=reload(violation.getRule());
  if (rule == null) {
    throw new IllegalArgumentException("Rule does not exist : " + violation.getRule());
  }
  RuleFailureModel model=new RuleFailureModel(rule,activeRule.getPriority());
  violation.setPriority(activeRule.getPriority());
  model.setLine(violation.getLineId());
  model.setMessage(violation.getMessage());
  model.setCost(violation.getCost());
  model.setSnapshotId(snapshot.getId());
  return model;
}
