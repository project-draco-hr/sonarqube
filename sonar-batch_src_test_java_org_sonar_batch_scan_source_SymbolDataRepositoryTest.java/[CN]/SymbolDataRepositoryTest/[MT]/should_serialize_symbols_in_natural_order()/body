{
  SymbolDataRepository dataRepository=new SymbolDataRepository();
  Symbol firstSymbol=DefaultSymbol.builder(dataRepository).setDeclaration(10,20).build();
  Symbol secondSymbol=DefaultSymbol.builder(dataRepository).setDeclaration(84,92).build();
  Symbol thirdSymbol=DefaultSymbol.builder(dataRepository).setDeclaration(55,62).build();
  dataRepository.registerSymbolReference(firstSymbol,32);
  dataRepository.registerSymbolReference(secondSymbol,124);
  dataRepository.registerSymbolReference(thirdSymbol,70);
  String serializedSymbolData=dataRepository.writeString();
  assertThat(serializedSymbolData).isEqualTo("10,20,10,32;55,62,55,70;84,92,84,124;");
}
