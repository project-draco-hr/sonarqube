{
  Boolean optimizedBestValue=metric.isOptimizedBestValue();
  ref.metrics().add(new org.sonar.batch.protocol.input.Metric(metricId,metric.key(),metric.getType().name(),metric.getDescription(),metric.getDirection(),metric.getName(),metric.getQualitative(),metric.getUserManaged(),metric.getWorstValue(),metric.getBestValue(),optimizedBestValue != null ? optimizedBestValue : false));
  metricId++;
  return this;
}
