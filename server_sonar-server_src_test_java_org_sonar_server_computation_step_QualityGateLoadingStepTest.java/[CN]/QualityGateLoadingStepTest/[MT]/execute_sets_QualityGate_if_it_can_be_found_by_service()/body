{
  QualityGate qualityGate=new QualityGate("name",Collections.<Condition>emptyList());
  treeRootHolder.setRoot(PROJECT_ALONE);
  when(projectSettingsRepository.getProjectSettings(PROJECT_KEY)).thenReturn(new Settings().setProperty("sonar.qualitygate",10));
  when(qualityGateService.findById(10)).thenReturn(Optional.of(qualityGate));
  underTest.execute();
  assertThat(mutableQualityGateHolder.getQualityGate()).isSameAs(qualityGate);
}
