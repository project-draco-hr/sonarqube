{
  if (profile == null) {
    return;
  }
  String currentProfile=profile.getName();
  int currentProfileId=profile.getId();
  int currentProfileVersion=profile.getVersion();
  int pastProfileId=getPreviousMeasureValue(project,CoreMetrics.PROFILE,-1);
  int pastProfileVersion=getPreviousMeasureValue(project,CoreMetrics.PROFILE,1);
  if (pastProfileId != currentProfileId) {
    context.createEvent(project,currentProfile + " V" + currentProfileVersion,"A different quality profile was used",Event.CATEGORY_PROFILE,null);
  }
 else   if (pastProfileVersion != currentProfileVersion) {
    context.createEvent(project,currentProfile + " V" + currentProfileVersion,"A new version of the quality profile was used",Event.CATEGORY_PROFILE,null);
  }
}
