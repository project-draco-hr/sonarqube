{
  RuleDto ruleDto=newRuleDto(RuleKey.of("javascript","S001"));
  dao.insert(ruleDto,dbSession);
  dbSession.commit();
  index.refresh();
  Rule rule=index.getByKey(RuleKey.of("javascript","S001"));
  System.out.println("rule = " + rule);
  assertThat(rule.htmlDescription()).isEqualTo(ruleDto.getDescription());
  assertThat(rule.key()).isEqualTo(ruleDto.getKey());
  assertThat(rule.debtRemediationFunction().type().name()).isEqualTo(ruleDto.getRemediationFunction());
}
