{
  ValidationMessages validation=ValidationMessages.create();
  SonarWayProfile definition=new SonarWayProfile(new AnnotationProfileParser(ruleFinder()));
  RulesProfile profile=definition.createProfile(validation);
  assertThat(profile.getActiveRulesByRepository(SquidConstants.REPOSITORY_KEY)).hasSize(2);
  assertThat(profile.getName()).isEqualTo(RulesProfile.SONAR_WAY_NAME);
  assertThat(validation.hasErrors()).isFalse();
}
