{
  ValidationMessages validation=ValidationMessages.create();
  SonarWayWithFindbugsProfile definition=new SonarWayWithFindbugsProfile(new SonarWayProfile(new AnnotationProfileParser(ruleFinder())));
  RulesProfile profile=definition.createProfile(validation);
  assertThat(profile.getActiveRulesByRepository(SquidConstants.REPOSITORY_KEY)).hasSize(1);
  assertThat(profile.getName()).isEqualTo(RulesProfile.SONAR_WAY_FINDBUGS_NAME);
  assertThat(validation.hasErrors()).isFalse();
}
