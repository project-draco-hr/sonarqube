{
  super(storage);
  syntaxHighlightingRuleSet=Sets.newTreeSet(new Comparator<SyntaxHighlightingRule>(){
    @Override public int compare(    SyntaxHighlightingRule left,    SyntaxHighlightingRule right){
      int result=left.getStartPosition() - right.getStartPosition();
      if (result == 0) {
        result=right.getEndPosition() - left.getEndPosition();
      }
      return result;
    }
  }
);
}
