{
  ProjectReferentials ref=ProjectReferentials.fromJson(new StringReader("{timestamp:1,metrics:[{key:ncloc,valueType:DATA}]," + "qprofilesByLanguage:{java:{key:\"squid-java\",name:Java,language:java,rulesUpdatedAt:\"Mar 14, 1984 12:00:00 AM\"}}," + "activeRules:[{repositoryKey:repo,ruleKey:rule,severity:MAJOR,internalKey:rule,language:java,params:{}}],"+ "settingsByModule:{foo:{prop:value}}}"));
  assertThat(ref.timestamp()).isEqualTo(1);
  Metric metric=ref.metrics().iterator().next();
  assertThat(metric.key()).isEqualTo("ncloc");
  assertThat(metric.valueType()).isEqualTo("DATA");
  assertThat(ref.activeRules().iterator().next().ruleKey()).isEqualTo("rule");
  assertThat(ref.qProfiles().iterator().next().name()).isEqualTo("Java");
}
