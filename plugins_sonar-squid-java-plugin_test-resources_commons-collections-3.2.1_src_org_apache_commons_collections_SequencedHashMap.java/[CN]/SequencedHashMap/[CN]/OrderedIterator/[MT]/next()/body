{
  if (modCount != expectedModCount) {
    throw new ConcurrentModificationException();
  }
  if (pos.next == sentinel) {
    throw new NoSuchElementException();
  }
  returnType=returnType & ~REMOVED_MASK;
  pos=pos.next;
switch (returnType) {
case KEY:
    return pos.getKey();
case VALUE:
  return pos.getValue();
case ENTRY:
return pos;
default :
throw new Error("bad iterator type: " + returnType);
}
}
