{
  TimeMachineQuery query=TimeMachineQuery.createForMetrics(PROJECT,CoreMetrics.LINES_KEY,CoreMetrics.VIOLATIONS_DENSITY_KEY);
  TimeMachine timemachine=sonar.find(query);
  assertThat(timemachine.getCells().length,is(2));
  TimeMachineCell cell1=timemachine.getCells()[0];
  TimeMachineCell cell2=timemachine.getCells()[1];
  assertThat(cell1.getDate().getMonth(),is(9));
  assertThat(cell1.getValues(),is(new Object[]{30L,38.1}));
  assertThat(cell2.getDate().getMonth(),is(10));
  assertThat(cell2.getValues(),is(new Object[]{41L,34.5}));
}
