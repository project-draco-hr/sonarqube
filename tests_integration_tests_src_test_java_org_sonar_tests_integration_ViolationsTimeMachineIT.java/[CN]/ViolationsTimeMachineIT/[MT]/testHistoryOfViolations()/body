{
  TimeMachineQuery query=TimeMachineQuery.createForMetrics(PROJECT,CoreMetrics.BLOCKER_VIOLATIONS_KEY,CoreMetrics.CRITICAL_VIOLATIONS_KEY,CoreMetrics.MAJOR_VIOLATIONS_KEY,CoreMetrics.MINOR_VIOLATIONS_KEY,CoreMetrics.INFO_VIOLATIONS_KEY);
  TimeMachine timemachine=sonar.find(query);
  assertThat(timemachine.getCells().length,is(2));
  TimeMachineCell cell1=timemachine.getCells()[0];
  TimeMachineCell cell2=timemachine.getCells()[1];
  assertThat(cell1.getDate().getMonth(),is(9));
  assertThat(cell1.getValues(),is(new Object[]{0L,0L,3L,4L,0L}));
  assertThat(cell2.getDate().getMonth(),is(10));
  assertThat(cell2.getValues(),is(new Object[]{0L,0L,5L,4L,0L}));
}
