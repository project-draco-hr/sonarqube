{
  Profiler profiler=Profiler.create(LOG).start();
  CeTask task;
  try {
    Optional<CeTask> taskOpt=queue.peek();
    if (!taskOpt.isPresent()) {
      return;
    }
    task=taskOpt.get();
  }
 catch (  Exception e) {
    LOG.error("Failed to pop the queue of analysis reports",e);
    return;
  }
  try {
    reportTaskProcessor.process(task);
    queue.remove(task,CeActivityDto.Status.SUCCESS);
  }
 catch (  Throwable e) {
    LOG.error(String.format("Failed to process task %s",task.getUuid()),e);
    queue.remove(task,CeActivityDto.Status.FAILED);
  }
 finally {
    profiler.stopInfo(String.format("Total thread execution of project %s (report %s)",task.getComponentUuid(),task.getUuid()));
  }
}
