{
  final ResourceQuery query=getResourceQuery();
  Sonar.getInstance().findAll(query,new AbstractListCallback<Resource>(){
    @Override protected void doOnResponse(    List<Resource> resources){
      final Grid grid=new Grid(resources.size(),3);
      grid.setStyleName("gwt-Hotspot");
      int row=0;
      Measure firstMeasure=null;
      for (      Resource resource : resources) {
        if (resource.getMeasures().size() == 1) {
          if (firstMeasure == null) {
            firstMeasure=resource.getMeasures().get(0);
          }
          renderNameCell(grid,resource,firstMeasure.getMetricKey(),row,0);
          renderValueCell(grid,resource.getMeasures().get(0),row,1);
          renderGraphCell(grid,resource.getMeasures().get(0),firstMeasure,row,2);
          row++;
        }
      }
      if (firstMeasure == null) {
        renderEmptyResults();
      }
 else {
        render(grid);
      }
    }
  }
);
}
