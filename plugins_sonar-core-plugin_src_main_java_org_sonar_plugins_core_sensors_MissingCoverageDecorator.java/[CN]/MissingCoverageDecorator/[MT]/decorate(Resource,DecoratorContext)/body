{
  if (Qualifiers.isFile(resource)) {
    if (!MeasureUtils.hasValue(context.getMeasure(CoreMetrics.LINES_TO_COVER))) {
      Measure nclocData=context.getMeasure(CoreMetrics.NCLOC_DATA);
      if (MeasureUtils.hasData(nclocData)) {
        CoverageMeasuresBuilder builder=CoverageMeasuresBuilder.create();
        Map<Integer,Integer> nclocByLine=KeyValueFormat.parseIntInt(nclocData.getData());
        for (        Map.Entry<Integer,Integer> entry : nclocByLine.entrySet()) {
          if (entry.getValue() == 1) {
            builder.setHits(entry.getKey(),0);
          }
        }
        for (        Measure m : builder.createMeasures()) {
          context.saveMeasure(m);
        }
      }
 else {
        double ncloc=MeasureUtils.getValue(context.getMeasure(CoreMetrics.NCLOC),0.0);
        context.saveMeasure(CoreMetrics.LINES_TO_COVER,ncloc);
        context.saveMeasure(CoreMetrics.UNCOVERED_LINES,ncloc);
      }
    }
  }
}
