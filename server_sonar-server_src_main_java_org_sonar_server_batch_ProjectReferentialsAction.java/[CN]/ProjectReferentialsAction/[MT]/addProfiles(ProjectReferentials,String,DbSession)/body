{
  for (  Language language : languages.all()) {
    String languageKey=language.getKey();
    QualityProfileDto qualityProfileDto=qProfileFactory.getByProjectAndLanguage(session,projectKey,languageKey);
    qualityProfileDto=qualityProfileDto != null ? qualityProfileDto : qProfileFactory.getDefault(session,languageKey);
    if (qualityProfileDto != null) {
      ref.addQProfile(new org.sonar.batch.protocol.input.QProfile(qualityProfileDto.getKey(),qualityProfileDto.getName(),qualityProfileDto.getLanguage(),UtcDateUtils.parseDateTime(qualityProfileDto.getRulesUpdatedAt())));
    }
  }
}
