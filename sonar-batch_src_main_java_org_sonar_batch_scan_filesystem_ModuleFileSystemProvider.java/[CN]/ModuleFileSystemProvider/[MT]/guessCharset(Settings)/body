{
  final Charset charset;
  String encoding=settings.getString(CoreProperties.ENCODING_PROPERTY);
  if (StringUtils.isNotEmpty(encoding)) {
    charset=Charset.forName(StringUtils.trim(encoding));
    LOG.info("Source encoding: " + charset.displayName() + ", default locale: "+ Locale.getDefault());
  }
 else {
    charset=Charset.defaultCharset();
    LOG.warn("Source encoding is platform dependent (" + charset.displayName() + "), default locale: "+ Locale.getDefault());
  }
  return charset;
}
