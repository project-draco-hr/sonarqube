{
  if (singleton == null) {
    DefaultModuleFileSystem fs=new DefaultModuleFileSystem();
    fs.setLanguageFilters(languageFilters);
    fs.setBaseDir(module.getBaseDir());
    fs.setBuildDir(module.getBuildDir());
    fs.setSettings(settings);
    fs.setWorkingDir(guessWorkingDir(module,tempDirectories));
    fs.addFilters(pluginFileFilters);
    initBinaryDirs(module,pathResolver,fs);
    initSources(module,pathResolver,fs);
    initTests(module,pathResolver,fs);
    singleton=fs;
  }
  return singleton;
}
