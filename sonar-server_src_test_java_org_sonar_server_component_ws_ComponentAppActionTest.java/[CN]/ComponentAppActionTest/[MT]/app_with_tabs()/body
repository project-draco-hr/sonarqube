{
  MockUserSession.set().addComponentPermission(UserRole.USER,PROJECT_KEY,COMPONENT_KEY);
  addComponent();
  addMeasure(CoreMetrics.COVERAGE_KEY,1.0);
  addMeasure(CoreMetrics.DUPLICATED_LINES_KEY,2);
  addMeasure(CoreMetrics.SCM_AUTHORS_BY_LINE_KEY,3);
  WsTester.TestRequest request=tester.newGetRequest("api/components","app").setParam("key",COMPONENT_KEY);
  request.execute().assertJson(getClass(),"app_with_tabs.json");
}
