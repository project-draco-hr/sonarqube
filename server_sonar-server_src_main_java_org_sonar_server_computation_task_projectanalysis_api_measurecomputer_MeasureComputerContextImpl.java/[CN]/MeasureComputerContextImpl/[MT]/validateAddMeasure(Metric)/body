{
  checkArgument(definition.getOutputMetrics().contains(metric.getKey()),"Only metrics in %s can be used to add measures. Metric '%s' is not allowed.",definition.getOutputMetrics(),metric.getKey());
  if (measureRepository.getRawMeasure(internalComponent,metric).isPresent()) {
    throw new UnsupportedOperationException(String.format("A measure on metric '%s' already exists on component '%s'",metric.getKey(),internalComponent.getKey()));
  }
}
