{
  resourceCache=new ResourceCache();
  SimpleDateFormat format=new SimpleDateFormat("dd/MM/yyyy");
  singleProject=newProject("foo","java");
  singleProject.setName("Foo").setDescription("some description").setAnalysisDate(format.parse("25/12/2010"));
  existingProject=newProject("my:key","java");
  existingProject.setName("Other project").setDescription("some description").setAnalysisDate(format.parse("25/12/2010"));
  singleCopyProject=newCopyProject("foo","java",10);
  singleCopyProject.setName("Foo").setDescription("some description").setAnalysisDate(format.parse("25/12/2010"));
  multiModuleProject=newProject("root","java");
  multiModuleProject.setName("Root").setAnalysisDate(format.parse("25/12/2010"));
  moduleA=newProject("a","java");
  moduleA.setName("A").setAnalysisDate(format.parse("25/12/2010"));
  moduleA.setParent(multiModuleProject);
  moduleA.setPath("/moduleA");
  moduleB=newProject("b","java");
  moduleB.setName("B").setAnalysisDate(format.parse("25/12/2010"));
  moduleB.setParent(multiModuleProject);
  moduleB.setPath("/moduleB");
  moduleB1=newProject("b1","java");
  moduleB1.setName("B1").setAnalysisDate(format.parse("25/12/2010"));
  moduleB1.setParent(moduleB);
  moduleB1.setPath("/moduleB1");
  projectTree=mock(ProjectTree.class);
  permissions=mock(ResourcePermissions.class);
  persister=new ResourcePersister(projectTree,getSession(),permissions,resourceCache,mock(ScanGraph.class));
}
