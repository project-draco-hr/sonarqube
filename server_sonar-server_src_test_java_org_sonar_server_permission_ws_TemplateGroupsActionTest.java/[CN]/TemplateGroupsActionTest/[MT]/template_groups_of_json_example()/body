{
  GroupDto adminGroup=insertGroup(newGroupDto().setName("sonar-administrators").setDescription("System administrators"));
  GroupDto userGroup=insertGroup(newGroupDto().setName("sonar-users").setDescription("Any new users created will automatically join this group"));
  addGroupToTemplate(newPermissionTemplateGroup(UserRole.ISSUE_ADMIN,template1.getId(),adminGroup.getId()));
  addGroupToTemplate(newPermissionTemplateGroup(UserRole.ISSUE_ADMIN,template1.getId(),userGroup.getId()));
  addGroupToTemplate(newPermissionTemplateGroup(UserRole.ISSUE_ADMIN,template1.getId(),null));
  commit();
  String response=ws.newRequest().setParam(PARAM_PERMISSION,UserRole.ISSUE_ADMIN).setParam(PARAM_TEMPLATE_UUID,template1.getUuid()).execute().getInput();
  assertJson(response).ignoreFields("id").withStrictArrayOrder().isSimilarTo(getClass().getResource("template_groups-example.json"));
}
