{
  logAsSysAdminUser();
  PermissionTemplateDto template=dbClient.permissionTemplateDao().insert(dbSession,newPermissionTemplateDto().setUuid("template-uuid-1"));
  insertGroup(new GroupDto().setName("group-1-name"));
  insertGroup(new GroupDto().setName("group-2-name"));
  insertGroup(new GroupDto().setName("group-3-name"));
  commit();
  InputStream responseStream=ws.newRequest().setMediaType(PROTOBUF).setParam(PARAM_TEMPLATE_ID,template.getUuid()).setParam(TEXT_QUERY,"-name").execute().getInputStream();
  WsGroupsResponse response=WsGroupsResponse.parseFrom(responseStream);
  assertThat(response.getGroupsList()).extracting("name").containsExactly("group-1-name","group-2-name","group-3-name");
  assertThat(response.getGroups(0).getPermissionsList()).isEmpty();
  assertThat(response.getGroups(1).getPermissionsList()).isEmpty();
  assertThat(response.getGroups(2).getPermissionsList()).isEmpty();
}
