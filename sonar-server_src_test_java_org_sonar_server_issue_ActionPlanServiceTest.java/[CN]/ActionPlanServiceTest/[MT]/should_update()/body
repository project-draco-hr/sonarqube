{
  when(resourceDao.getResource(any(ResourceQuery.class))).thenReturn(new ResourceDto().setKey("org.sonar.Sample").setId(1l));
  ActionPlan actionPlan=DefaultActionPlan.create("Long term");
  actionPlanService.update(actionPlan,userSession);
  verify(actionPlanDao).update(any(ActionPlanDto.class));
  verify(authorizationDao).isAuthorizedComponentKey(anyString(),anyInt(),eq(UserRole.ADMIN));
}
