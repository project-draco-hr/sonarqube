{
  PathResolver pathResolver=mock(PathResolver.class);
  ModuleFileSystem fileSystem=mock(ModuleFileSystem.class);
  RelativePath relativePath=new RelativePath(null,"com/foo/Bar.java");
  when(pathResolver.relativePath(anyCollection(),any(java.io.File.class))).thenReturn(relativePath);
  SonarEngine engine=new SonarEngine(null,fileSystem,pathResolver,null);
  Resource<?> resource=engine.getResource(new java.io.File(""));
  assertThat(resource.getKey()).isEqualTo("com.foo.Bar");
  assertThat(resource).isInstanceOf(JavaFile.class);
}
