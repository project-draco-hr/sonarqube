{
  setupData("shared");
  ResourcePersister persister=new DefaultResourcePersister(getSession(),mock(ResourcePermissions.class),snapshotCache,resourceCache);
  persister.saveProject(singleProject,null);
  checkTables("shouldSaveNewProject",new String[]{"build_date","created_at"},"projects","snapshots");
  ResourceModel model=getSession().getSingleResult(ResourceModel.class,"key",singleProject.getKey());
  assertThat(model.getCreatedAt()).isNotNull();
}
