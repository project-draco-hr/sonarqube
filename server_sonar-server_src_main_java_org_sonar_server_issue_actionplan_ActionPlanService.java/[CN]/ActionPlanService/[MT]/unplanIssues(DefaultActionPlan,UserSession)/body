{
  List<IssueDto> dtos=findIssuesByActionPlan(actionPlan.key());
  IssueChangeContext context=IssueChangeContext.createUser(new Date(),userSession.getLogin());
  List<DefaultIssue> issues=newArrayList();
  for (  IssueDto issueDto : dtos) {
    DefaultIssue issue=issueDto.toDefaultIssue();
    if (issueUpdater.plan(issue,null,context)) {
      issues.add(issue);
    }
  }
  issueStorage.save(issues);
}
