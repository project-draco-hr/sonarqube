{
  json.name("sources").beginArray();
  for (  SourceLineDoc line : lines) {
    json.beginObject().prop("line",line.line()).prop("code",htmlSourceDecorator.getDecoratedSourceAsHtml(line.source(),line.highlighting(),line.symbols())).prop("scmAuthor",line.scmAuthor()).prop("scmRevision",line.scmRevision());
    Date scmDate=line.scmDate();
    json.prop("scmDate",scmDate == null ? null : DateUtils.formatDateTime(scmDate));
    json.prop("lineHits",line.overallLineHits()).prop("conditions",line.overallConditions()).prop("coveredConditions",line.overallCoveredConditions());
    if (!line.duplications().isEmpty()) {
      json.prop("duplicated",true);
    }
    json.endObject();
  }
  json.endArray();
}
