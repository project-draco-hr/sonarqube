{
  File propertyFile=new File(FileUtils.getTempDirectory(),UUID.randomUUID().toString());
  if (!propertyFile.canWrite()) {
    throw new IllegalStateException("Cannot write temp propertyFile to '" + propertyFile.getAbsolutePath() + "'");
  }
  try {
    Properties props=new Properties();
    for (    Map.Entry<String,String> property : properties.entrySet()) {
      props.put(property.getKey(),property.getValue());
    }
    OutputStream out=new FileOutputStream(propertyFile);
    props.store(out,"Temporary properties file for Process [" + getName() + "]");
    out.close();
    return propertyFile.getAbsolutePath();
  }
 catch (  IOException e) {
    throw new IllegalStateException("Cannot write to propertyFile",e);
  }
}
