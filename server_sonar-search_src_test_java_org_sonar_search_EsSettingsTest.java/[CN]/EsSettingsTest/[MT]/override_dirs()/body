{
  File homeDir=temp.newFolder(), dataDir=temp.newFolder(), logDir=temp.newFolder(), tempDir=temp.newFolder();
  Props props=new Props(new Properties());
  props.set(EsSettings.PROP_TCP_PORT,"1234");
  props.set(EsSettings.SONAR_PATH_HOME,homeDir.getAbsolutePath());
  props.set(EsSettings.SONAR_PATH_DATA,dataDir.getAbsolutePath());
  props.set(EsSettings.SONAR_PATH_LOG,logDir.getAbsolutePath());
  props.set(EsSettings.SONAR_PATH_TEMP,tempDir.getAbsolutePath());
  props.set(EsSettings.PROP_CLUSTER_NAME,"test");
  Settings settings=new EsSettings(props).build();
  assertThat(settings.get("path.data")).isEqualTo(new File(dataDir,"es").getAbsolutePath());
  assertThat(settings.get("path.logs")).isEqualTo(logDir.getAbsolutePath());
  assertThat(settings.get("path.work")).isEqualTo(tempDir.getAbsolutePath());
}
