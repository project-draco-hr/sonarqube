{
  try {
    SemaphoreMapper mapper=session.getMapper(SemaphoreMapper.class);
    SemaphoreDto semaphore=new SemaphoreDto().setName(name).setLockedAt(lockedNow);
    mapper.initialize(semaphore);
    session.commit();
    return semaphore;
  }
 catch (  Exception e) {
    session.rollback();
    return null;
  }
}
