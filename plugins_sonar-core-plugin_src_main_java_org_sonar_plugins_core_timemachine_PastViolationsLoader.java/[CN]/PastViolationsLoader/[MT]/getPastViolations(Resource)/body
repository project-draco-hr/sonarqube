{
  Snapshot snapshot=resourcePersister.getSnapshot(resource);
  if (snapshot == null) {
    return Collections.emptyList();
  }
  Snapshot previousLastSnapshot=resourcePersister.getLastSnapshot(snapshot,true);
  if (previousLastSnapshot == null) {
    return Collections.emptyList();
  }
  return session.getResults(RuleFailureModel.class,"snapshotId",previousLastSnapshot.getId());
}
