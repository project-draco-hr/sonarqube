{
  HTMLPanel metricSelectPanel=new HTMLPanel("<div id='select_metric' class='metricSelectBox small'> </div>");
  sizeAndColorLabel=new InlineLabel();
  sizeAndColorLabel.setStyleName("labelText gray");
  metricSelectPanel.add(sizeAndColorLabel,"select_metric");
  metricsListBox=new ListBox(false);
  for (  Metric color : COLOR_METRICS) {
    if (resources.onceContainsMeasure(color)) {
      metricsListBox.addItem(color.getName(),color.getKey());
    }
  }
  metricSelectPanel.add(metricsListBox,"select_metric");
  metricsListBox.addChangeHandler(new ChangeHandler(){
    public void onChange(    ChangeEvent event){
      renderClassCloudsForCurrentMetric();
    }
  }
);
  return metricSelectPanel;
}
