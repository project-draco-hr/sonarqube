{
  when(resource.getScope()).thenReturn(Scopes.PROJECT);
  when(issuable.issues()).thenReturn(createIssues());
  when(context.getChildrenMeasures(any(MeasuresFilter.class))).thenReturn(Collections.<Measure>emptyList());
  decorator.decorate(resource,context);
  verify(context).saveMeasure(CoreMetrics.BLOCKER_VIOLATIONS,0.0);
  verify(context).saveMeasure(CoreMetrics.CRITICAL_VIOLATIONS,2.0);
  verify(context).saveMeasure(CoreMetrics.MAJOR_VIOLATIONS,1.0);
  verify(context).saveMeasure(CoreMetrics.MINOR_VIOLATIONS,1.0);
  verify(context).saveMeasure(CoreMetrics.INFO_VIOLATIONS,0.0);
}
