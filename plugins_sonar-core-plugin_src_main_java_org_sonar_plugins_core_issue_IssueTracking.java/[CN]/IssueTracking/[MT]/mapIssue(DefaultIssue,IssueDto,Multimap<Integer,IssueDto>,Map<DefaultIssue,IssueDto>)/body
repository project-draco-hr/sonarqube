{
  if (pastIssue != null) {
    LOG.debug("Mapping with old issue from newIssue : " + newIssue + " and pastIssue : "+ pastIssue);
    newIssue.setKey(pastIssue.getUuid());
    if (pastIssue.isManualSeverity()) {
      newIssue.setSeverity(pastIssue.getSeverity());
    }
    newIssue.setCreatedAt(pastIssue.getCreatedAt());
    newIssue.setUpdatedAt(project.getAnalysisDate());
    newIssue.setNew(false);
    lastIssuesByRule.remove(getRuleId(newIssue),pastIssue);
    issueMap.put(newIssue,pastIssue);
    unmappedLastIssues.remove(pastIssue);
  }
 else {
    LOG.debug("No old issue, creating new one with newIssue : " + newIssue + " and pastIssue : "+ pastIssue);
    newIssue.setNew(true);
    newIssue.setCreatedAt(project.getAnalysisDate());
  }
}
