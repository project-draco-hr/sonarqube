{
  long past=150000L;
  dbClient.fileSourceDao().insert(session,new FileSourceDto().setProjectUuid(PROJECT_UUID).setFileUuid(FILE_UUID).setDataType(Type.SOURCE).setSrcHash("5b4bd9815cdb17b8ceae19eb1810c34c").setLineHashes("6438c669e0d0de98e6929c2cc0fac474\n").setDataHash("6cad150e3d065976c230cddc5a09efaa").setSourceData(FileSourceDb.Data.newBuilder().addLines(FileSourceDb.Line.newBuilder().setLine(1).setSource("old line").build()).build()).setCreatedAt(past).setUpdatedAt(past));
  session.commit();
  initBasicReport(1);
  sut.execute(new ComputationContext(reportReader,PROJECT_KEY,projectSettings,dbClient,ComponentTreeBuilders.from(DumbComponent.DUMB_PROJECT),languageRepository));
  assertThat(dbTester.countRowsOfTable("file_sources")).isEqualTo(1);
  FileSourceDto fileSourceDto=dbClient.fileSourceDao().selectSource(FILE_UUID);
  assertThat(fileSourceDto.getCreatedAt()).isEqualTo(past);
  assertThat(fileSourceDto.getUpdatedAt()).isEqualTo(now);
}
