{
  commentSize++;
  if (commentSize >= endToken.length + startToken.length || (commentSize >= endToken.length && isCommentStartedOnPreviousLine(code))) {
    boolean matches=true;
    for (int i=1; i <= endToken.length; i++) {
      if (colorizedCode.charAt(colorizedCode.length() - i) != endToken[endToken.length - i]) {
        matches=false;
        break;
      }
    }
    if (matches) {
      setCommentStartedOnPreviousLine(code,Boolean.FALSE);
      return true;
    }
  }
  if (endFlag == '\r' || endFlag == '\n') {
    setCommentStartedOnPreviousLine(code,Boolean.TRUE);
    return true;
  }
  return false;
}
