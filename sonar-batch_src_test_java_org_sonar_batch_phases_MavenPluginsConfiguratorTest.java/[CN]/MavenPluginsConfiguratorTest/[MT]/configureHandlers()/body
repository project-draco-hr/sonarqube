{
  MavenPluginHandler handler1=mock(MavenPluginHandler.class);
  when(handler1.getArtifactId()).thenReturn("myartifact1");
  MavenPluginHandler handler2=mock(MavenPluginHandler.class);
  when(handler2.getArtifactId()).thenReturn("myartifact2");
  Project project=MavenTestUtils.loadProjectFromPom(getClass(),"pom.xml");
  newConfigurator(handler1,handler2).execute(project);
  verify(handler1).configure(eq(project),argThat(new IsMavenPlugin("myartifact1")));
  verify(handler2).configure(eq(project),argThat(new IsMavenPlugin("myartifact2")));
}
