{
  final String key=ruleDef.characteristicKey();
  if (key == null) {
    return null;
  }
  CharacteristicDto characteristicDto=Iterables.find(characteristicDtos,new Predicate<CharacteristicDto>(){
    @Override public boolean apply(    CharacteristicDto input){
      String characteristicKey=input.getKey();
      return characteristicKey != null && characteristicKey.equals(key);
    }
  }
,null);
  if (characteristicDto == null) {
    LOG.warn(String.format("Characteristic '%s' has not been found, Technical debt definitions on rule '%s:%s' will be ignored",key,ruleDef.repository().name(),ruleDef.key()));
  }
 else   if (characteristicDto.getParentId() == null) {
    throw MessageException.of(String.format("Rule '%s:%s' cannot be linked on the root characteristic '%s'",ruleDef.repository().name(),ruleDef.key(),key));
  }
  return characteristicDto;
}
