{
  boolean changed=false;
  if (!StringUtils.equals(dto.getName(),def.name())) {
    dto.setName(def.name());
    changed=true;
  }
  if (!StringUtils.equals(dto.getDescription(),def.htmlDescription())) {
    dto.setDescription(def.htmlDescription());
    changed=true;
  }
  if (!StringUtils.equals(dto.getConfigKey(),def.internalKey())) {
    dto.setConfigKey(def.internalKey());
    changed=true;
  }
  String severity=RulePriority.valueOf(def.severity()).name();
  if (!ObjectUtils.equals(dto.getSeverityString(),severity)) {
    dto.setSeverity(severity);
    changed=true;
  }
  Cardinality cardinality=def.template() ? Cardinality.MULTIPLE : Cardinality.SINGLE;
  if (!cardinality.equals(dto.getCardinality())) {
    dto.setCardinality(cardinality);
    changed=true;
  }
  String status=def.status().name();
  if (!StringUtils.equals(dto.getStatus(),status)) {
    dto.setStatus(status);
    changed=true;
  }
  if (!StringUtils.equals(dto.getLanguage(),def.repository().language())) {
    dto.setLanguage(def.repository().language());
    changed=true;
  }
  if (changed) {
    dto.setUpdatedAt(buffer.now());
  }
  return changed;
}
