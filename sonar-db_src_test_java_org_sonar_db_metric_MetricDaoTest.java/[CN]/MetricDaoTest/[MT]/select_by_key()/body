{
  dbTester.prepareDbUnit(getClass(),"shared.xml");
  MetricDto result=underTest.selectByKey(session,"coverage");
  assertThat(result.getId()).isEqualTo(2);
  assertThat(result.getKey()).isEqualTo("coverage");
  assertThat(result.getShortName()).isEqualTo("Coverage");
  assertThat(result.getDescription()).isEqualTo("Coverage by unit tests");
  assertThat(result.getDomain()).isEqualTo("Tests");
  assertThat(result.getValueType()).isEqualTo("PERCENT");
  assertThat(result.getDirection()).isEqualTo(1);
  assertThat(result.isQualitative()).isTrue();
  assertThat(result.isUserManaged()).isFalse();
  assertThat(result.getWorstValue()).isEqualTo(0d);
  assertThat(result.getBestValue()).isEqualTo(100d);
  assertThat(result.isOptimizedBestValue()).isFalse();
  assertThat(result.isDeleteHistoricalData()).isFalse();
  assertThat(result.isHidden()).isFalse();
  assertThat(result.isEnabled()).isTrue();
  assertThat(result.getDecimalScale()).isEqualTo(3);
  result=underTest.selectByKey(session,"disabled");
  assertThat(result.getId()).isEqualTo(3);
  assertThat(result.isEnabled()).isFalse();
}
