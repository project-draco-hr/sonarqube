{
  if (analysisMode.isIncremental()) {
    if (!component.isFile()) {
      throw new UnsupportedOperationException("Incremental mode should only get issues on files");
    }
    InputFile inputFile=(InputFile)component.inputComponent();
    if (inputFile.status() == Status.ADDED) {
      return Collections.emptyList();
    }
    Profiler profiler=Profiler.create(LOG).startInfo("Load server issues for " + component.resource().getPath());
    ServerIssueConsumer consumer=new ServerIssueConsumer();
    boolean fromCache=previousIssuesLoader.load(component.key(),consumer,true);
    stopDebug(profiler,"Load server issues for " + component.resource().getPath(),fromCache);
    return consumer.issueList;
  }
 else {
    return issuesCache.values(component.batchId());
  }
}
