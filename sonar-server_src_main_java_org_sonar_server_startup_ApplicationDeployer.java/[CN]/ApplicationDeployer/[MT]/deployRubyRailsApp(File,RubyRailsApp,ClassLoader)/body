{
  LOG.debug("Deploy: " + app.getKey());
  File appDir=new File(appsDir,app.getKey());
  if (appDir.exists()) {
    LOG.error("Ruby on Rails application already exists: " + app.getKey());
  }
 else {
    ClassLoaderUtils.copyResources(appClassLoader,app.getPath(),appDir,new Function<String,String>(){
      @Override public String apply(      @Nullable String relativePath){
        return StringUtils.substringAfter(relativePath,StringUtils.removeStart(app.getPath(),"/") + "/");
      }
    }
);
  }
}
