{
  if (!hasNext()) {
    throw new NoSuchElementException();
  }
  String resourceId=resourceIds[resourceIdsIndex[index]];
  List<Block> blocks=new ArrayList<>();
  do {
    blocks.add(getBlock(resourceIdsIndex[index],resourceId));
    index++;
  }
 while (hasNext() && FastStringComparator.INSTANCE.compare(resourceIds[resourceIdsIndex[index]],resourceId) == 0);
  return new ResourceBlocks(resourceId,blocks);
}
