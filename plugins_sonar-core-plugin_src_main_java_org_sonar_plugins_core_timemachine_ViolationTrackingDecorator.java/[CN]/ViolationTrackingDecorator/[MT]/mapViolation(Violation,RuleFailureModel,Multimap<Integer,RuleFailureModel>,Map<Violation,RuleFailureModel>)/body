{
  if (pastViolation != null) {
    newViolation.setCreatedAt(pastViolation.getCreatedAt());
    newViolation.setPermanentId(pastViolation.getPermanentId());
    newViolation.setSwitchedOff(pastViolation.isSwitchedOff());
    newViolation.setCommitter(pastViolation.getCommitter());
    newViolation.setNew(false);
    pastViolationsByRule.remove(newViolation.getRule().getId(),pastViolation);
    violationMap.put(newViolation,pastViolation);
  }
 else {
    newViolation.setNew(true);
    newViolation.setCreatedAt(project.getAnalysisDate());
  }
}
