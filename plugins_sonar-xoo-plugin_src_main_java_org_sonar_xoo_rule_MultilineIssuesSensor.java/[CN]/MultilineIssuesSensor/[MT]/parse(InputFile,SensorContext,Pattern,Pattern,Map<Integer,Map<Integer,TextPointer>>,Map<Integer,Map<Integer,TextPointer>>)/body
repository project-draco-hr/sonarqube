{
  int currentLine=0;
  try {
    for (    String lineStr : Files.readAllLines(file.path(),context.fileSystem().encoding())) {
      currentLine++;
      Matcher m=startPattern.matcher(lineStr);
      while (m.find()) {
        Integer issueId=Integer.parseInt(m.group(1));
        Integer issueLocationId=Integer.parseInt(m.group(2));
        TextPointer newPointer=file.newPointer(currentLine,m.end());
        if (!startPositions.containsKey(issueId)) {
          startPositions.put(issueId,new HashMap<Integer,TextPointer>());
        }
        startPositions.get(issueId).put(issueLocationId,newPointer);
      }
      m=endPattern.matcher(lineStr);
      while (m.find()) {
        Integer issueId=Integer.parseInt(m.group(1));
        Integer issueLocationId=Integer.parseInt(m.group(2));
        TextPointer newPointer=file.newPointer(currentLine,m.start());
        if (!endPositions.containsKey(issueId)) {
          endPositions.put(issueId,new HashMap<Integer,TextPointer>());
        }
        endPositions.get(issueId).put(issueLocationId,newPointer);
      }
    }
  }
 catch (  IOException e) {
    throw new IllegalStateException("Unable to read file",e);
  }
}
