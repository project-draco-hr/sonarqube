{
  RulesProfile deprecatedProfile=new RulesProfile();
  deprecatedProfile.setName(qProfile.getName());
  deprecatedProfile.setLanguage(qProfile.getLanguage());
  for (  org.sonar.api.batch.rule.ActiveRule activeRule : ((DefaultActiveRules)activeRules).findByLanguage(qProfile.getLanguage())) {
    Rule rule=ruleFinder.findByKey(activeRule.ruleKey());
    ActiveRule deprecatedActiveRule=deprecatedProfile.activateRule(rule,RulePriority.valueOf(activeRule.severity()));
    for (    Map.Entry<String,String> param : activeRule.params().entrySet()) {
      deprecatedActiveRule.setParameter(param.getKey(),param.getValue());
    }
  }
  return deprecatedProfile;
}
