{
  RuleKey ruleKey=RuleKey.of("squid","AvoidCycle");
  DefaultIssue issue=new DefaultIssue().setKey("ABCDE").setRuleKey(ruleKey).setEffortToFix(2d);
  DefaultRequirement requirement=new DefaultRequirement().setFunction("linear_offset").setFactorValue(10).setFactorUnit(WorkDuration.UNIT.MINUTES).setOffsetValue(5).setOffsetUnit(WorkDuration.UNIT.MINUTES);
  when(model.requirementsByRule(ruleKey)).thenReturn(requirement);
  assertThat(calculator.calculateTechnicalDebt(issue.ruleKey(),issue.effortToFix())).isEqualTo(((10 * 2) + 5) * 60);
}
