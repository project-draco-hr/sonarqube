{
  String issueKey="ABCD";
  Issue issue=new DefaultIssue().setKey(issueKey).setComponentKey("sample:src/main/xoo/sample/Sample.xoo").setProjectKey("sample").setRuleKey(RuleKey.of("squid","AvoidCycle")).setActionPlanKey("AP-ABCD").setLine(12).setEffortToFix(2.0).setMessage("Fix it").setResolution("FIXED").setStatus("CLOSED").setSeverity("MAJOR").setAssignee("john").setReporter("steven").setAuthorLogin("Henry").setCreationDate(issueCreationDate);
  issues.add(issue);
  ComponentDto component=new ComponentDto().setId(10L).setKey("sample:src/main/xoo/sample/Sample.xoo").setLongName("src/main/xoo/sample/Sample.xoo").setName("Sample.xoo").setQualifier("FIL").setPath("src/main/xoo/sample/Sample.xoo").setSubProjectId(7L).setProjectId(7L);
  ComponentDto project=new ComponentDto().setId(7L).setKey("sample").setLongName("Sample").setName("Sample").setQualifier("TRK").setProjectId(7L);
  result.addComponents(Lists.<Component>newArrayList(component,project));
  result.addProjects(Lists.<Component>newArrayList(project));
  WsTester.TestRequest request=tester.newGetRequest("api/issues","search");
  request.execute().assertJson(getClass(),"issues_with_components.json");
}
