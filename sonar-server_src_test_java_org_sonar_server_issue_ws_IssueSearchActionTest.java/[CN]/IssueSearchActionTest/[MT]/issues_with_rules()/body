{
  String issueKey="ABCD";
  Issue issue=new DefaultIssue().setKey(issueKey).setComponentKey("sample:src/main/xoo/sample/Sample.xoo").setProjectKey("sample").setRuleKey(RuleKey.of("squid","AvoidCycle")).setActionPlanKey("AP-ABCD").setLine(12).setEffortToFix(2.0).setMessage("Fix it").setResolution("FIXED").setStatus("CLOSED").setSeverity("MAJOR").setAssignee("john").setReporter("steven").setAuthorLogin("Henry").setCreationDate(issueCreationDate);
  issues.add(issue);
  result.addRules(newArrayList(Rule.create("squid","AvoidCycle").setName("Avoid cycle").setDescription("Avoid cycle description")));
  WsTester.TestRequest request=tester.newGetRequest("api/issues","search");
  request.execute().assertJson(getClass(),"issues_with_rules.json");
}
