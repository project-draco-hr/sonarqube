{
  Snapshot previousSnapshot=mock(Snapshot.class);
  PastSnapshot pastSnapshot=new PastSnapshot("foo",new Date(),previousSnapshot);
  when(pastSnapshotFinder.findPreviousAnalysis(snapshot)).thenReturn(pastSnapshot);
  hashes.start();
  assertThat(hashes.remoteHash("src/main/java/foo/Bar.java")).isNull();
  hashes.stop();
}
