{
  ImmutableSortedSet.Builder<Repository> listBuilder=ImmutableSortedSet.naturalOrder();
  ImmutableSetMultimap.Builder<String,Repository> langBuilder=ImmutableSetMultimap.builder();
  ImmutableMap.Builder<String,Repository> keyBuilder=ImmutableMap.builder();
  for (  RulesDefinition.Repository repoDef : context.repositories()) {
    Repository repository=new Repository(repoDef);
    listBuilder.add(repository);
    langBuilder.put(repository.language(),repository);
    keyBuilder.put(repository.key(),repository);
  }
  repositories=listBuilder.build();
  repositoriesByLang=langBuilder.build();
  repositoriesByKey=keyBuilder.build();
}
