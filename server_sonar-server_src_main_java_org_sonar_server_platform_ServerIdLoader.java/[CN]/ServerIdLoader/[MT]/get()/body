{
  Optional<String> rawId=getRaw();
  if (!rawId.isPresent()) {
    return Optional.absent();
  }
  String organisation=settings.getString(CoreProperties.ORGANISATION);
  String ipAddress=settings.getString(CoreProperties.SERVER_ID_IP_ADDRESS);
  boolean validated;
  if (organisation == null || ipAddress == null) {
    validated=false;
  }
 else {
    String generatedId=idGenerator.generate(organisation,ipAddress);
    validated=generatedId != null && generatedId.equals(rawId.get());
  }
  return Optional.of(new ServerId(rawId.get(),validated));
}
