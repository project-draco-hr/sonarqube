{
  String message="This is bad";
  String xpathExpression="xpathExpression";
  PmdRule rule=new PmdRule(PmdConstants.XPATH_CLASS);
  rule.addProperty(new PmdProperty(PmdConstants.XPATH_EXPRESSION_PARAM,xpathExpression));
  rule.addProperty(new PmdProperty(PmdConstants.XPATH_MESSAGE_PARAM,message));
  rule.setName("MyOwnRule");
  exporter.processXPathRule("xpathKey",rule);
  assertThat(rule.getMessage(),is(message));
  assertThat(rule.getRef(),is(nullValue()));
  assertThat(rule.getClazz(),is(PmdConstants.XPATH_CLASS));
  assertThat(rule.getProperty(PmdConstants.XPATH_MESSAGE_PARAM),is(nullValue()));
  assertThat(rule.getName(),is("xpathKey"));
  assertThat(rule.getProperty(PmdConstants.XPATH_EXPRESSION_PARAM).getValue(),is(xpathExpression));
}
