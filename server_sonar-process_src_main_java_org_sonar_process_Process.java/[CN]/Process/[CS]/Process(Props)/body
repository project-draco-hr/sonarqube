{
  this.props=props;
  this.name=props.of(NAME_PROPERTY,null);
  this.port=props.intOf(HEARTBEAT_PROPERTY);
  if (StringUtils.isEmpty(this.name)) {
    throw new IllegalStateException(MISSING_NAME_ARGUMENT);
  }
  if (this.port == null) {
    throw new IllegalStateException(MISSING_PORT_ARGUMENT);
  }
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      shutdown();
    }
  }
);
  this.monitor=new Thread(this);
}
