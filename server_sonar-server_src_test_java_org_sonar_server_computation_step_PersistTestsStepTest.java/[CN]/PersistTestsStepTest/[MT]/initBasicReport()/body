{
  BatchReportWriter writer=new BatchReportWriter(reportDir);
  writer.writeMetadata(BatchReport.Metadata.newBuilder().setRootComponentRef(1).setProjectKey("PROJECT_KEY").build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(1).setType(Constants.ComponentType.PROJECT).setUuid(PROJECT_UUID).addChildRef(2).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(2).setType(Constants.ComponentType.MODULE).setUuid("MODULE").addAllChildRef(Arrays.asList(TEST_FILE_REF_1,TEST_FILE_REF_2,MAIN_FILE_REF_1,MAIN_FILE_REF_2)).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(TEST_FILE_REF_1).setIsTest(true).setType(Constants.ComponentType.FILE).setUuid(TEST_FILE_UUID_1).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(TEST_FILE_REF_2).setIsTest(true).setType(Constants.ComponentType.FILE).setUuid(TEST_FILE_UUID_2).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(MAIN_FILE_REF_1).setType(Constants.ComponentType.FILE).setUuid(MAIN_FILE_UUID_1).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(MAIN_FILE_REF_2).setType(Constants.ComponentType.FILE).setUuid(MAIN_FILE_UUID_2).build());
  return writer;
}
