{
  when(lastSnapshots.getSource(project)).thenReturn(load("example2-v1"));
  String source=load("example2-v2");
  DefaultIssue newIssue=newDefaultIssue("1 branch need to be covered",null,RuleKey.of("squid","AvoidCycle"),null);
  IssueDto referenceIssue=newReferenceIssue("2 branches need to be covered",null,"squid","AvoidCycle",null);
  IssueTrackingResult result=new IssueTrackingResult();
  tracking.mapIssues(newArrayList(newIssue),newArrayList(referenceIssue),source,project,result);
  assertThat(result.matching(newIssue)).isEqualTo(referenceIssue);
}
