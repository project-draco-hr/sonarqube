{
  DefaultIssue newIssue=newDefaultIssue("message",1,RuleKey.of("squid","AvoidCycle"),"checksum");
  IssueDto referenceIssue=newReferenceIssue("",1,1,"checksum").setAuthorLogin("arthur").setAssignee("perceval");
  Date referenceDate=DateUtils.parseDate("2009-05-18");
  referenceIssue.setIssueCreationDate(referenceDate);
  assertThat(newIssue.creationDate()).isNull();
  Map<DefaultIssue,IssueDto> mapping=tracking.mapIssues(newArrayList(newIssue),newArrayList(referenceIssue));
  assertThat(mapping.size()).isEqualTo(1);
  assertThat(newIssue.isNew()).isFalse();
  assertThat(newIssue.creationDate()).isEqualTo(referenceDate);
  assertThat(newIssue.assignee()).isEqualTo("perceval");
  assertThat(newIssue.authorLogin()).isEqualTo("arthur");
}
