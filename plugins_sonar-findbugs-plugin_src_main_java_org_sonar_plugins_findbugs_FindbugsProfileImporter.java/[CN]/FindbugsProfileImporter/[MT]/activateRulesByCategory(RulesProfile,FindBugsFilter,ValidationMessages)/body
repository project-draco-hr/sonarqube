{
  for (  Map.Entry<String,RulePriority> categoryLevel : filter.getCategoryLevels(new FindbugsLevelUtils()).entrySet()) {
    boolean someRulesHaveBeenActivated=false;
    String sonarCateg=FindbugsCategory.findbugsToSonar(categoryLevel.getKey());
    for (    Rule rule : ruleFinder.findAll(RuleQuery.create().withRepositoryKey(FindbugsConstants.REPOSITORY_KEY))) {
      if (sonarCateg != null && rule.getName().startsWith(sonarCateg)) {
        someRulesHaveBeenActivated=true;
        profile.activateRule(rule,categoryLevel.getValue());
      }
    }
    if (!someRulesHaveBeenActivated) {
      messages.addWarningText("Unable to find any rules associated to category  : '" + categoryLevel.getKey() + "'");
    }
  }
}
