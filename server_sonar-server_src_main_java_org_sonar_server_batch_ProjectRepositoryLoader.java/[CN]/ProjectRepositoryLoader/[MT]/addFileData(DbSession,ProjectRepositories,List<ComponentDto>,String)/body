{
  Map<String,String> moduleKeysByUuid=newHashMap();
  for (  ComponentDto module : moduleChildren) {
    moduleKeysByUuid.put(module.uuid(),module.key());
  }
  for (  FilePathWithHashDto file : dbClient.componentDao().selectEnabledDescendantFiles(session,moduleKey)) {
    FileData fileData=new FileData(file.getSrcHash(),true);
    ref.addFileData(moduleKeysByUuid.get(file.getModuleUuid()),file.getPath(),fileData);
  }
}
