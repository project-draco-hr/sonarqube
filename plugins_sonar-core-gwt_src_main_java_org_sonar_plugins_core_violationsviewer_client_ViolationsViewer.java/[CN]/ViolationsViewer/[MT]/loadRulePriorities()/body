{
  final ResourceQuery query=ResourceQuery.createForResource(resource,Metrics.VIOLATIONS).setExcludeRulePriorities(false);
  Sonar.getInstance().find(query,new AbstractCallback<Resource>(loading){
    @Override protected void doOnResponse(    Resource resource){
      setResourceHasViolations(resource);
      displayRulePriorities(resource);
      loadRules(resource);
    }
  }
);
}
