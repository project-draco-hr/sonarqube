{
  ResourceDto rootProject=resourceDao.getRootProjectByComponentKey(resourceKey);
  if (rootProject == null) {
    throw new SonarException("Unable to find root project for component with [key=" + resourceKey + "]");
  }
  propertiesDao.setProperty(new PropertyDto().setKey(SONAR_PREVIEW_CACHE_LAST_UPDATE_KEY).setResourceId(rootProject.getId()).setValue(String.valueOf(System.currentTimeMillis())));
}
