{
  UpdateCenter center=new UpdateCenter();
  center.getSonar().addRelease(Version.create("2.0"));
  center.getSonar().addRelease(Version.create("2.1"));
  center.addPlugin(new Plugin("foo").setName("Foo").setOrganizationUrl("http://www.sonarsource.org"));
  Plugin barPlugin=new Plugin("bar");
  center.addPlugin(barPlugin);
  barPlugin.addRelease(new Release(barPlugin,Version.create("1.2")).addRequiredSonarVersions(Version.create("2.0")).addRequiredSonarVersions(Version.create("2.1")));
  Properties properties=UpdateCenterSerializer.toProperties(center);
  properties.store(System.out,null);
  assertProperty(properties,"sonar.versions","2.0,2.1");
  assertProperty(properties,"plugins","foo,bar");
  assertProperty(properties,"foo.name","Foo");
  assertProperty(properties,"foo.organizationUrl","http://www.sonarsource.org");
  assertProperty(properties,"bar.versions","1.2");
  assertProperty(properties,"bar.1.2.requiredSonarVersions","2.0,2.1");
}
