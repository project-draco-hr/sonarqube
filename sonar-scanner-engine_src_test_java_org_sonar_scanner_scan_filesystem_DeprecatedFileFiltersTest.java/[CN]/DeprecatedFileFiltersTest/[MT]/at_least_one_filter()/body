{
  DeprecatedFileFilters filters=new DeprecatedFileFilters(new FileSystemFilter[]{filter});
  File basedir=temp.newFolder();
  File file=new File(basedir,"src/main/java/Foo.java");
  InputFile inputFile=new DefaultInputFile("foo","src/main/java/Foo.java").setModuleBaseDir(basedir.toPath()).setType(InputFile.Type.MAIN);
  when(filter.accept(eq(file),any(DeprecatedFileFilters.DeprecatedContext.class))).thenReturn(false);
  assertThat(filters.accept(inputFile)).isFalse();
  ArgumentCaptor<DeprecatedFileFilters.DeprecatedContext> argument=ArgumentCaptor.forClass(DeprecatedFileFilters.DeprecatedContext.class);
  verify(filter).accept(eq(file),argument.capture());
  DeprecatedFileFilters.DeprecatedContext context=argument.getValue();
  assertThat(context.canonicalPath()).isEqualTo(FilenameUtils.separatorsToUnix(file.getAbsolutePath()));
  assertThat(context.relativePath()).isEqualTo("src/main/java/Foo.java");
  assertThat(context.type()).isEqualTo(FileType.MAIN);
}
