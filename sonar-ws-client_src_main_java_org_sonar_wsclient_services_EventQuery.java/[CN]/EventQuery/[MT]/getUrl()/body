{
  StringBuilder url=new StringBuilder(BASE_URL);
  url.append('?');
  appendUrlParameter(url,"resource",resourceKey);
  appendUrlParameter(url,"categories",categories);
  if (fromDate != null) {
    if (includeFromTime) {
      appendUrlParameter(url,"fromDateTime",fromDate,true);
    }
 else {
      appendUrlParameter(url,"fromDate",fromDate,false);
    }
  }
  if (toDate != null) {
    if (includeToTime) {
      appendUrlParameter(url,"toDateTime",toDate,true);
    }
 else {
      appendUrlParameter(url,"toDate",toDate,false);
    }
  }
  return url.toString();
}
