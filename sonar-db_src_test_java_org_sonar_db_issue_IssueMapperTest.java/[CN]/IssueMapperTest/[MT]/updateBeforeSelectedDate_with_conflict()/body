{
  dbTester.prepareDbUnit(getClass(),"updateBeforeSelectedDate_with_conflict.xml");
  IssueDto dto=new IssueDto();
  dto.setComponentUuid("uuid-123");
  dto.setProjectUuid("uuid-101");
  dto.setRuleId(200);
  dto.setKee("ABCDE");
  dto.setLine(500);
  dto.setEffortToFix(3.14);
  dto.setDebt(10L);
  dto.setResolution("FIXED");
  dto.setStatus("RESOLVED");
  dto.setSeverity("BLOCKER");
  dto.setReporter("emmerik");
  dto.setAuthorLogin("morgan");
  dto.setAssignee("karadoc");
  dto.setActionPlanKey("current_sprint");
  dto.setIssueAttributes("JIRA=FOO-1234");
  dto.setChecksum("123456789");
  dto.setMessage("the message");
  dto.setIssueCreationDate(DateUtils.parseDate("2013-05-18"));
  dto.setIssueUpdateDate(DateUtils.parseDate("2013-05-19"));
  dto.setIssueCloseDate(DateUtils.parseDate("2013-05-20"));
  dto.setCreatedAt(1400000000000L);
  dto.setUpdatedAt(1460000000000L);
  dto.setSelectedAt(1400000000000L);
  int count=mapper.updateIfBeforeSelectedDate(dto);
  assertThat(count).isEqualTo(0);
  dbTester.getSession().commit();
  dbTester.assertDbUnit(getClass(),"updateBeforeSelectedDate_with_conflict-result.xml",new String[]{"id"},"issues");
}
