{
  throwable.expect(UnauthorizedException.class);
  MockUserSession.set().setLogin(null);
  issueCommentService.addComment("myIssue","my comment",MockUserSession.get());
  verify(updater,never()).addComment(any(DefaultIssue.class),anyString(),any(IssueChangeContext.class));
  verify(storage,never()).save(any(DefaultIssue.class));
  verify(issueNotifications,never()).sendChanges(any(DefaultIssue.class),any(IssueChangeContext.class),any(IssueQueryResult.class),anyString());
}
