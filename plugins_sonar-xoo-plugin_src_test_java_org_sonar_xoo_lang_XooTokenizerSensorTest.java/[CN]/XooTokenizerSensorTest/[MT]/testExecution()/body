{
  File source=new File(baseDir,"src/foo.xoo");
  FileUtils.write(source,"token1 token2 token3\ntoken4");
  DefaultInputFile inputFile=new DefaultInputFile("foo","src/foo.xoo").setAbsolutePath(new File(baseDir,"src/foo.xoo").getAbsolutePath()).setLanguage("xoo");
  fileSystem.add(inputFile);
  DuplicationTokenBuilder builder=mock(DuplicationTokenBuilder.class);
  when(context.duplicationTokenBuilder(inputFile)).thenReturn(builder);
  sensor.execute(context);
  verify(builder).addToken(1,"token1");
  verify(builder).addToken(1,"token2");
  verify(builder).addToken(1,"token3");
  verify(builder).addToken(2,"token4");
  verify(builder).done();
}
