{
  DefaultInputFile file1=new DefaultInputFile("foo","foo.php").setLines(50);
  DefaultInputFile file2=new DefaultInputFile("foo","foo2.php").setLines(50);
  DefaultDuplication dup=new DefaultDuplication().originBlock(file1,1,11).isDuplicatedBy(file1,40,50).isDuplicatedBy(file2,1,10);
  Block originBlock=dup.originBlock();
  assertThat(originBlock.resourceKey()).isEqualTo("foo:foo.php");
  assertThat(originBlock.startLine()).isEqualTo(1);
  assertThat(originBlock.length()).isEqualTo(11);
  assertThat(dup.duplicates()).hasSize(2);
}
