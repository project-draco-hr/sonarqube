{
  if (values != null && values.length() > 0) {
    StringTokenizer stValues=new StringTokenizer(values,",");
    int nbValues=stValues.countTokens();
    String categoriesParam=params.get(BaseChartWeb.CHART_PARAM_CATEGORIES);
    boolean categoriesPresent=categoriesParam != null && categoriesParam.length() > 0;
    String[] categoriesSplit;
    if (categoriesPresent) {
      categoriesSplit=categoriesParam.split(",");
    }
 else {
      categoriesSplit=new String[1];
      categoriesSplit[0]=BaseChartWeb.DEFAULT_NAME_CATEGORY;
    }
    String seriesParam=params.get(BaseChartWeb.CHART_PARAM_SERIES);
    boolean seriesPresent=seriesParam != null && seriesParam.length() > 0;
    String[] seriesSplit=null;
    if (seriesPresent) {
      seriesSplit=seriesParam.split(",");
    }
 else {
      seriesSplit=new String[nbValues];
      for (int i=0; i < nbValues; i++) {
        seriesSplit[i]=BaseChartWeb.DEFAULT_NAME_SERIE + i;
      }
    }
    for (    String currentCategory : categoriesSplit) {
      for (      String currentSerie : seriesSplit) {
        double currentValue=0.0;
        if (stValues.hasMoreTokens()) {
          try {
            currentValue=Double.parseDouble(stValues.nextToken());
          }
 catch (          NumberFormatException e) {
          }
        }
        dataset.addValue(currentValue,currentSerie,currentCategory);
      }
    }
  }
}
