{
  PropertiesBuilder<Integer,String> authors=propertiesBuilder(CoreMetrics.SCM_AUTHORS_BY_LINE);
  PropertiesBuilder<Integer,String> dates=propertiesBuilder(CoreMetrics.SCM_LAST_COMMIT_DATETIMES_BY_LINE);
  PropertiesBuilder<Integer,String> revisions=propertiesBuilder(CoreMetrics.SCM_REVISIONS_BY_LINE);
  int lineNumber=1;
  for (  BlameLine line : lines) {
    authors.add(lineNumber,normalizeString(line.getAuthor()));
    dates.add(lineNumber,DateUtils.formatDateTime(line.getDate()));
    revisions.add(lineNumber,line.getRevision());
    lineNumber++;
    if (lineNumber > lines.size() && lineNumber == file.lines()) {
      authors.add(lineNumber,normalizeString(line.getAuthor()));
      dates.add(lineNumber,DateUtils.formatDateTime(line.getDate()));
      revisions.add(lineNumber,line.getRevision());
    }
  }
  ScmSensor.saveMeasures(context,file,authors.buildData(),dates.buildData(),revisions.buildData());
}
