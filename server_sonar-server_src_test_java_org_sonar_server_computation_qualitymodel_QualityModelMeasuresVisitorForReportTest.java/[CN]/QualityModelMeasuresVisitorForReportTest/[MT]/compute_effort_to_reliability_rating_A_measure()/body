{
  treeRootHolder.setRoot(ROOT_PROJECT);
  fillComponentIssuesVisitorRule.setIssues(FILE_1_REF,newBugIssue(10L,BLOCKER),newBugIssue(1L,MAJOR),newCodeSmellIssue(4L,MAJOR),newBugIssue(10L,BLOCKER).setResolution(RESOLUTION_FIXED));
  fillComponentIssuesVisitorRule.setIssues(FILE_2_REF,newBugIssue(2L,CRITICAL),newBugIssue(3L,MINOR),newBugIssue(5L,INFO),newIssue(MAJOR,BUG));
  underTest.visit(ROOT_PROJECT);
  verifyAddedRawMeasure(FILE_1_REF,EFFORT_TO_REACH_RELIABILITY_RATING_A_KEY,10L + 1L);
  verifyAddedRawMeasure(FILE_2_REF,EFFORT_TO_REACH_RELIABILITY_RATING_A_KEY,2L + 3L);
  verifyAddedRawMeasure(DIRECTORY_REF,EFFORT_TO_REACH_RELIABILITY_RATING_A_KEY,16L);
  verifyAddedRawMeasure(MODULE_REF,EFFORT_TO_REACH_RELIABILITY_RATING_A_KEY,16L);
  verifyAddedRawMeasure(PROJECT_REF,EFFORT_TO_REACH_RELIABILITY_RATING_A_KEY,16L);
}
