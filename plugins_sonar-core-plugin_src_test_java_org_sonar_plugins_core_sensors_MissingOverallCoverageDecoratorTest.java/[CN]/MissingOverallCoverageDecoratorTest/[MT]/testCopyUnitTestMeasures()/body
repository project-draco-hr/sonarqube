{
  DecoratorContext context=mock(DecoratorContext.class);
  File file=File.create("src/Foo.java");
  when(context.getMeasure(CoreMetrics.LINES_TO_COVER)).thenReturn(new Measure<>(CoreMetrics.LINES_TO_COVER,10.0));
  when(context.getMeasure(CoreMetrics.UNCOVERED_LINES)).thenReturn(new Measure<>(CoreMetrics.UNCOVERED_LINES,5.0));
  when(context.getMeasure(CoreMetrics.COVERAGE_LINE_HITS_DATA)).thenReturn(new Measure<>(CoreMetrics.COVERAGE_LINE_HITS_DATA,"1=1;2=2;"));
  when(context.getMeasure(CoreMetrics.CONDITIONS_TO_COVER)).thenReturn(new Measure<>(CoreMetrics.CONDITIONS_TO_COVER,2.0));
  when(context.getMeasure(CoreMetrics.UNCOVERED_CONDITIONS)).thenReturn(new Measure<>(CoreMetrics.UNCOVERED_CONDITIONS,1.0));
  when(context.getMeasure(CoreMetrics.CONDITIONS_BY_LINE)).thenReturn(new Measure<>(CoreMetrics.CONDITIONS_BY_LINE,"1=4"));
  when(context.getMeasure(CoreMetrics.COVERED_CONDITIONS_BY_LINE)).thenReturn(new Measure<>(CoreMetrics.COVERED_CONDITIONS_BY_LINE,"1=2"));
  decorator.decorate(file,context);
  verify(context).saveMeasure(CoreMetrics.OVERALL_LINES_TO_COVER,10.0);
  verify(context).saveMeasure(CoreMetrics.OVERALL_UNCOVERED_LINES,5.0);
  verify(context).saveMeasure(new Measure(CoreMetrics.OVERALL_COVERAGE_LINE_HITS_DATA,"1=1;2=2;"));
  verify(context).saveMeasure(CoreMetrics.OVERALL_CONDITIONS_TO_COVER,2.0);
  verify(context).saveMeasure(CoreMetrics.OVERALL_UNCOVERED_CONDITIONS,1.0);
  verify(context).saveMeasure(new Measure(CoreMetrics.OVERALL_CONDITIONS_BY_LINE,"1=4"));
  verify(context).saveMeasure(new Measure(CoreMetrics.OVERALL_COVERED_CONDITIONS_BY_LINE,"1=2"));
}
