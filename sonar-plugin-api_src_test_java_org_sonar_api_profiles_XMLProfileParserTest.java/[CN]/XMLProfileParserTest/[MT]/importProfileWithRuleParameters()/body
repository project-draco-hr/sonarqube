{
  ValidationMessages validation=ValidationMessages.create();
  RuleFinder ruleFinder=newRuleFinder();
  RulesProfile profile=new XMLProfileParser(ruleFinder).parseResource(getClass().getClassLoader(),"org/sonar/api/profiles/XMLProfileParserTest/importProfileWithRuleParameters.xml",validation);
  assertThat(validation.hasErrors(),is(false));
  assertThat(validation.hasWarnings(),is(false));
  ActiveRule rule=profile.getActiveRule("checkstyle","IllegalRegexp");
  assertThat(rule.getParameter("format"),is("foo"));
  assertThat(rule.getParameter("message"),is("with special characters < > &"));
}
