{
  Resource directory=new Directory("fake");
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.FILES)).thenReturn(new Measure(CoreMetrics.FILES,20.0));
  when(context.getMeasure(CoreMetrics.COMPLEXITY)).thenReturn(new Measure(CoreMetrics.COMPLEXITY,500.0));
  new AbstractFileComplexityDecorator(Java.INSTANCE){
  }
.decorate(directory,context);
  verify(context).saveMeasure(CoreMetrics.FILE_COMPLEXITY,25.0);
}
