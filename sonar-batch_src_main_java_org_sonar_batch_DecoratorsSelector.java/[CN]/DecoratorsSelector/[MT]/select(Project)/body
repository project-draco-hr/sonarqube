{
  List<Decorator> decorators=new ArrayList<Decorator>(batchExtDictionnary.select(Decorator.class,project,false));
  SetMultimap<Metric,Decorator> decoratorsByGeneratedMetric=getDecoratorsByMetric(decorators);
  for (  Metric metric : taskExtDictionnary.select(Metric.class)) {
    if (metric.getFormula() != null) {
      decorators.add(new FormulaDecorator(metric,decoratorsByGeneratedMetric.get(metric)));
    }
  }
  return batchExtDictionnary.sort(decorators);
}
