{
  workDurationConvertor.init();
  final Date now=new Date(system2.now());
  MassUpdate massUpdate=context.prepareMassUpdate();
  massUpdate.select("SELECT ic.id, ic.change_data  FROM issue_changes ic " + "WHERE ic.change_type = 'diff' AND ic.change_data LIKE '%technicalDebt%'");
  massUpdate.update("UPDATE issue_changes SET change_data=?,updated_at=? WHERE id=?");
  massUpdate.execute(new MassUpdate.Handler(){
    @Override public boolean handle(    Select.Row row,    SqlStatement update) throws SQLException {
      Long id=row.getNullableLong(1);
      String changeData=row.getNullableString(2);
      update.setString(1,convertChangelog(changeData));
      update.setDate(2,now);
      update.setLong(3,id);
      return true;
    }
  }
);
}
