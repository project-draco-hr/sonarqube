{
  throwable.expect(IllegalStateException.class);
  String testPath=getClass().getResource(".").getPath();
  Settings settings=testSettings(0);
  settings.setProperty(CoreProperties.SONAR_HOME,testPath + "/unmatched_directory");
  settings.setProperty(DatabaseProperties.PROP_EMBEDDED_DATA_DIR,"");
  EmbeddedDatabase database=new EmbeddedDatabase(settings);
  database.getDataDirectory(settings);
}
