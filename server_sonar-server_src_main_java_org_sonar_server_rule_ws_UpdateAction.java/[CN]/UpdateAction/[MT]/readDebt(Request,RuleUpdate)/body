{
  String value=defaultIfEmpty(request.param(PARAM_REMEDIATION_FN_TYPE),request.param(DEPRECATED_PARAM_REMEDIATION_FN_TYPE));
  if (value != null) {
    if (StringUtils.isBlank(value)) {
      update.setDebtRemediationFunction(null);
    }
 else {
      DebtRemediationFunction fn=new DefaultDebtRemediationFunction(DebtRemediationFunction.Type.valueOf(value),defaultIfEmpty(request.param(PARAM_REMEDIATION_FN_GAP_MULTIPLIER),request.param(DEPRECATED_PARAM_REMEDIATION_FN_COEFF)),defaultIfEmpty(request.param(PARAM_REMEDIATION_FN_BASE_EFFORT),request.param(DEPRECATED_PARAM_REMEDIATION_FN_OFFSET)));
      update.setDebtRemediationFunction(fn);
    }
  }
}
