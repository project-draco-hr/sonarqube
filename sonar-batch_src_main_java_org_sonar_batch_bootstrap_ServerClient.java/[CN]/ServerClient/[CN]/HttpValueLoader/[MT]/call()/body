{
  InputSupplier<InputStream> inputSupplier;
  if (Strings.isNullOrEmpty(getLogin())) {
    inputSupplier=downloader.newInputSupplier(uri,requestMethod,timeoutMillis);
  }
 else {
    inputSupplier=downloader.newInputSupplier(uri,requestMethod,getLogin(),getPassword(),timeoutMillis);
  }
  return IOUtils.toByteArray(inputSupplier.getInput());
}
