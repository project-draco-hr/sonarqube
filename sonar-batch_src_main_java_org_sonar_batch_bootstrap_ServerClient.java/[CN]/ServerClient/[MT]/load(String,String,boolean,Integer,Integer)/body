{
  URI uri=getURI(pathStartingWithSlash);
  try {
    if (Strings.isNullOrEmpty(getLogin())) {
      return downloader.newInputSupplier(uri,requestMethod,connectTimeoutMs,readTimeoutMs).getInput();
    }
 else {
      return downloader.newInputSupplier(uri,requestMethod,getLogin(),getPassword(),connectTimeoutMs,readTimeoutMs).getInput();
    }
  }
 catch (  HttpDownloader.HttpException he) {
    if (wrapHttpException) {
      throw handleHttpException(he.getUri().toString(),he.getResponseCode(),he.getResponseContent(),he);
    }
 else {
      throw he;
    }
  }
catch (  IOException e) {
    throw new IllegalStateException(String.format("Unable to request: %s",uri),e);
  }
}
