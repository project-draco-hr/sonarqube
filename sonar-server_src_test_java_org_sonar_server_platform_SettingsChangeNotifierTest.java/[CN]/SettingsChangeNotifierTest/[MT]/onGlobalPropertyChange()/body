{
  GlobalPropertyChangeHandler handler=mock(GlobalPropertyChangeHandler.class);
  SettingsChangeNotifier notifier=new SettingsChangeNotifier(new GlobalPropertyChangeHandler[]{handler});
  notifier.onGlobalPropertyChange("foo","bar");
  verify(handler).onChange(argThat(new ArgumentMatcher<GlobalPropertyChangeHandler.PropertyChange>(){
    @Override public boolean matches(    Object o){
      GlobalPropertyChangeHandler.PropertyChange change=(GlobalPropertyChangeHandler.PropertyChange)o;
      return change.getKey().equals("foo") && change.getNewValue().equals("bar");
    }
  }
));
}
