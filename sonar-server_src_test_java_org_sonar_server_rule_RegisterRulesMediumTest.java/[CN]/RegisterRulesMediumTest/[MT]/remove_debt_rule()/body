{
  verifyRulesInDb();
  RuleIndex index=tester.get(RuleIndex.class);
  RuleDto ruleDto=db.ruleDao().getByKey(dbSession,RuleTesting.XOO_X2);
  db.ruleDao().update(dbSession,ruleDto.setDefaultSubCharacteristicId(db.debtCharacteristicDao().selectByKey(RulesDefinition.SubCharacteristics.INTEGRATION_TESTABILITY,dbSession).getId()).setDefaultRemediationFunction("LINEAR_OFFSET").setDefaultRemediationCoefficient("2h").setDefaultRemediationOffset("35min"));
  dbSession.commit();
  dbSession.clearCache();
  tester.get(Platform.class).executeStartupTasks();
  Rule ruleReloaded=index.getByKey(RuleTesting.XOO_X2);
  assertThat(ruleReloaded.debtSubCharacteristicKey()).isNull();
  assertThat(ruleReloaded.debtRemediationFunction()).isNull();
}
