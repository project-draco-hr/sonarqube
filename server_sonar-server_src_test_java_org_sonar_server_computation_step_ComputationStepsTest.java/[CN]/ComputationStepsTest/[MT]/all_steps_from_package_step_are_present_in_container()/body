{
  ComponentContainer parent=new ComponentContainer();
  parent.add(mock(ThreadLocalSettings.class));
  ComputeEngineContainerImpl ceContainer=new ComputeEngineContainerImpl(parent,new ReportComputeEngineContainerPopulator(mock(CeTask.class),null));
  Set<String> stepsCanonicalNames=StepsExplorer.retrieveStepPackageStepsCanonicalNames();
  Set<String> typesInContainer=from(ceContainer.getPicoContainer().getComponentAdapters()).transform(ComponentAdapterToImplementationClass.INSTANCE).filter(IsComputationStep.INSTANCE).transform(StepsExplorer.toCanonicalName()).toSet();
  assertThat(difference(stepsCanonicalNames,typesInContainer)).containsOnly(PersistDevelopersStep.class.getCanonicalName());
}
