{
  checkPermission();
  if (idToUseAsDefault == null) {
    propertiesDao.deleteGlobalProperty(SONAR_QUALITYGATE_PROPERTY);
  }
 else {
    QualityGateDto newDefault=getNonNullQgate(idToUseAsDefault);
    propertiesDao.insertProperty(new PropertyDto().setKey(SONAR_QUALITYGATE_PROPERTY).setValue(newDefault.getId().toString()));
  }
}
