{
  checkPermission();
  getNonNullQgate(qGateId);
  Metric metric=getNonNullMetric(metricKey);
  validateCondition(metric,operator,warningThreshold,errorThreshold,period);
  checkConditionDoesNotAlreadyExistOnSameMetricAndPeriod(getConditions(qGateId,null),metric,period);
  QualityGateConditionDto newCondition=new QualityGateConditionDto().setQualityGateId(qGateId).setMetricId(metric.getId()).setMetricKey(metric.getKey()).setOperator(operator).setWarningThreshold(warningThreshold).setErrorThreshold(errorThreshold).setPeriod(period);
  conditionDao.insert(newCondition);
  return newCondition;
}
