{
  insert("TASK_1",CeTaskTypes.REPORT,"COMPONENT1",CeActivityDto.Status.SUCCESS);
  insert("TASK_2",CeTaskTypes.REPORT,"COMPONENT2",CeActivityDto.Status.SUCCESS);
  insert("TASK_3",CeTaskTypes.REPORT,"COMPONENT1",CeActivityDto.Status.FAILED);
  insert("TASK_4",CeTaskTypes.REPORT,"COMPONENT1",CeActivityDto.Status.CANCELED);
  insert("TASK_5",CeTaskTypes.REPORT,"COMPONENT1",CeActivityDto.Status.SUCCESS);
  db.commit();
  assertThat(underTest.countLastByStatusAndComponentUuid(dbSession,SUCCESS,"COMPONENT1")).isEqualTo(1);
  assertThat(underTest.countLastByStatusAndComponentUuid(dbSession,SUCCESS,null)).isEqualTo(2);
}
