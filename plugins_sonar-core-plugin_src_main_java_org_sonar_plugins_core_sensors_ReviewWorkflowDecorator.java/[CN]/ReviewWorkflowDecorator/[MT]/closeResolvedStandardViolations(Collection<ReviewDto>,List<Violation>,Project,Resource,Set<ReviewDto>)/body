{
  Set<Integer> violationIds=Sets.newHashSet(Collections2.transform(violations,new ViolationToPermanentIdFunction()));
  for (  ReviewDto openReview : openReviews) {
    if (!openReview.isManualViolation() && !violationIds.contains(openReview.getViolationPermanentId())) {
      close(openReview,project,resource);
      updated.add(openReview);
    }
  }
}
