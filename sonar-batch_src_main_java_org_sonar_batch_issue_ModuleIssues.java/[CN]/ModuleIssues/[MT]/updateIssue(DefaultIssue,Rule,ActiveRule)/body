{
  if (Strings.isNullOrEmpty(issue.message())) {
    issue.setMessage(rule.getName());
  }
  issue.setCreationDate(project.getAnalysisDate());
  issue.setUpdateDate(project.getAnalysisDate());
  if (issue.severity() == null) {
    issue.setSeverity(activeRule.getSeverity().name());
  }
  Long debt=technicalDebtCalculator.calculateTechnicalDebt(issue.ruleKey(),issue.effortToFix());
  issue.setDebt(debt != null ? Duration.create(debt) : null);
}
