{
  for (  org.sonar.api.batch.sensor.issue.IssueLocation additionalLocation : issue.locations()) {
    locationBuilder.clear();
    String locationComponentKey=((DefaultInputComponent)additionalLocation.inputComponent()).key();
    locationBuilder.setComponentRef(componentCache.get(locationComponentKey).batchId());
    String message=additionalLocation.message();
    if (message != null) {
      locationBuilder.setMsg(message);
    }
    applyTextRange(additionalLocation.textRange());
    builder.addAdditionalLocation(locationBuilder.build());
  }
}
