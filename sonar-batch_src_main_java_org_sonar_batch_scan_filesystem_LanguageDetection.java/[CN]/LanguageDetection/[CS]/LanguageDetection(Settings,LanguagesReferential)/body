{
  for (  Language language : languages.all()) {
    String[] filePatterns=settings.getStringArray(getFileLangPatternPropKey(language.key()));
    PathPattern[] pathPatterns=PathPattern.create(filePatterns);
    if (pathPatterns.length > 0) {
      patternsByLanguage.put(language.key(),pathPatterns);
    }
 else {
      String[] patterns=language.fileSuffixes().toArray(new String[language.fileSuffixes().size()]);
      for (int i=0; i < patterns.length; i++) {
        String suffix=patterns[i];
        String extension=sanitizeExtension(suffix);
        patterns[i]=new StringBuilder().append("**/*.").append(extension).toString();
      }
      PathPattern[] defaultLanguagePatterns=PathPattern.create(patterns);
      patternsByLanguage.put(language.key(),defaultLanguagePatterns);
      LOG.debug("Declared extensions of language " + language + " were converted to "+ getDetails(language.key()));
    }
  }
  forcedLanguage=StringUtils.defaultIfBlank(settings.getString(CoreProperties.PROJECT_LANGUAGE_PROPERTY),null);
  if (forcedLanguage != null) {
    if (!patternsByLanguage.containsKey(forcedLanguage)) {
      throw MessageException.of("No language is installed with key '" + forcedLanguage + "'. Please update property '"+ CoreProperties.PROJECT_LANGUAGE_PROPERTY+ "'");
    }
    languagesToConsider.add(forcedLanguage);
  }
 else {
    languagesToConsider.addAll(patternsByLanguage.keySet());
  }
}
