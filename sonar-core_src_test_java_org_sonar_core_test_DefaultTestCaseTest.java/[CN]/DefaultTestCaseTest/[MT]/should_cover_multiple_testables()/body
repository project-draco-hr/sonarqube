{
  ScanGraph graph=ScanGraph.create();
  ComponentVertex file1=graph.addComponent(MockSourceFile.createMain("org.foo.Bar"));
  DefaultTestable testable1=graph.createAdjacentVertex(file1,DefaultTestable.class,"testable");
  ComponentVertex file2=graph.addComponent(MockSourceFile.createMain("org.foo.File"));
  DefaultTestable testable2=graph.createAdjacentVertex(file2,DefaultTestable.class,"testable");
  DefaultTestCase testCase=graph.createVertex(DefaultTestCase.class);
  testCase.setCoverageBlock(testable1,Arrays.asList(10,11,12));
  testCase.setCoverageBlock(testable2,Arrays.asList(12,13,14));
  assertThat(testCase.doesCover()).isTrue();
  assertThat(testCase.countCoveredLines()).isEqualTo(6);
  assertThat(testCase.coverageBlocks()).hasSize(2);
}
