{
  Snapshot previousSnapshot=mock(Snapshot.class);
  PastSnapshot pastSnapshot=new PastSnapshot("foo",new Date(),previousSnapshot);
  when(pastSnapshotFinder.findPreviousAnalysis(snapshot)).thenReturn(pastSnapshot);
  cache.start();
  assertThat(cache.getPreviousHash(new File(baseDir,"src/main/java/foo/Bar.java"))).isNull();
}
