{
  String currentCharacteristicKey=null;
  SMInputCursor cursor=chcCursor.childElementCursor();
  while (cursor.getNext() != null) {
    String node=cursor.getLocalName();
    if (StringUtils.equals(node,CHARACTERISTIC_KEY)) {
      currentCharacteristicKey=cursor.collectDescendantText().trim();
    }
 else     if (StringUtils.equals(node,CHARACTERISTIC)) {
      process(ruleDebts,parentKey,currentCharacteristicKey,validationMessages,cursor);
    }
 else     if (StringUtils.equals(node,REPOSITORY_KEY)) {
      RuleDebt ruleDebt=processRule(validationMessages,cursor);
      if (ruleDebt != null && parentKey != null) {
        if (rootKey != null) {
          ruleDebt.setSubCharacteristicKey(parentKey);
          ruleDebts.add(ruleDebt);
        }
 else {
          validationMessages.addWarningText("Rule '" + ruleDebt.ruleKey() + "' is ignored because it's defined directly under a root characteristic.");
        }
      }
    }
  }
}
