{
  Settings settings=new Settings().setProperties(Maps.fromProperties(System.getProperties()));
  boolean hasDialect=settings.hasKey("sonar.jdbc.dialect");
  if (hasDialect) {
    database=new DefaultDatabase(settings);
  }
 else {
    database=new H2Database();
  }
  database.start();
  myBatis=new MyBatis(database);
  myBatis.start();
  databaseCommands=DatabaseCommands.forDialect(database.getDialect());
}
