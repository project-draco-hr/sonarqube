{
  if (debt != null) {
    Rule rule=rules.find(ruleKey);
    if (rule != null) {
      String characteristicKey=rule.debtSubCharacteristic();
      if (characteristicKey != null) {
        Characteristic characteristic=model.characteristicByKey(characteristicKey);
        if (characteristic != null) {
          ruleDebts.add(ruleKey,debt);
          characteristicDebts.add(characteristic,debt);
          propagateTechnicalDebtInParents(characteristic.parent(),debt,characteristicDebts);
          return debt;
        }
      }
    }
  }
  return 0L;
}
