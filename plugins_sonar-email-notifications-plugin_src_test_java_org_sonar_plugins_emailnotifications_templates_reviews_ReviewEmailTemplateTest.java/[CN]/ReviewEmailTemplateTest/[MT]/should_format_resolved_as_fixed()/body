{
  Notification notification=new Notification("review-changed").setFieldValue("reviewId","1").setFieldValue("project","Sonar").setFieldValue("resource","org.sonar.server.ui.DefaultPages").setFieldValue("title","Utility classes should not have a public or default constructor.").setFieldValue("author","simon.brandhof").setFieldValue("old.status","OPEN").setFieldValue("old.resolution",null).setFieldValue("new.status","RESOLVED").setFieldValue("new.resolution","FIXED");
  EmailMessage message=template.format(notification);
  assertThat(message.getMessageId()).isEqualTo("review/1");
  assertThat(message.getSubject()).isEqualTo("Review #1");
  assertThat(message.getFrom()).isEqualTo("Simon Brandhof");
  assertThat(message.getMessage()).isEqualTo("" + "Project: Sonar\n" + "Resource: org.sonar.server.ui.DefaultPages\n"+ "\n"+ "Utility classes should not have a public or default constructor.\n"+ "\n"+ "Status: RESOLVED (was OPEN)\n"+ "Resolution: FIXED\n"+ "\n"+ "See it in Sonar: http://nemo.sonarsource.org/reviews/view/1\n");
}
