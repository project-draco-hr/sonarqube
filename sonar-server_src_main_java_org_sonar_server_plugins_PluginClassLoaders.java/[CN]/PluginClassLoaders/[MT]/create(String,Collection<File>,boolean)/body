{
  try {
    List<URL> urls=new ArrayList<URL>();
    for (    File file : classloaderFiles) {
      urls.add(toUrl(file));
    }
    return classLoaders.createClassLoader(pluginKey,urls,useChildFirstClassLoader);
  }
 catch (  MalformedURLException e) {
    throw new RuntimeException("Fail to load the classloader of the plugin: " + pluginKey,e);
  }
}
