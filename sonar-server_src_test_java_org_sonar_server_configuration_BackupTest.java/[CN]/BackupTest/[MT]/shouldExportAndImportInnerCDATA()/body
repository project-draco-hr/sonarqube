{
  SonarConfig sonarConfig=getSonarConfig();
  sonarConfig.setProperties(getPropertiesWithCDATA());
  Backup backup=new Backup(Arrays.asList(new MetricsBackup(null),new PropertiesBackup(null,cleanDryRunCache)));
  String xml=backup.getXmlFromSonarConfig(sonarConfig);
  assertXmlAreSimilar(xml,"backup-with-splitted-cdata.xml");
  sonarConfig=backup.getSonarConfigFromXml(xml);
  assertThat(sonarConfig.getProperties()).isEqualTo(getPropertiesWithCDATA());
}
