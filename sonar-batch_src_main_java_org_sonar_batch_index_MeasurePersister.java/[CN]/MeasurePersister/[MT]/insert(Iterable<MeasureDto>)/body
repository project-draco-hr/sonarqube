{
  SqlSession session=mybatis.openSession();
  try {
    MeasureModelMapper mapper=session.getMapper(MeasureModelMapper.class);
    for (    MeasureDto value : values) {
      mapper.insert(value);
      mapper.insertData(new MeasureDataDto(value.getId(),value.getSnapshotId(),value.getMeasureData().getData()));
    }
    session.commit();
  }
  finally {
    MyBatis.closeQuietly(session);
  }
}
