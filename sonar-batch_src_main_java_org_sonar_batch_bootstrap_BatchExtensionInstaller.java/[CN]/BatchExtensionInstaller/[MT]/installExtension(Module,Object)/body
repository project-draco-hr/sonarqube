{
  if (ExtensionUtils.isBatchExtension(extension) && ExtensionUtils.isSupportedEnvironment(extension,environment) && ExtensionUtils.isInstantiationStrategy(extension,InstantiationStrategy.PER_BATCH)) {
    if (ExtensionUtils.isType(extension,CoverageExtension.class)) {
      throw new IllegalArgumentException("Instantiation strategy " + InstantiationStrategy.PER_BATCH + " is not supported on CoverageExtension components: "+ extension);
    }
    module.addComponent(extension);
  }
}
