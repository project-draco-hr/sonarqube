{
  LOGGER.info("Indexing issues");
  IssueIterator issues=new IssueIterator(PROJECTS,FILES_PER_PROJECT,ISSUES_PER_FILE);
  ProgressTask progressTask=new ProgressTask(LOGGER,"issues",issues.count());
  Timer timer=new Timer("IssuesIndex");
  timer.schedule(progressTask,ProgressTask.PERIOD_MS,ProgressTask.PERIOD_MS);
  long start=System.currentTimeMillis();
  tester.get(IssueIndexer.class).index(issues);
  timer.cancel();
  long period=System.currentTimeMillis() - start;
  LOGGER.info(String.format("%d issues indexed in %d ms (%d docs/second)",issues.count.get(),period,1000 * issues.count.get() / period));
  LOGGER.info(String.format("Index disk: " + FileUtils.byteCountToDisplaySize(FileUtils.sizeOfDirectory(tester.getEsServerHolder().getHomeDir()))));
}
