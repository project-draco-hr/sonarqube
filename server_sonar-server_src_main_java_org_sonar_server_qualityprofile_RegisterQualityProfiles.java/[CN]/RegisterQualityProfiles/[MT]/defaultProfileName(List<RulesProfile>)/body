{
  String defaultName=null;
  boolean hasSonarWay=false;
  for (  RulesProfile profile : profiles) {
    if (profile.getDefaultProfile()) {
      defaultName=profile.getName();
    }
 else     if (DEFAULT_PROFILE_NAME.equals(profile.getName())) {
      hasSonarWay=true;
    }
  }
  if (StringUtils.isBlank(defaultName) && !hasSonarWay && !profiles.isEmpty()) {
    defaultName=profiles.get(0).getName();
  }
  return StringUtils.defaultIfBlank(defaultName,DEFAULT_PROFILE_NAME);
}
