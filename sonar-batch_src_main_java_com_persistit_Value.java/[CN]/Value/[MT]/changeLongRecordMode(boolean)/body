{
  if (mode != _longMode) {
    if (_longBytes == null || _longBytes.length < Buffer.LONGREC_SIZE) {
      _longBytes=new byte[Buffer.LONGREC_SIZE];
      _longSize=Buffer.LONGREC_SIZE;
    }
    final byte[] tempBytes=_bytes;
    final int tempSize=_size;
    _bytes=_longBytes;
    _size=_longSize;
    _longBytes=tempBytes;
    _longSize=tempSize;
    _longMode=mode;
    assertLongRecordModeIsCorrect();
  }
}
