{
  ResourceDto resourceDto=resourceDao.getResource(ResourceQuery.create().setKey(projectKey));
  if (resourceDto == null) {
    throw new IllegalArgumentException("Project " + projectKey + " does not exists.");
  }
  Collection<ActionPlanStatsDto> actionPlanStatsDtos=actionPlanStatsDao.findClosedByProjectId(resourceDto.getId());
  return newArrayList(Iterables.transform(actionPlanStatsDtos,new Function<ActionPlanStatsDto,ActionPlanStats>(){
    @Override public ActionPlanStats apply(    ActionPlanStatsDto actionPlanStatsDto){
      return actionPlanStatsDto.toActionPlanStat();
    }
  }
));
}
