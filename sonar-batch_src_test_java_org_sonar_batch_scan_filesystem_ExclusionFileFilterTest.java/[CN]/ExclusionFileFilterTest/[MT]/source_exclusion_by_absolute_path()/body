{
  java.io.File includedFile=temp.newFile("Foo.java");
  java.io.File excludedFile=temp.newFile("Bar.java");
  Settings settings=new Settings();
  settings.setProperty(CoreProperties.PROJECT_EXCLUSIONS_PROPERTY,"file:" + excludedFile.getCanonicalPath());
  ExclusionFileFilter filter=new ExclusionFileFilter(new FileExclusions(settings));
  FileFilterContext context=new FileFilterContext(mock(ModuleFileSystem.class),FileFilter.FileType.SOURCE);
  context.setFileRelativePath("org/bar/Foo.java");
  context.setFileCanonicalPath(includedFile.getCanonicalPath());
  assertThat(filter.accept(includedFile,context)).isTrue();
  context.setFileRelativePath("org/bar/Bar.java");
  context.setFileCanonicalPath(excludedFile.getCanonicalPath());
  assertThat(filter.accept(excludedFile,context)).isFalse();
}
