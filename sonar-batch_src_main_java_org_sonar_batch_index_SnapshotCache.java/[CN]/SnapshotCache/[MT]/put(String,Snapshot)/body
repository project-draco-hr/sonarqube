{
  Preconditions.checkState(!snapshots.containsKey(componentKey),"Component is already registered: " + componentKey);
  snapshots.put(componentKey,snapshot);
  return this;
}
