{
  ReportResources res=new ReportResources();
  Date d=new SimpleDateFormat("dd/MM/yyyy").parse("12/12/2012");
  res.setAnalysisDate(d);
  ReportResource root=new ReportResource().setBatchId(1).setId(11).setName("Root project").setSnapshotId(111).setType(Type.PRJ);
  ReportResource module=new ReportResource().setBatchId(2).setId(22).setName("Module").setSnapshotId(222).setPath("module1").setType(Type.MOD);
  root.addChild(module);
  ReportResource dir=new ReportResource().setBatchId(3).setId(33).setName("src").setSnapshotId(333).setPath("src").setType(Type.DIR);
  module.addChild(dir);
  ReportResource file=new ReportResource().setBatchId(4).setId(44).setName("Foo.java").setSnapshotId(444).setPath("Foo.java").setType(Type.FIL);
  dir.addChild(file);
  res.setRoot(root);
  JSONAssert.assertEquals(IOUtils.toString(this.getClass().getResourceAsStream("ReportResourceTest/expected.json"),"UTF-8"),res.toJson(),true);
}
