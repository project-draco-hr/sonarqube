{
  assertThat(finder.findById(1).getId()).isEqualTo(1);
  assertThat(finder.findById(3).getConfigKey()).isEqualTo("Checker/Treewalker/AnnotationUseStyleCheck");
  assertThat(finder.findById(2)).isNull();
  assertThat(finder.findByIds(newArrayList(2,3))).hasSize(2);
  Rule rule=finder.findByKey("checkstyle","com.puppycrawl.tools.checkstyle.checks.header.HeaderCheck");
  assertThat(rule).isNotNull();
  assertThat(rule.getKey()).isEqualTo(("com.puppycrawl.tools.checkstyle.checks.header.HeaderCheck"));
  assertThat(rule.isEnabled()).isTrue();
  assertThat(finder.findByKey("checkstyle","unknown")).isNull();
  assertThat(finder.find(RuleQuery.create().withRepositoryKey("checkstyle").withConfigKey("unknown"))).isNull();
  assertThat(finder.findAll(RuleQuery.create().withRepositoryKey("checkstyle"))).hasSize(2);
  assertThat(finder.findAll(RuleQuery.create())).extracting("id").containsOnly(1,3,4,5);
  assertThat(finder.findAll(RuleQuery.create())).hasSize(4);
  assertThat(finder.findByKey("checkstyle","DisabledCheck")).isNull();
  assertThat(finder.findAll(RuleQuery.create().withRepositoryKey("unknown_repository"))).isEmpty();
  tester.clearDbAndIndexes();
  assertThat(finder.findByIds(Collections.<Integer>emptyList())).isEmpty();
}
