{
  when(source.getContentType()).thenReturn("multipart/form-data");
  InputStream file=mock(InputStream.class);
  Part part=mock(Part.class);
  when(part.getSize()).thenReturn(0L);
  when(part.getInputStream()).thenReturn(file);
  doThrow(IllegalArgumentException.class).when(source).getPart("param1");
  ServletRequest request=new ServletRequest(source);
  expectedException.expect(IllegalStateException.class);
  expectedException.expectMessage("Can't read file part");
  request.readInputStreamParam("param1");
}
