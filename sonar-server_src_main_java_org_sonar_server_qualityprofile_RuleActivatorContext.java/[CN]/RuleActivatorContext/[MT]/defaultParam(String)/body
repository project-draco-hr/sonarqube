{
  ActiveRuleParamDto parentParam=parentActiveRuleParams.get(paramKey);
  if (parentParam != null) {
    return parentParam.getValue();
  }
  RuleParamDto ruleParam=ruleParams.get(paramKey);
  if (ruleParam == null) {
    throw new IllegalStateException(String.format("Rule parameter %s does not exist",paramKey));
  }
  return ruleParam.getDefaultValue();
}
