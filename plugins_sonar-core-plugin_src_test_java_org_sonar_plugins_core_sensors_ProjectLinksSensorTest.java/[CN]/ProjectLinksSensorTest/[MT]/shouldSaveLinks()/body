{
  SensorContext context=mock(SensorContext.class);
  MavenProject pom=MavenTestUtils.loadPom("/org/sonar/plugins/core/sensors/ProjectLinksSensorTest/shouldSaveLinks.xml");
  Project project=mock(Project.class);
  when(project.getPom()).thenReturn(pom);
  new ProjectLinksSensor().analyse(project,context);
  verify(context).saveLink(argThat(new MatchLink(ProjectLinksSensor.KEY_HOME,"Home","http://sonar.codehaus.org")));
  verify(context).saveLink(argThat(new MatchLink(ProjectLinksSensor.KEY_ISSUE_TRACKER,"Issues","http://jira.codehaus.org/browse/SONAR")));
  verify(context).saveLink(argThat(new MatchLink(ProjectLinksSensor.KEY_CONTINUOUS_INTEGRATION,"Continuous integration","http://bamboo.ci.codehaus.org/browse/SONAR/")));
  verify(context).saveLink(argThat(new MatchLink(ProjectLinksSensor.KEY_SCM,"Sources","http://svn.sonar.codehaus.org")));
  verify(context).saveLink(argThat(new MatchLink(ProjectLinksSensor.KEY_SCM_DEVELOPER_CONNECTION,"Developer connection","scm:svn:https://svn.codehaus.org/sonar/trunk")));
}
