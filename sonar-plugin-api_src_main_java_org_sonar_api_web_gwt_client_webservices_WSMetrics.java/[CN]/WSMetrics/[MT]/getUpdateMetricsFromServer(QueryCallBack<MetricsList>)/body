{
  return new QueryCallBack<MetricsList>(){
    public void onResponse(    MetricsList response,    JavaScriptObject jsonRawResponse){
      for (      Metric metric : response.getMetrics()) {
        Metric WSMetricConstant=get(metric.getKey());
        if (WSMetricConstant != null) {
          WSMetricConstant.updateFrom(metric);
        }
 else {
          add(metric);
        }
      }
      callback.onResponse(response,jsonRawResponse);
    }
    public void onError(    int errorCode,    String errorMessage){
      callback.onError(errorCode,errorMessage);
    }
    public void onTimeout(){
      callback.onTimeout();
    }
  }
;
}
