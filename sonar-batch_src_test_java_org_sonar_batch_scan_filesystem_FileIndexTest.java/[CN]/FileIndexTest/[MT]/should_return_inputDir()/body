{
  FileIndex index=new FileIndex(null,null,null,null,new PathResolver(),new Project("myProject"));
  File baseDir=temp.newFolder();
  DefaultModuleFileSystem fileSystem=mock(DefaultModuleFileSystem.class);
  when(fileSystem.baseDir()).thenReturn(baseDir);
  File ioFile=new File(baseDir,"src/main/java/com/foo");
  InputDir inputDir=index.inputDir(fileSystem,ioFile);
  assertThat(inputDir.name()).isEqualTo("src/main/java/com/foo");
  assertThat(inputDir.file()).isEqualTo(ioFile);
  assertThat(inputDir.attribute(DefaultInputDir.ATTRIBUTE_COMPONENT_KEY)).isEqualTo("myProject:src/main/java/com/foo");
}
