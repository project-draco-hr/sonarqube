{
  if (batchMeasure.hasAlertStatus() && !measure.hasQualityGateStatus()) {
    Optional<Measure.Level> qualityGateStatus=Measure.Level.toLevel(batchMeasure.getAlertStatus());
    if (qualityGateStatus.isPresent()) {
      String text=batchMeasure.hasAlertText() ? batchMeasure.getAlertText() : null;
      measure.setQualityGateStatus(new QualityGateStatus(qualityGateStatus.get(),text));
    }
  }
  if (hasAnyVariation(batchMeasure)) {
    measure.setVariations(createVariations(batchMeasure));
  }
  return Optional.of((Measure)measure);
}
