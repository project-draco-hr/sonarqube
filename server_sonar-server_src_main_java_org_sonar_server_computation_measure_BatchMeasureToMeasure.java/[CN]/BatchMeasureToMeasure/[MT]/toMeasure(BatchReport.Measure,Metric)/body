{
  Objects.requireNonNull(metric);
  if (batchMeasure == null) {
    return Optional.absent();
  }
  String data=batchMeasure.hasStringValue() ? batchMeasure.getStringValue() : null;
switch (metric.getType().getValueType()) {
case INT:
    return toIntegerMeasure(batchMeasure,data);
case LONG:
  return toLongMeasure(batchMeasure,data);
case DOUBLE:
return toDoubleMeasure(batchMeasure,data);
case BOOLEAN:
return toBooleanMeasure(batchMeasure,data);
case STRING:
return toStringMeasure(batchMeasure);
case LEVEL:
return toLevelMeasure(batchMeasure);
case NO_VALUE:
return toNoValueMeasure(batchMeasure);
default :
throw new IllegalArgumentException("Unsupported Measure.ValueType " + metric.getType().getValueType());
}
}
