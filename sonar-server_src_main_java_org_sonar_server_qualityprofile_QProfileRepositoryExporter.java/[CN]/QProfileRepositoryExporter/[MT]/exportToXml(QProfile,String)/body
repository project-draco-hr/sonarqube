{
  DatabaseSession session=sessionFactory.getSession();
  RulesProfile rulesProfile=session.getSingleResult(RulesProfile.class,"id",profile.id());
  if (profile == null) {
    throw new NotFoundException("This profile does not exists.");
  }
  ProfileExporter exporter=getProfileExporter(pluginKey);
  Writer writer=new StringWriter();
  exporter.exportProfile(rulesProfile,writer);
  return writer.toString();
}
