{
  Collection<FacetValue> facetRules=result.getFacetValues(IssueFilterParameters.RULES);
  if (facetRules != null) {
    for (    FacetValue rule : facetRules) {
      ruleKeys.add(RuleKey.parse(rule.getKey()));
    }
  }
  List<String> rulesFromRequest=request.paramAsStrings(IssueFilterParameters.RULES);
  if (rulesFromRequest != null) {
    for (    String ruleKey : rulesFromRequest) {
      ruleKeys.add(RuleKey.parse(ruleKey));
    }
  }
}
