{
  if (issue.line() == null) {
    return;
  }
  String componentKey=issue.componentKey();
  int from=Math.max(issue.line() - 1,1);
  int to=from + 2;
  int lineCounter=from;
  List<String> lines=sourceService.getLinesAsHtml(componentKey,from,to);
  if (lines != null) {
    json.name("sources").beginArray();
    for (    String line : lines) {
      json.beginArray().value(lineCounter).value(line).endArray();
      lineCounter++;
    }
    json.endArray();
    String scmAuthorData=sourceService.getScmAuthorData(componentKey);
    String scmDateData=sourceService.getScmDateData(componentKey);
    scmWriter.write(scmAuthorData,scmDateData,from,to,true,json);
  }
}
