{
  AnalysisReportDto report=AnalysisReportDto.newForTests(1L);
  when(queue.bookNextAvailable()).thenReturn(report);
  sut.run();
  assertThat(report.getStatus()).isEqualTo(SUCCESS);
  verify(queue).bookNextAvailable();
  verify(service).analyzeReport(report);
}
