{
  Long permissionTemplateId=templateId(query.template());
  int limit=query.pageSize();
  int total=permissionTemplateDao.countUsers(dbSession,query,permissionTemplateId);
  return toUserQueryResult(permissionTemplateDao.selectUsers(dbSession,query,permissionTemplateId,offset(query),limit),total);
}
