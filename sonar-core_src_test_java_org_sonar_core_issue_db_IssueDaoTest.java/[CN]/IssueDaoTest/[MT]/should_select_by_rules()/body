{
  setupData("shared","should_select_by_rules");
  IssueQuery query=IssueQuery.builder().rules(newArrayList(RuleKey.of("squid","AvoidCycle"))).build();
  assertThat(dao.selectIssues(query,newArrayList(399))).hasSize(2);
  query=IssueQuery.builder().rules(newArrayList(RuleKey.of("squid","AvoidCycle"),RuleKey.of("squid","NullRef"))).build();
  assertThat(dao.selectIssues(query,newArrayList(399))).hasSize(3);
  query=IssueQuery.builder().rules(newArrayList(RuleKey.of("squid","Other"))).build();
  assertThat(dao.selectIssues(query,newArrayList(399))).isEmpty();
}
