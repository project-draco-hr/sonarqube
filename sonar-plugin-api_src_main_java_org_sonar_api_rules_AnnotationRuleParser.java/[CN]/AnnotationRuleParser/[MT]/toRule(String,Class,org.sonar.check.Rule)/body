{
  String ruleKey=StringUtils.defaultIfEmpty(ruleAnnotation.key(),clazz.getCanonicalName());
  String ruleName=StringUtils.defaultIfEmpty(ruleAnnotation.name(),ruleKey);
  Rule rule=Rule.create(repositoryKey,ruleKey,ruleName);
  rule.setDescription(ruleAnnotation.description());
  rule.setRulesCategory(RulesCategory.fromIsoCategory(ruleAnnotation.isoCategory()));
  rule.setPriority(RulePriority.fromCheckPriority(ruleAnnotation.priority()));
  rule.setCardinality(ruleAnnotation.cardinality());
  Field[] fields=clazz.getDeclaredFields();
  if (fields != null) {
    for (    Field field : fields) {
      addRuleProperty(rule,field);
    }
  }
  return rule;
}
