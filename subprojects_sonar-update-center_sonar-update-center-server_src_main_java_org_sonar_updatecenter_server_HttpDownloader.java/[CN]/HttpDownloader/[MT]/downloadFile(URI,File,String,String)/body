{
  LOG.info("Download " + fileURI + " in "+ toFile);
  DefaultHttpClient client=new DefaultHttpClient();
  try {
    if (StringUtils.isNotBlank(login)) {
      client.getCredentialsProvider().setCredentials(new AuthScope(fileURI.getHost(),fileURI.getPort()),new UsernamePasswordCredentials(login,password));
    }
    HttpGet httpget=new HttpGet(fileURI);
    byte[] data=client.execute(httpget,new ByteResponseHandler());
    if (data != null) {
      FileUtils.writeByteArrayToFile(toFile,data);
    }
  }
 catch (  Exception e) {
    LOG.error("Fail to download " + fileURI + " to "+ toFile,e);
    FileUtils.deleteQuietly(toFile);
  }
 finally {
    client.getConnectionManager().shutdown();
  }
  return toFile;
}
