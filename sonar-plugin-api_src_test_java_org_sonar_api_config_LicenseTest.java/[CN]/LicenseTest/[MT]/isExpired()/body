{
  License license=License.readPlainText(V2_FORMAT);
  assertThat(license.isExpired(DateUtils.parseDate("2011-01-01"))).isFalse();
  Calendar sameDay=Calendar.getInstance(TimeZone.getDefault());
  sameDay.setTime(DateUtils.parseDate("2012-05-18"));
  assertThat(license.isExpired(sameDay.getTime())).isFalse();
  sameDay.set(Calendar.HOUR_OF_DAY,15);
  assertThat(license.isExpired(sameDay.getTime())).isFalse();
  sameDay.set(Calendar.HOUR_OF_DAY,23);
  sameDay.set(Calendar.MINUTE,59);
  sameDay.set(Calendar.SECOND,59);
  assertThat(license.isExpired(sameDay.getTime())).isFalse();
  sameDay.add(Calendar.SECOND,1);
  assertThat(license.isExpired(sameDay.getTime())).isTrue();
  assertThat(license.isExpired(DateUtils.parseDate("2013-06-23"))).isTrue();
}
