{
  Map<String,String> highlightingRules=highlightingCache.getHighlightingRulesByComponent();
  for (  Map.Entry<String,String> componentRules : highlightingRules.entrySet()) {
    Snapshot snapshotForComponent=snapshots.get(componentRules.getKey());
    SnapshotDataDto snapshotDataDto=new SnapshotDataDto();
    if (snapshotForComponent != null) {
      snapshotDataDto.setSnapshotId(snapshotForComponent.getId());
      snapshotDataDto.setResourceId(snapshotForComponent.getResourceId());
      snapshotDataDto.setDataType(DATA_TYPE);
      snapshotDataDto.setData(highlightingRules.get(componentRules.getValue()));
      snapshotDataDao.insert(snapshotDataDto);
    }
  }
}
