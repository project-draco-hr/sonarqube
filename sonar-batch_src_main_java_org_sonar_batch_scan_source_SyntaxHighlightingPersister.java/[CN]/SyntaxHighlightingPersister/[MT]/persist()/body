{
  Map<String,String> highlightingRules=highlightingCache.getHighlightingRulesByComponent();
  for (  String component : highlightingRules.keySet()) {
    Snapshot snapshotForComponent=snapshots.get(component);
    SnapshotDataDto snapshotDataDto=new SnapshotDataDto();
    snapshotDataDto.setSnapshotId(snapshotForComponent.getId());
    snapshotDataDto.setResourceId(snapshotForComponent.getResourceId());
    snapshotDataDto.setDataType(DATA_TYPE);
    snapshotDataDto.setData(highlightingRules.get(component));
    snapshotDataDao.insert(snapshotDataDto);
  }
}
