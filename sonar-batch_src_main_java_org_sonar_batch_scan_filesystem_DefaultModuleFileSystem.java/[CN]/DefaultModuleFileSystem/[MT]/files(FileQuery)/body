{
  boolean changedFilesOnly=false;
  if (settings.getBoolean(CoreProperties.INCREMENTAL_PREVIEW)) {
    if (!settings.getBoolean(CoreProperties.DRY_RUN)) {
      throw new SonarException("Incremental preview is only supported with preview mode");
    }
    changedFilesOnly=true;
  }
  return files(query,changedFilesOnly);
}
