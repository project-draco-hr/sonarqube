{
  context.setRelativePath(pathResolver.relativePath(context.relativeDir(),file));
  try {
    context.setCanonicalPath(file.getCanonicalPath());
  }
 catch (  Exception e) {
    throw new IllegalStateException("Fail to get the canonical path of: " + file);
  }
  for (  FileSystemFilter filter : filters) {
    if (!filter.accept(file,context)) {
      return false;
    }
  }
  return true;
}
