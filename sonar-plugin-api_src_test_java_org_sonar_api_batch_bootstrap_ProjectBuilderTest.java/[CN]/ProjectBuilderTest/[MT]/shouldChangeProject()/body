{
  final ProjectReactor projectReactor=new ProjectReactor(ProjectDefinition.create());
  ProjectBuilder builder=new ProjectBuilderSample(new Settings());
  builder.build(new ProjectBuilderContext(){
    @Override public ProjectReactor getProjectReactor(){
      return projectReactor;
    }
  }
);
  assertThat(projectReactor.getProjects().size(),is(2));
  ProjectDefinition root=projectReactor.getRoot();
  assertThat(root.getName(),is("Name changed by plugin"));
  assertThat(root.getSubProjects().size(),is(1));
  assertThat(root.getSubProjects().get(0).getSourceDirs(),hasItem("src"));
}
