{
  Settings settings=new Settings();
  settings.setProperty(CoreProperties.CORE_RULE_WEIGHTS_PROPERTY,"BLOCKER=2;CRITICAL=1;MAJOR=0;MINOR=0;INFO=0");
  WeightedViolationsDecorator decorator=new WeightedViolationsDecorator(settings);
  decorator.start();
  assertThat(decorator.getWeightsBySeverity().get(RulePriority.BLOCKER),Is.is(2));
  assertThat(decorator.getWeightsBySeverity().get(RulePriority.CRITICAL),Is.is(1));
  assertThat(decorator.getWeightsBySeverity().get(RulePriority.MAJOR),Is.is(0));
}
