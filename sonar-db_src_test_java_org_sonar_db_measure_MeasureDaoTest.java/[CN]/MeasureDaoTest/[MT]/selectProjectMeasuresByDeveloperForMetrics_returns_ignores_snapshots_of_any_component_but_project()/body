{
  ComponentDto projectDto=insertProject("aa");
  insertSnapshot("u1",projectDto,true);
  ComponentDto moduleDto=insertComponent(ComponentTesting.newModuleDto(projectDto));
  insertMeasure(moduleDto,insertSnapshot("u2",moduleDto,true),DEVELOPER_ID,NCLOC_METRIC_ID,15d);
  ComponentDto dirDto=insertComponent(ComponentTesting.newDirectory(moduleDto,"toto"));
  insertMeasure(dirDto,insertSnapshot("u3",dirDto,true),DEVELOPER_ID,NCLOC_METRIC_ID,25d);
  ComponentDto fileDto=insertComponent(ComponentTesting.newFileDto(moduleDto,"tutu"));
  insertMeasure(fileDto,insertSnapshot("u4",fileDto,true),DEVELOPER_ID,NCLOC_METRIC_ID,35d);
  assertThat(underTest.selectProjectMeasuresByDeveloperForMetrics(dbSession,DEVELOPER_ID,ImmutableList.of(NCLOC_METRIC_ID))).isEmpty();
}
