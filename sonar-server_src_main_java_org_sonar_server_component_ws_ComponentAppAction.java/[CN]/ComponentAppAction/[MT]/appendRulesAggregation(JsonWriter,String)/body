{
  json.name("severities").beginArray();
  Multiset<String> severities=issueService.findSeveritiesByComponent(componentKey);
  for (  String severity : severities.elementSet()) {
    json.beginArray().value(severity).value(i18n.message(UserSession.get().locale(),"severity." + severity,null)).value(severities.count(severity)).endArray();
  }
  json.endArray();
  json.name("rules").beginArray();
  RulesAggregation rulesAggregation=issueService.findRulesByComponent(componentKey);
  for (  RulesAggregation.Rule rule : rulesAggregation.rules()) {
    json.beginArray().value(rule.ruleKey().toString()).value(rule.name()).value(rulesAggregation.countRule(rule)).endArray();
  }
  json.endArray();
}
