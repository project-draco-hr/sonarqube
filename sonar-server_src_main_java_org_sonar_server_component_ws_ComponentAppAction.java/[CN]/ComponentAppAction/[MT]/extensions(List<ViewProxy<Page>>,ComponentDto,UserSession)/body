{
  Map<String,String> result=newHashMap();
  List<String> providedExtensions=newArrayList("tests_viewer","coverage","duplications","issues","source");
  for (  ViewProxy<Page> page : extensions) {
    if (!providedExtensions.contains(page.getId())) {
      if (page.getUserRoles().length == 0) {
        result.put(page.getId(),page.getTitle());
      }
 else {
        for (        String userRole : page.getUserRoles()) {
          if (userSession.hasComponentPermission(userRole,component.key())) {
            result.put(page.getId(),page.getTitle());
          }
        }
      }
    }
  }
  return result;
}
