{
  MeasureDto measure=measureByMetricKey(metricKey,measures);
  if (measure != null) {
    Metric metric=CoreMetrics.getMetric(measure.getKey().metricKey());
    if (periodIndex == null) {
      Double value=measure.getValue();
      if (value != null) {
        return formatValue(value,metric.getType());
      }
    }
 else {
      Double variation=measure.getVariation(periodIndex);
      if (variation != null) {
        return formatVariation(variation,metric.getType());
      }
    }
  }
  return null;
}
