{
  setupData("keep_authorized_project_ids_for_anonymous");
  assertThat(authorization.keepAuthorizedProjectIds(session,Sets.newHashSet(PROJECT_ID,PROJECT_ID_WITHOUT_SNAPSHOT),null,"user")).containsOnly(PROJECT_ID);
  assertThat(authorization.keepAuthorizedProjectIds(session,Sets.newHashSet(PROJECT_ID),null,"admin")).isEmpty();
  assertThat(authorization.keepAuthorizedProjectIds(session,Collections.<Long>emptySet(),null,"admin")).isEmpty();
}
