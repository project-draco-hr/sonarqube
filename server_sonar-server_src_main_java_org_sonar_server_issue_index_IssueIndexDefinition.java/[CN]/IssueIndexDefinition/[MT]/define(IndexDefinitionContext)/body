{
  NewIndex index=context.create(INDEX);
  index.refreshHandledByIndexer();
  index.setShards(settings);
  NewIndex.NewIndexType authorizationMapping=index.createType(TYPE_AUTHORIZATION);
  authorizationMapping.setAttribute("_id",ImmutableMap.of("path",FIELD_AUTHORIZATION_PROJECT_UUID));
  authorizationMapping.createDateTimeField(FIELD_AUTHORIZATION_UPDATED_AT);
  authorizationMapping.stringFieldBuilder(FIELD_AUTHORIZATION_PROJECT_UUID).build();
  authorizationMapping.stringFieldBuilder(FIELD_AUTHORIZATION_GROUPS).build();
  authorizationMapping.stringFieldBuilder(FIELD_AUTHORIZATION_USERS).build();
  NewIndex.NewIndexType issueMapping=index.createType(TYPE_ISSUE);
  issueMapping.setAttribute("_id",ImmutableMap.of("path",FIELD_ISSUE_KEY));
  issueMapping.setAttribute("_parent",ImmutableMap.of("type",TYPE_AUTHORIZATION));
  issueMapping.setAttribute("_routing",ImmutableMap.of("required",true,"path",FIELD_ISSUE_PROJECT_UUID));
  issueMapping.stringFieldBuilder(FIELD_ISSUE_ACTION_PLAN).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_ASSIGNEE).enableSorting().build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_ATTRIBUTES).disableSearch().build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_AUTHOR_LOGIN).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_COMPONENT_UUID).build();
  issueMapping.createLongField(FIELD_ISSUE_DEBT);
  issueMapping.createDoubleField(FIELD_ISSUE_EFFORT);
  issueMapping.stringFieldBuilder(FIELD_ISSUE_FILE_PATH).enableSorting().build();
  issueMapping.createDateTimeField(FIELD_ISSUE_FUNC_CREATED_AT);
  issueMapping.createDateTimeField(FIELD_ISSUE_FUNC_UPDATED_AT);
  issueMapping.createDateTimeField(FIELD_ISSUE_FUNC_CLOSED_AT);
  issueMapping.stringFieldBuilder(FIELD_ISSUE_KEY).enableSorting().build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_LANGUAGE).build();
  issueMapping.createIntegerField(FIELD_ISSUE_LINE);
  issueMapping.stringFieldBuilder(FIELD_ISSUE_MESSAGE).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_MODULE_UUID).build();
  issueMapping.createUuidPathField(FIELD_ISSUE_MODULE_PATH);
  issueMapping.stringFieldBuilder(FIELD_ISSUE_PROJECT_UUID).enableSorting().build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_DIRECTORY_PATH).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_REPORTER).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_RESOLUTION).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_RULE_KEY).build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_SEVERITY).build();
  issueMapping.createByteField(FIELD_ISSUE_SEVERITY_VALUE);
  issueMapping.stringFieldBuilder(FIELD_ISSUE_STATUS).enableSorting().build();
  issueMapping.stringFieldBuilder(FIELD_ISSUE_TAGS).build();
  issueMapping.createDateTimeField(FIELD_ISSUE_TECHNICAL_UPDATED_AT);
}
