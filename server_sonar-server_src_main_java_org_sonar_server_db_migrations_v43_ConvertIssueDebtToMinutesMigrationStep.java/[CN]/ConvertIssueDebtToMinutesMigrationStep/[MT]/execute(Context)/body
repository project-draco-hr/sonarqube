{
  workDurationConvertor.init();
  final Date now=new Date(system2.now());
  MassUpdate massUpdate=context.prepareMassUpdate();
  massUpdate.select("select id, technical_debt from issues");
  massUpdate.update("update issues set technical_debt=?, updated_at=? where id=?");
  massUpdate.execute(new MassUpdate.Handler(){
    @Override public boolean handle(    Select.Row row,    SqlStatement update) throws SQLException {
      Long debt=row.getNullableLong(2);
      if (debt != null) {
        Long id=row.getNullableLong(1);
        update.setLong(1,workDurationConvertor.createFromLong(debt));
        update.setDate(2,now);
        update.setLong(3,id);
        return true;
      }
      return false;
    }
  }
);
}
