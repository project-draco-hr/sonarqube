{
  Collection<Measure> unfiltered;
  if (filter instanceof MeasuresFilters.MetricFilter) {
    unfiltered=getMeasuresOfASingleMetric((MetricFilter<M>)filter);
  }
 else {
    unfiltered=measuresByMetric.values();
  }
  return filter.filter(unfiltered);
}
