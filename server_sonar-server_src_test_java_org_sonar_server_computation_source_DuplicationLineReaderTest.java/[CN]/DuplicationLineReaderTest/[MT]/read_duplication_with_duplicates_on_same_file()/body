{
  DuplicationLineReader reader=new DuplicationLineReader(Iterators.forArray(BatchReport.Duplication.newBuilder().setOriginPosition(BatchReport.TextRange.newBuilder().setStartLine(1).setEndLine(2).build()).addDuplicate(BatchReport.Duplicate.newBuilder().setRange(BatchReport.TextRange.newBuilder().setStartLine(3).setEndLine(4).build()).build()).build()));
  reader.read(line1);
  reader.read(line2);
  reader.read(line3);
  reader.read(line4);
  assertThat(line1.getDuplicationList()).containsExactly(1);
  assertThat(line2.getDuplicationList()).containsExactly(1);
  assertThat(line3.getDuplicationList()).containsExactly(2);
  assertThat(line4.getDuplicationList()).containsExactly(2);
}
