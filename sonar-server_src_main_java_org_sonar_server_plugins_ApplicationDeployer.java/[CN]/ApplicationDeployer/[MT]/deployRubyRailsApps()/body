{
  LOG.info("Deploy Ruby on Rails applications");
  File appsDir=prepareRubyRailsRootDirectory();
  for (  PluginMetadata pluginMetadata : pluginRepository.getMetadata()) {
    String pluginKey=pluginMetadata.getKey();
    try {
      deployRubyRailsApp(appsDir,pluginKey,pluginRepository.getPlugin(pluginKey).getClass().getClassLoader());
    }
 catch (    Exception e) {
      throw new IllegalStateException("Fail to deploy Ruby on Rails application: " + pluginKey,e);
    }
  }
}
