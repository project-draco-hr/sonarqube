{
  when(context.newMeasure()).then(new Answer<Measure>(){
    @Override public Measure answer(    InvocationOnMock invocation) throws Throwable {
      return new DefaultMeasure(storage);
    }
  }
);
  when(context.newDuplication()).then(new Answer<NewDuplication>(){
    @Override public NewDuplication answer(    InvocationOnMock invocation) throws Throwable {
      return new DefaultDuplication(storage);
    }
  }
);
  inputFile=(DeprecatedDefaultInputFile)new DeprecatedDefaultInputFile("foo","src/main/java/Foo.java").setLines(300);
  inputFile.setModuleBaseDir(temp.newFolder().toPath());
}
