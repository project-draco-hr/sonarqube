{
  JSONArray array=new JSONArray(json);
  MetricsList list=new MetricsList();
  for (int i=0; i < array.size(); i++) {
    JSONObject jsStock=array.get(i).isObject();
    if (jsStock != null) {
      WSMetrics.Metric m=parseMetric(jsStock);
      boolean skip=(isUserManaged() != null && (!isUserManaged() && m.isUserManaged())) || excludedTypes.contains(m.getType());
      if (!skip) {
        list.getMetrics().add(m);
      }
    }
  }
  return list;
}
