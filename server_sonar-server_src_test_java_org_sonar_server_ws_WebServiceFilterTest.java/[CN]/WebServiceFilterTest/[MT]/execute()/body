{
  initWebServiceEngine(newWsUrl("api/issues","search"));
  when(request.getRequestURI()).thenReturn("/api/issues/search");
  underTest.doFilter(request,response,chain);
  verify(webServiceEngine).execute(any(ServletRequest.class),any(org.sonar.server.ws.ServletResponse.class),eq("api/issues"),eq("search"),eq(null));
  verify(response).setStatus(200);
  verify(response).setHeader("Cache-Control","no-cache, no-store, must-revalidate");
  verify(responseOutput).flush();
  verify(responseOutput).close();
  verifyZeroInteractions(chain);
}
