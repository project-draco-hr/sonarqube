{
  ModuleFileSystemProvider provider=new ModuleFileSystemProvider();
  File baseDir=temp.newFolder("base");
  File workDir=temp.newFolder("work");
  ProjectDefinition module=ProjectDefinition.create().setBaseDir(baseDir).setWorkDir(workDir);
  ModuleFileSystem fs=provider.provide(module,new TempDirectories(),settings,fileCache,fileIndexer);
  assertThat(fs).isNotNull();
  assertThat(fs.baseDir().getCanonicalPath()).isEqualTo(baseDir.getCanonicalPath());
  assertThat(fs.workingDir().getCanonicalPath()).isEqualTo(workDir.getCanonicalPath());
  assertThat(fs.sourceDirs()).isEmpty();
  assertThat(fs.files(FileQuery.onSource())).isEmpty();
  assertThat(fs.testDirs()).isEmpty();
  assertThat(fs.files(FileQuery.onTest())).isEmpty();
}
