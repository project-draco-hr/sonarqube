{
  ModuleFileSystemProvider provider=new ModuleFileSystemProvider();
  File baseDir=temp.newFolder("base");
  File buildDir=temp.newFolder("build");
  File sourceDir=new File(baseDir,"src/main/java");
  FileUtils.forceMkdir(sourceDir);
  File testDir=new File(baseDir,"src/test/java");
  FileUtils.forceMkdir(testDir);
  File binaryDir=new File(baseDir,"target/classes");
  FileUtils.forceMkdir(binaryDir);
  ProjectDefinition project=ProjectDefinition.create().setBaseDir(baseDir).setBuildDir(buildDir).addSourceDirs("src/main/java","src/main/unknown").addTestDirs("src/test/java","src/test/unknown").addBinaryDir("target/classes");
  ModuleFileSystem fs=provider.provide(project,new PathResolver(),new TempDirectories(),mock(LanguageFilters.class),new Settings(),new FileSystemFilter[0]);
  assertThat(fs.baseDir().getCanonicalPath()).isEqualTo(baseDir.getCanonicalPath());
  assertThat(fs.buildDir().getCanonicalPath()).isEqualTo(buildDir.getCanonicalPath());
  assertThat(fs.sourceDirs()).hasSize(1);
  assertThat(fs.sourceDirs().get(0).getCanonicalPath()).endsWith("src/main/java");
  assertThat(fs.testDirs()).hasSize(1);
  assertThat(fs.testDirs().get(0).getCanonicalPath()).endsWith("src/test/java");
  assertThat(fs.binaryDirs()).hasSize(1);
  assertThat(fs.binaryDirs().get(0).getCanonicalPath()).endsWith("target/classes");
}
