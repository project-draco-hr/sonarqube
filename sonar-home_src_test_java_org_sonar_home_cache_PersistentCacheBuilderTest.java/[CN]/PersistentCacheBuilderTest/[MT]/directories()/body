{
  System.setProperty("user.home",temp.getRoot().getAbsolutePath());
  PersistentCache cache=new PersistentCacheBuilder(mock(Logger.class)).setAreaForProject("url","0","proj").build();
  assertThat(cache.getDirectory()).endsWith(Paths.get(".sonar","ws_cache","url","0","projects","proj"));
  cache=new PersistentCacheBuilder(mock(Logger.class)).setAreaForLocalProject("url","0").build();
  assertThat(cache.getDirectory()).endsWith(Paths.get(".sonar","ws_cache","url","0","local"));
  cache=new PersistentCacheBuilder(mock(Logger.class)).setAreaForGlobal("url").build();
  assertThat(cache.getDirectory()).endsWith(Paths.get(".sonar","ws_cache","url","global"));
}
