{
  String id=XContentMapValues.nodeStringValue(params.get(ID),null);
  String field=XContentMapValues.nodeStringValue(params.get(FIELD),null);
  Map value=XContentMapValues.nodeMapValue(params.get(VALUE),"Update item");
  if (id == null) {
    throw new IllegalStateException("Missing '" + ID + "' parameter");
  }
  if (field == null) {
    throw new IllegalStateException("Missing '" + FIELD + "' parameter");
  }
  if (value == null) {
    throw new IllegalStateException("Missing '" + VALUE + "' parameter");
  }
  return new ListUpdate(id,field,value);
}
