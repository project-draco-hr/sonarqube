{
  String fromParentUuid=request.mandatoryParam(PARAM_FROM_PARENT_UUID);
  String toParentUuid=request.mandatoryParam(PARAM_TO_PARENT_UUID);
  DbSession session=dbClient.openSession(false);
  try {
    ComponentDto fromParent=dbClient.componentDao().getByUuid(session,fromParentUuid);
    ComponentDto project=dbClient.componentDao().getByUuid(session,fromParent.projectUuid());
    UserSession.get().checkProjectUuidPermission(UserRole.USER,project.uuid());
    List<FileDependencyDto> fileDependencies=dbClient.fileDependencyDao().selectFromParents(session,fromParentUuid,toParentUuid,project.getId());
    writeResponse(response,fileDependencies,componentsByUuid(session,fileDependencies));
  }
  finally {
    session.close();
  }
}
