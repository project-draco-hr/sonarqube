{
  GwtExtension module1=mock(GwtExtension.class);
  when(module1.getGwtId()).thenReturn("org.sonar.server.startup.GwtPublisherTest.module1");
  GwtExtension module2=mock(GwtExtension.class);
  when(module2.getGwtId()).thenReturn("org.sonar.server.startup.GwtPublisherTest.module2");
  GwtPublisher publisher=new GwtPublisher(new GwtExtension[]{module1,module2},outputDir);
  publisher.publish();
  assertThat(new File("./target/test-tmp/org/sonar/server/startup/GwtPublisherTest/output/org.sonar.server.startup.GwtPublisherTest.module1/one.js").exists(),is(true));
  assertThat(new File("./target/test-tmp/org/sonar/server/startup/GwtPublisherTest/output/org.sonar.server.startup.GwtPublisherTest.module1/two.css").exists(),is(true));
  assertThat(new File("./target/test-tmp/org/sonar/server/startup/GwtPublisherTest/output/org.sonar.server.startup.GwtPublisherTest.module2/file.js").exists(),is(true));
}
