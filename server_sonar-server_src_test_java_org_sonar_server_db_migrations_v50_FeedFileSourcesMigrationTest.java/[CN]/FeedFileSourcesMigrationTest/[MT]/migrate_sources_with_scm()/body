{
  db.prepareDbUnit(getClass(),"before.xml");
  Connection connection=null;
  try {
    connection=db.openConnection();
    connection.prepareStatement("insert into snapshot_sources " + "(snapshot_id, data, updated_at) " + "values "+ "(6, 'class Foo {\r\n  // Empty\r\n}\r\n', '2014-10-31 16:44:02.000')").executeUpdate();
    PreparedStatement revisionStmt=connection.prepareStatement("insert into project_measures " + "(metric_id, snapshot_id, text_value) " + "values "+ "(1, 6, ?)");
    revisionStmt.setBytes(1,"1=aef12a;2=abe465;3=afb789;4=afb789".getBytes(Charsets.UTF_8));
    revisionStmt.executeUpdate();
    PreparedStatement authorStmt=connection.prepareStatement("insert into project_measures " + "(metric_id, snapshot_id, text_value) " + "values "+ "(2, 6, ?)");
    authorStmt.setBytes(1,"1=alice;2=bob;3=carol;4=carol".getBytes(Charsets.UTF_8));
    authorStmt.executeUpdate();
    PreparedStatement dateStmt=connection.prepareStatement("insert into project_measures " + "(metric_id, snapshot_id, text_value) " + "values "+ "(3, 6, ?)");
    dateStmt.setBytes(1,"1=2014-04-25T12:34:56+0100;2=2014-07-25T12:34:56+0100;3=2014-03-23T12:34:56+0100;4=2014-03-23T12:34:56+0100".getBytes(Charsets.UTF_8));
    dateStmt.executeUpdate();
  }
  finally {
    DbUtils.commitAndCloseQuietly(connection);
  }
  migration.execute();
  db.assertDbUnit(getClass(),"after-with-scm.xml","file_sources");
}
