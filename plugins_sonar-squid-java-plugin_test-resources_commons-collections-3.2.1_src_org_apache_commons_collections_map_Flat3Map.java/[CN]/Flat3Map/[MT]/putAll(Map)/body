{
  int size=map.size();
  if (size == 0) {
    return;
  }
  if (delegateMap != null) {
    delegateMap.putAll(map);
    return;
  }
  if (size < 4) {
    for (Iterator it=map.entrySet().iterator(); it.hasNext(); ) {
      Map.Entry entry=(Map.Entry)it.next();
      put(entry.getKey(),entry.getValue());
    }
  }
 else {
    convertToMap();
    delegateMap.putAll(map);
  }
}
