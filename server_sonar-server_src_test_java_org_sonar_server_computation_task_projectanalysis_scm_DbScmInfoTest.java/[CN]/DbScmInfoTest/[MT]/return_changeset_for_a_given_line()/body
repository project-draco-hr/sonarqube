{
  DbFileSources.Data.Builder fileDataBuilder=DbFileSources.Data.newBuilder();
  addLine(fileDataBuilder,1,"john",123456789L,"rev-1");
  addLine(fileDataBuilder,2,"henry",1234567810L,"rev-2");
  addLine(fileDataBuilder,3,"henry",1234567810L,"rev-2");
  addLine(fileDataBuilder,4,"john",123456789L,"rev-1");
  fileDataBuilder.build();
  ScmInfo scmInfo=DbScmInfo.create(FILE,fileDataBuilder.getLinesList()).get();
  assertThat(scmInfo.getAllChangesets()).hasSize(4);
  Changeset changeset=scmInfo.getChangesetForLine(4);
  assertThat(changeset.getAuthor()).isEqualTo("john");
  assertThat(changeset.getDate()).isEqualTo(123456789L);
  assertThat(changeset.getRevision()).isEqualTo("rev-1");
}
