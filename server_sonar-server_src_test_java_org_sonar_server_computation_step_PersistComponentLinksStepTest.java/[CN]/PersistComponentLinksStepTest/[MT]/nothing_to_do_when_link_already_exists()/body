{
  dbTester.prepareDbUnit(getClass(),"nothing_to_do_when_link_already_exists.xml");
  File reportDir=temp.newFolder();
  BatchReportWriter writer=new BatchReportWriter(reportDir);
  writer.writeMetadata(BatchReport.Metadata.newBuilder().setRootComponentRef(1).setProjectKey("PROJECT_KEY").setAnalysisDate(150000000L).build());
  writer.writeComponent(BatchReport.Component.newBuilder().setRef(1).setType(Constants.ComponentType.PROJECT).setUuid("ABCD").addLink(BatchReport.ComponentLink.newBuilder().setType(Constants.ComponentLinkType.HOME).setHref("http://www.sonarqube.org").build()).build());
  step.execute(new ComputationContext(new BatchReportReader(reportDir),mock(ComponentDto.class)));
  dbTester.assertDbUnit(getClass(),"nothing_to_do_when_link_already_exists.xml","project_links");
}
