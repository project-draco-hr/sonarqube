{
  if (previousLastSnapshot != null && previousLastSnapshot.getCreatedAt().before(rootSnapshot.getCreatedAt())) {
    setFlags(previousLastSnapshot,false,null);
  }
  boolean isLast=(previousLastSnapshot == null || previousLastSnapshot.getCreatedAt().before(rootSnapshot.getCreatedAt()));
  setFlags(rootSnapshot,isLast,Snapshot.STATUS_PROCESSED);
  LoggerFactory.getLogger(getClass()).info("ANALYSIS SUCCESSFUL, you can browse {}",server.getURL());
}
