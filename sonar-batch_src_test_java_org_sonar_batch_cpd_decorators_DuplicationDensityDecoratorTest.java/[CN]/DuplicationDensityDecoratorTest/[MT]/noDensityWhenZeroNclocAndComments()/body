{
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.NCLOC)).thenReturn(new Measure(CoreMetrics.NCLOC,0.0));
  when(context.getMeasure(CoreMetrics.DUPLICATED_LINES)).thenReturn(new Measure(CoreMetrics.COMMENT_LINES,0.0));
  when(context.getMeasure(CoreMetrics.DUPLICATED_LINES)).thenReturn(new Measure(CoreMetrics.DUPLICATED_LINES,10.0));
  DuplicationDensityDecorator decorator=new DuplicationDensityDecorator();
  decorator.decorate(null,context);
  verify(context,never()).saveMeasure(eq(CoreMetrics.DUPLICATED_LINES_DENSITY),anyDouble());
}
