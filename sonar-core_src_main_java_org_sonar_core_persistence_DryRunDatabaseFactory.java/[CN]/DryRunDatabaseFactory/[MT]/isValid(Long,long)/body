{
  long globalTimestamp=settings.getLong(SONAR_DRY_RUN_CACHE_LAST_UPDATE_KEY);
  if (globalTimestamp > lastTimestampInCache) {
    return false;
  }
  if (projectId != null) {
    Long rootId=resourceDao.getRootProjectByComponentId(projectId).getId();
    long projectTimestamp=settings.getLong(getCacheLastUpdateKey(rootId));
    if (projectTimestamp > lastTimestampInCache) {
      return false;
    }
  }
  return true;
}
