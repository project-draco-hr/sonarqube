{
  GlobalRepositories ref=GlobalRepositories.fromJson("{timestamp:1," + "metrics:[{id:1,key:ncloc,valueType:DATA,description:Description,direction:-1,name:NCLOC,qualitative:true,userManaged:false,worstValue:2.0,bestValue:1.0,optimizedBestValue:true}]," + "globalSettings:{prop:value}}");
  assertThat(ref.timestamp()).isEqualTo(1);
  Metric metric=ref.metrics().iterator().next();
  assertThat(metric.id()).isEqualTo(1);
  assertThat(metric.key()).isEqualTo("ncloc");
  assertThat(metric.valueType()).isEqualTo("DATA");
  assertThat(metric.description()).isEqualTo("Description");
  assertThat(metric.direction()).isEqualTo(-1);
  assertThat(metric.name()).isEqualTo("NCLOC");
  assertThat(metric.isQualitative()).isTrue();
  assertThat(metric.isUserManaged()).isFalse();
  assertThat(metric.worstValue()).isEqualTo(2.0);
  assertThat(metric.bestValue()).isEqualTo(1.0);
  assertThat(metric.isOptimizedBestValue()).isTrue();
  assertThat(ref.globalSettings()).containsEntry("prop","value");
}
