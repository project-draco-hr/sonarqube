{
  Component project=DumbComponent.builder(Component.Type.PROJECT,1).setUuid("UUID-1234").setKey(PROJECT_KEY).build();
  treeRootHolder.setRoot(project);
  dbIdsRepository.setComponentId(project,123L);
  reportReader.setMetadata(BatchReport.Metadata.newBuilder().setRootComponentRef(1).build());
  underTest.execute();
  ArgumentCaptor<IdUuidPair> argumentCaptor=ArgumentCaptor.forClass(IdUuidPair.class);
  verify(projectCleaner).purge(any(DbSession.class),argumentCaptor.capture(),any(Settings.class));
  assertThat(argumentCaptor.getValue().getId()).isEqualTo(123L);
  assertThat(argumentCaptor.getValue().getUuid()).isEqualTo("UUID-1234");
}
