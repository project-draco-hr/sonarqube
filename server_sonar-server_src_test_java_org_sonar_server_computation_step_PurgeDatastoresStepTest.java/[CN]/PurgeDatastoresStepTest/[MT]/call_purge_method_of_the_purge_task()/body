{
  dbComponentsRefCache.addComponent(1,new DbComponentsRefCache.DbComponent(123L,PROJECT_KEY,"UUID-1234"));
  reportReader.setMetadata(BatchReport.Metadata.newBuilder().setRootComponentRef(1).build());
  ComputationContext context=new ComputationContext(reportReader,PROJECT_KEY,new Settings(),mock(DbClient.class),ComponentTreeBuilders.from(DumbComponent.DUMB_PROJECT),mock(LanguageRepository.class));
  sut.execute(context);
  ArgumentCaptor<IdUuidPair> argumentCaptor=ArgumentCaptor.forClass(IdUuidPair.class);
  verify(projectCleaner).purge(any(DbSession.class),argumentCaptor.capture(),any(Settings.class));
  assertThat(argumentCaptor.getValue().getId()).isEqualTo(123L);
  assertThat(argumentCaptor.getValue().getUuid()).isEqualTo("UUID-1234");
}
