{
  org.sonar.batch.protocol.output.BatchReport.Event.Builder eventBuilder=org.sonar.batch.protocol.output.BatchReport.Event.newBuilder();
  eventBuilder.setName(name);
  eventBuilder.setDescription(description);
  eventBuilder.setCategory(category);
  if (data != null) {
    eventBuilder.setEventData(data);
  }
  int componentBatchId=resourceCache.get(resource).batchId();
  eventBuilder.setComponentRef(componentBatchId);
  addEvent(componentBatchId,eventBuilder.build());
}
