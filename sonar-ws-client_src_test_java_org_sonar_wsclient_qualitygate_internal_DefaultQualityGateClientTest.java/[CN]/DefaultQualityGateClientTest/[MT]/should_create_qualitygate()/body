{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.stubResponseBody("{\"id\":666,\"name\":\"Ninth\"}");
  QualityGateClient client=new DefaultQualityGateClient(requestFactory);
  QualityGate result=client.create("Ninth");
  assertThat(httpServer.requestedPath()).isEqualTo("/api/qualitygates/create");
  assertThat(httpServer.requestParams()).includes(entry("name","Ninth"));
  assertThat(result).isNotNull();
  assertThat(result.id()).isEqualTo(666L);
  assertThat(result.name()).isEqualTo("Ninth");
}
