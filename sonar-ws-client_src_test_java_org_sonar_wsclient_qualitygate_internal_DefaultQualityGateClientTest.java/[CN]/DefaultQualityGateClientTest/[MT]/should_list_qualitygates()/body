{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.stubResponseBody("{\"qualitygates\":[{\"id\":666,\"name\":\"Ninth\"},{\"id\":42,\"name\":\"Golden\"},{\"id\":43,\"name\":\"Star\"}]}");
  QualityGateClient client=new DefaultQualityGateClient(requestFactory);
  QualityGates qGates=client.list();
  assertThat(httpServer.requestedPath()).isEqualTo("/api/qualitygates/list");
  assertThat(httpServer.requestParams()).isEmpty();
  assertThat(qGates.qualityGates()).hasSize(3);
  assertThat(qGates.defaultGate()).isNull();
}
