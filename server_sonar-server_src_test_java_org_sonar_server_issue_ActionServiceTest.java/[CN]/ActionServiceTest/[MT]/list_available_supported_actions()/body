{
  DefaultIssue issue=new DefaultIssue().setKey("ABCD");
  when(componentDao.getByKey(eq(session),anyString())).thenReturn(mock(ComponentDto.class));
  when(issueService.getIssueByKey(session,"ABCD")).thenReturn(issue);
  actions.add("link-to-jira").setConditions(new AlwaysMatch());
  actions.add("tweet").setConditions(new NeverMatch());
  assertThat(actionService.listAvailableActions("ABCD")).hasSize(1);
}
