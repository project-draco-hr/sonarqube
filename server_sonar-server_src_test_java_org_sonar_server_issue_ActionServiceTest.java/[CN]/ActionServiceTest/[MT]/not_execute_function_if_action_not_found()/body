{
  Function function=mock(Function.class);
  when(componentDao.getByKey(eq(session),anyString())).thenReturn(mock(ComponentDto.class));
  when(issueService.getByKeyForUpdate(session,"ABCD")).thenReturn(issue);
  actions.add("link-to-jira").setConditions(new AlwaysMatch()).setFunctions(function);
  try {
    actionService.execute("ABCD","tweet",mock(ThreadLocalUserSession.class));
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(IllegalArgumentException.class).hasMessage("Action is not found : tweet");
  }
  verifyZeroInteractions(function);
}
