{
  when(resource.getEffectiveKey()).thenReturn("Action.java");
  when(server.getVersion()).thenReturn("3.6");
  settings=new Settings();
  mode=mock(AnalysisMode.class);
  when(mode.isPreview()).thenReturn(true);
  userFinder=mock(UserFinder.class);
  jsonReport=new JsonReport(settings,fileSystem,server,ruleI18nManager,issueCache,mock(EventBus.class),new DefaultComponentSelector(),mode,userFinder);
}
