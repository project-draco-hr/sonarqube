{
  File sonarDirectory=temporaryFolder.newFolder("sonar");
  Rule rule=Rule.create("squid","AvoidCycles").setName("Avoid Cycles");
  when(ruleFinder.findByKey(RuleKey.of("squid","AvoidCycles"))).thenReturn(rule);
  when(jsonReport.getIssues()).thenReturn(Collections.<DefaultIssue>emptyList());
  settings.setProperty("sonar.report.export.path","output.json");
  when(fileSystem.workingDir()).thenReturn(sonarDirectory);
  jsonReport.execute();
  assertThat(new File(sonarDirectory,"output.json")).exists();
}
