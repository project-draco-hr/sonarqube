{
  final String source="source";
  String key="foo:src/Foo.java";
  when(file.lineHashes()).thenReturn(new byte[][]{md5(source)});
  when(file.key()).thenReturn(key);
  when(file.status()).thenReturn(InputFile.Status.SAME);
  assertThat(sourceHashHolder.getHashedReference().getHash(1)).isEqualTo(md5Hex(source));
  assertThat(sourceHashHolder.getHashedReference().getHash(1)).isEqualTo(md5Hex(source));
  Mockito.verifyNoMoreInteractions(lastSnapshots);
}
