{
  squid.register(JavaAstScanner.class).scanFile(getFile("/metrics/ncloc/TestNcloc.java"));
  SourceCode res=squid.aggregate();
  assertEquals(39,res.getInt(Metric.LINES));
  assertEquals(9,res.getInt(Metric.BLANK_LINES));
  assertEquals(26,res.getInt(Metric.LINES_OF_CODE));
  SourceCode classSource=squid.search("ClassWithStaticMethods");
  assertEquals(26,classSource.getInt(Metric.LINES_OF_CODE));
  SourceCode methodSource=squid.search("ClassWithStaticMethods#doJob2()V");
  assertEquals(8,methodSource.getInt(Metric.LINES_OF_CODE));
}
