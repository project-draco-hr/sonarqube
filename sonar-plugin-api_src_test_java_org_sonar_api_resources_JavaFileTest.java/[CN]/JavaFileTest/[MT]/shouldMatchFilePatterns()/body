{
  JavaFile clazz=JavaFile.create("src/main/java/org/sonar/commons/Foo.java","org/sonar/commons/Foo.java",false);
  assertTrue(clazz.matchFilePattern("**/commons/**/*.java"));
  assertTrue(clazz.matchFilePattern("/**/commons/**/*.java"));
  assertTrue(clazz.matchFilePattern("/**/commons/**/*.*"));
  assertFalse(clazz.matchFilePattern("/**/sonar/*.java"));
  assertTrue(clazz.matchFilePattern("/src/main/java/org/*/commons/**/*.java"));
  assertTrue(clazz.matchFilePattern("src/main/java/org/sonar/commons/*"));
  assertTrue(clazz.matchFilePattern("src/main/java/org/sonar/**/*.java"));
  assertFalse(clazz.matchFilePattern("src/main/java/org/sonar/*"));
  assertFalse(clazz.matchFilePattern("src/main/java/org/sonar*/*"));
  assertTrue(clazz.matchFilePattern("src/main/java/org/**"));
  assertTrue(clazz.matchFilePattern("*src/main/java/org/sona?/co??ons/**.*"));
  assertFalse(clazz.matchFilePattern("src/main/java/org/sonar/core/**"));
  assertTrue(clazz.matchFilePattern("src/main/java/org/sonar/commons/Foo.java"));
  assertTrue(clazz.matchFilePattern("**/*Foo.java"));
  assertTrue(clazz.matchFilePattern("**/*Foo.*"));
  assertTrue(clazz.matchFilePattern("src/main/java/org/*/*/Foo.java"));
  assertTrue(clazz.matchFilePattern("src/main/java/org/**/**/Foo.java"));
  assertTrue(clazz.matchFilePattern("**/commons/**/*"));
  assertTrue(clazz.matchFilePattern("**/*"));
}
