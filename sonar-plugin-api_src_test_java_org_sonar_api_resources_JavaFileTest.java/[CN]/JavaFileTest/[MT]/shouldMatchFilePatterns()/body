{
  JavaFile clazz=JavaFile.create("src/main/java/org/sonar/commons/Foo.java","org/sonar/commons/Foo.java",false);
  assertThat(clazz.matchFilePattern("**/commons/**/*.java")).isTrue();
  assertThat(clazz.matchFilePattern("/**/commons/**/*.java")).isTrue();
  assertThat(clazz.matchFilePattern("/**/commons/**/*.*")).isTrue();
  assertThat(clazz.matchFilePattern("/**/sonar/*.java")).isFalse();
  assertThat(clazz.matchFilePattern("src/main/java/org/*/commons/**/*.java")).isTrue();
  assertThat(clazz.matchFilePattern("src/main/java/org/sonar/commons/*")).isTrue();
  assertThat(clazz.matchFilePattern("src/main/java/org/sonar/**/*.java")).isTrue();
  assertThat(clazz.matchFilePattern("src/main/java/org/sonar/*")).isFalse();
  assertThat(clazz.matchFilePattern("src/main/java/org/sonar*/*")).isFalse();
  assertThat(clazz.matchFilePattern("src/main/java/org/**")).isTrue();
  assertThat(clazz.matchFilePattern("*src/main/java/org/sona?/co??ons/**.*")).isTrue();
  assertThat(clazz.matchFilePattern("src/main/java/org/sonar/core/**")).isFalse();
  assertThat(clazz.matchFilePattern("src/main/java/org/sonar/commons/Foo.java")).isTrue();
  assertThat(clazz.matchFilePattern("**/*Foo.java")).isTrue();
  assertThat(clazz.matchFilePattern("**/*Foo.*")).isTrue();
  assertThat(clazz.matchFilePattern("src/main/java/org/*/*/Foo.java")).isTrue();
  assertThat(clazz.matchFilePattern("src/main/java/org/**/**/Foo.java")).isTrue();
  assertThat(clazz.matchFilePattern("**/commons/**/*")).isTrue();
  assertThat(clazz.matchFilePattern("**/*")).isTrue();
}
