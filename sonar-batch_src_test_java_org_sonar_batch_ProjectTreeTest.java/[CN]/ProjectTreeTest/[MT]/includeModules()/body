{
  Project root=newProjectWithArtifactId("root");
  root.getConfiguration().setProperty("sonar.includedModules","sub1,sub2");
  Project sub1=newProjectWithArtifactId("sub1");
  Project sub2=newProjectWithArtifactId("sub2");
  ProjectTree tree=new ProjectTree(Arrays.asList(root,sub1,sub2));
  tree.applyModuleExclusions();
  assertThat(tree.getProjects().size(),is(2));
  assertThat(tree.getProjects(),hasItem(sub1));
  assertThat(tree.getProjects(),hasItem(sub2));
}
