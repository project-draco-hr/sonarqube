{
  ComponentDto component=(ComponentDto)resourceDao.findByKey(kee);
  if (component != null) {
    throw new BadRequestException(formatMessage("Could not create %s, key already exists: %s",qualifier,kee));
  }
  checkKeyFormat(qualifier,kee);
  resourceDao.insertOrUpdate(new ResourceDto().setKey(kee).setName(name).setLongName(name).setScope(scope).setQualifier(qualifier).setCreatedAt(new Date()));
  component=(ComponentDto)resourceDao.findByKey(kee);
  if (component == null) {
    throw new BadRequestException(String.format("%s not created: %s",null,kee));
  }
  resourceIndexerDao.indexResource(component.getId());
}
