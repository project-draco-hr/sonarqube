{
  when(ruleService.search(any(RuleQuery.class),any(QueryContext.class))).thenReturn(mock(Result.class));
  service.updateRule(ImmutableMap.<String,Object>of("ruleKey","squid:S001"));
  verify(updater).update(any(RuleUpdate.class),any(ThreadLocalUserSession.class));
}
