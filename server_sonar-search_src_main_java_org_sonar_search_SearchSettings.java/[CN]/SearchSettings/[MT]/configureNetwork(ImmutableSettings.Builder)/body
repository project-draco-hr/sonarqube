{
  String host=props.nonNullValue(ProcessProperties.SEARCH_HOST);
  int port=Integer.parseInt(props.nonNullValue(ProcessProperties.SEARCH_PORT));
  LOGGER.info("Elasticsearch listening on {}:{}",host,port);
  builder.put("discovery.zen.ping.multicast.enabled","false");
  builder.put("transport.tcp.port",port);
  builder.put("transport.host",host);
  builder.put("network.tcp.reuse_address",true);
  Integer httpPort=props.valueAsInt(ProcessProperties.SEARCH_HTTP_PORT);
  if (httpPort == null || httpPort < 0) {
    builder.put("http.enabled",false);
  }
 else {
    LOGGER.warn(String.format("Elasticsearch HTTP connector is enabled on port %d. MUST NOT BE USED FOR PRODUCTION",httpPort));
    builder.put("http.cors.enabled",true);
    builder.put("http.enabled",true);
    builder.put("http.host",host);
    builder.put("http.port",httpPort);
  }
}
