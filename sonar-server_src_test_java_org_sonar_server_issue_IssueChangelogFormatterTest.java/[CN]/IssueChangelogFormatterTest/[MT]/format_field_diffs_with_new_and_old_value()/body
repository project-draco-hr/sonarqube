{
  FieldDiffs diffs=new FieldDiffs();
  diffs.setDiff("severity","BLOCKER","INFO");
  when(i18n.message(DEFAULT_LOCALE,"issue.changelog.field.severity",null)).thenReturn("Severity");
  when(i18n.message(DEFAULT_LOCALE,"issue.changelog.changed_to",null,"Severity","INFO")).thenReturn("Severity changed to INFO");
  when(i18n.message(DEFAULT_LOCALE,"issue.changelog.was",null,"BLOCKER")).thenReturn("was BLOCKER");
  List<String> result=formatter.format(DEFAULT_LOCALE,diffs);
  assertThat(result).hasSize(1);
  String message=result.get(0);
  assertThat(message).isEqualTo("Severity changed to INFO (was BLOCKER)");
}
