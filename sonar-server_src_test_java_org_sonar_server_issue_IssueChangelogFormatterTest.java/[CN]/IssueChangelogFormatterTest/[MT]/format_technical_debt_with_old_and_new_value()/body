{
  FieldDiffs diffs=new FieldDiffs();
  diffs.setDiff("technicalDebt","18000","28800");
  when(durations.format(any(Locale.class),eq(Duration.create(18000L)),eq(Durations.DurationFormat.SHORT))).thenReturn("5 hours");
  when(durations.format(any(Locale.class),eq(Duration.create(28800L)),eq(Durations.DurationFormat.SHORT))).thenReturn("1 days");
  when(i18n.message(DEFAULT_LOCALE,"issue.changelog.field.technicalDebt",null)).thenReturn("Technical Debt");
  when(i18n.message(DEFAULT_LOCALE,"issue.changelog.changed_to",null,"Technical Debt","1 days")).thenReturn("Technical Debt changed to 1 days");
  when(i18n.message(DEFAULT_LOCALE,"issue.changelog.was",null,"5 hours")).thenReturn("was 5 hours");
  List<String> result=formatter.format(DEFAULT_LOCALE,diffs);
  assertThat(result).hasSize(1);
  String message=result.get(0);
  assertThat(message).isEqualTo("Technical Debt changed to 1 days (was 5 hours)");
}
