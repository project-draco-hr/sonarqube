{
  TaskDefinition def=TaskDefinition.create().setCommand("purge").setName("Purge").setDescription("Purge database");
  Tasks tasks=mock(Tasks.class);
  when(tasks.getTaskDefinitions()).thenReturn(new TaskDefinition[]{def});
  ListTasksTask task=spy(new ListTasksTask(tasks));
  task.execute();
  verify(task,times(1)).log("Available tasks:");
  verify(task,times(1)).log("  - purge: Purge database");
}
