{
  json.name("metrics");
  json.beginArray();
  for (  MetricDto metric : metrics) {
    json.beginObject();
    json.prop(FIELD_ID,String.valueOf(metric.getId()));
    json.prop(FIELD_KEY,metric.getKey());
    writeIfDesired(json,FIELD_TYPE,metric.getValueType(),desiredFields);
    writeIfDesired(json,FIELD_NAME,metric.getShortName(),desiredFields);
    writeIfDesired(json,FIELD_DESCRIPTION,metric.getDescription(),desiredFields);
    writeIfDesired(json,FIELD_DOMAIN,metric.getDomain(),desiredFields);
    writeIfDesired(json,FIELD_DIRECTION,metric.getDirection(),desiredFields);
    writeIfDesired(json,FIELD_QUALITATIVE,metric.isQualitative(),desiredFields);
    writeIfDesired(json,FIELD_HIDDEN,metric.isHidden(),desiredFields);
    writeIfDesired(json,FIELD_CUSTOM,metric.isUserManaged(),desiredFields);
    json.endObject();
  }
  json.endArray();
}
