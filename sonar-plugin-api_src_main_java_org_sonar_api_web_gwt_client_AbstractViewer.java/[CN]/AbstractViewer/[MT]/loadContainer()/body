{
  String resourceKey=ResourceDictionary.getViewerResourceKey();
  if (resourceKey != null) {
    if (!standAloneMode && resource == null) {
      Utils.showError("Unable to find JSON resource object, unable to render widget");
      return;
    }
 else     if (standAloneMode && resource == null) {
      getResourceJsonObject(resourceKey);
      return;
    }
    String currentResourceKey=isANumber(resourceKey) ? resource.getId().toString() : resource.getKey();
    if (!renderedResourceKey.equals(currentResourceKey)) {
      if (!standAloneMode) {
        resource=loadResource();
      }
      if (widgetPanel == null) {
        RootPanel rootPanel=RootPanel.get(HTML_ROOT_ID);
        if (rootPanel == null) {
          Utils.showError("Unable to find root panel " + HTML_ROOT_ID + " in page");
        }
        widgetPanel=new FlowPanel();
        widgetPanel.setStyleName("gwt-ResourceTab");
        String panelId="tab-" + Utils.widgetGWTIdJSEncode(getGwtId());
        widgetPanel.getElement().setId(panelId);
        registerTab(panelId);
        widgetPanel.setVisible(false);
        rootPanel.add(widgetPanel);
      }
      renderedResourceKey=resourceKey;
      if (widgetPanel != null) {
        widgetPanel.clear();
        widgetPanel.add(render(resource));
      }
    }
  }
  if (widgetPanel != null) {
    widgetPanel.setVisible(true);
  }
}
