{
  if (cache == null) {
    PersistentCacheBuilder builder=new PersistentCacheBuilder(new Slf4jLogger());
    String home=props.property("sonar.userHome");
    String serverUrl=getServerUrl(props);
    if (home != null) {
      builder.setSonarHome(Paths.get(home));
    }
    builder.setAreaForGlobal(serverUrl,BatchUtils.getServerVersion());
    cache=builder.build();
  }
  return cache;
}
