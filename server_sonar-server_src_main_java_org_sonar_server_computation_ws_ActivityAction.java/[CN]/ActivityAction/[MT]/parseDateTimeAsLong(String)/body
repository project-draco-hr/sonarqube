{
  if (dateAsString == null) {
    return null;
  }
  Date date=parseDateTimeQuietly(dateAsString);
  if (date == null) {
    date=parseDateQuietly(dateAsString);
    checkRequest(date != null,"Date '%s' cannot be parsed as either a date or date+time",dateAsString);
    date=DateUtils.addDays(date,1);
  }
  return date.getTime();
}
