{
  Map<String,Object> params=EncodingUtils.toMap("issue",issueKey,"text",markdownText);
  HttpRequest request=requestFactory.post("/api/issues/add_comment",params);
  if (!request.ok()) {
    throw new IllegalStateException("Fail to add issue comment. Bad HTTP response status: " + request.code());
  }
  String json=request.body();
  return new IssueComment((Map)JSONValue.parse(json));
}
