{
  Map<String,Object> params=EncodingUtils.toMap("issue",issueKey,"text",markdownText);
  HttpRequest request=requestFactory.post("/api/issues/add_comment",params);
  if (!request.ok()) {
    throw new IllegalStateException("Fail to add issue comment. Bad HTTP response status: " + request.code());
  }
  Map rootJson=(Map)JSONValue.parse(request.body());
  return new IssueComment((Map)rootJson.get("comment"));
}
