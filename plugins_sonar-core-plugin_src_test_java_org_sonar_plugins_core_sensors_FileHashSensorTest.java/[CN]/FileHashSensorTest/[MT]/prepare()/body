{
  fileSystem=mock(ModuleFileSystem.class);
  when(fileSystem.sourceCharset()).thenReturn(Charsets.UTF_8);
  componentDataCache=mock(ComponentDataCache.class);
  fileHashCache=mock(FileHashCache.class);
  sensor=new FileHashSensor(fileHashCache,fileSystem,new PathResolver(),componentDataCache);
  PropertiesConfiguration conf=new PropertiesConfiguration();
  conf.setProperty("sonar.language","java");
  project=new Project("java_project").setConfiguration(conf).setLanguage(Java.INSTANCE);
}
