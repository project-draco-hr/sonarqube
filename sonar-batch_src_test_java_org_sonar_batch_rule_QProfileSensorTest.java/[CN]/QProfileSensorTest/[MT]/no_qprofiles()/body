{
  setupData("shared");
  QualityProfileDao dao=new QualityProfileDao(getMyBatis());
  when(moduleQProfiles.findAll()).thenReturn(Collections.<ModuleQProfiles.QProfile>emptyList());
  QProfileSensor sensor=new QProfileSensor(moduleQProfiles,fs,dao);
  assertThat(sensor.shouldExecuteOnProject(project)).isTrue();
  sensor.analyse(project,sensorContext);
  verify(sensorContext).saveMeasure(argThat(new IsMeasure(CoreMetrics.PROFILES,"[]")));
}
