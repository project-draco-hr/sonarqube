{
  setupData("shared");
  Snapshot currentProjectSnapshot=getSession().getSingleResult(Snapshot.class,"id",1010);
  PastSnapshotFinderByVersion finder=new PastSnapshotFinderByVersion(getSession());
  PastSnapshot foundSnapshot=finder.findByVersion(currentProjectSnapshot,"1.1");
  assertThat(foundSnapshot.getProjectSnapshotId()).isEqualTo(1009);
  assertThat(foundSnapshot.getMode()).isEqualTo(CoreProperties.TIMEMACHINE_MODE_VERSION);
}
