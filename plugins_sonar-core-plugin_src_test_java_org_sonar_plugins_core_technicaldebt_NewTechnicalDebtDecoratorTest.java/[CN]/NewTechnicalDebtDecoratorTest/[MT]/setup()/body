{
  Settings settings=new Settings();
  settings.setProperty(CoreProperties.HOURS_IN_DAY,HOURS_IN_DAY);
  ResourcePerspectives perspectives=mock(ResourcePerspectives.class);
  when(perspectives.as(Issuable.class,resource)).thenReturn(issuable);
  rightNow=new Date();
  elevenDaysAgo=DateUtils.addDays(rightNow,-11);
  tenDaysAgo=DateUtils.addDays(rightNow,-10);
  nineDaysAgo=DateUtils.addDays(rightNow,-9);
  fiveDaysAgo=DateUtils.addDays(rightNow,-5);
  fourDaysAgo=DateUtils.addDays(rightNow,-4);
  when(timeMachineConfiguration.periods()).thenReturn(newArrayList(new Period(1,fiveDaysAgo),new Period(2,tenDaysAgo)));
  decorator=new NewTechnicalDebtDecorator(perspectives,timeMachineConfiguration,new IssueChangelogDebtCalculator());
}
