{
  List<Violation> violations=context.getViolations();
  Measure measure=new Measure(CoreMetrics.NEW_UNREVIEWED_VIOLATIONS);
  for (  PastSnapshot pastSnapshot : timeMachineConfiguration.getProjectPastSnapshots()) {
    int newUnreviewedViolations=countNewUnreviewedViolationsForSnapshot(pastSnapshot,violations,openReviewsByViolationPermanentIds);
    int variationIndex=pastSnapshot.getIndex();
    Collection<Measure> children=context.getChildrenMeasures(CoreMetrics.NEW_UNREVIEWED_VIOLATIONS);
    double sumNewUnreviewedViolations=MeasureUtils.sumOnVariation(true,variationIndex,children) + newUnreviewedViolations;
    measure.setVariation(variationIndex,sumNewUnreviewedViolations);
  }
  context.saveMeasure(measure);
}
