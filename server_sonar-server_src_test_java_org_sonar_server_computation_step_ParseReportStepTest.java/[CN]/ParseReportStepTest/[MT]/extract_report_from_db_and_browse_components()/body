{
  File reportDir=generateReport();
  ComputationContext context=new ComputationContext(new BatchReportReader(reportDir),mock(ComponentDto.class));
  sut.execute(context);
  verify(issueComputation).processComponentIssues(context,"PROJECT_UUID",Collections.<BatchReport.Issue>emptyList());
  verify(issueComputation).processComponentIssues(context,"FILE1_UUID",Collections.<BatchReport.Issue>emptyList());
  verify(issueComputation).processComponentIssues(context,"FILE2_UUID",Collections.<BatchReport.Issue>emptyList());
  verify(issueComputation).afterReportProcessing();
  assertThat(context.getReportMetadata().getRootComponentRef()).isEqualTo(1);
}
