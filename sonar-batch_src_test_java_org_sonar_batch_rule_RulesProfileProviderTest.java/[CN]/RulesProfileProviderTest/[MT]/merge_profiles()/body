{
  QProfile qProfile=new QProfile().setKey("java-sw").setName("Sonar way").setLanguage("java");
  when(qProfiles.findAll()).thenReturn(Arrays.asList(qProfile));
  RulesProfile profile=provider.provide(qProfiles,new ActiveRulesBuilder().build(),settings);
  assertThat(profile).isNotNull().isInstanceOf(RulesProfileWrapper.class);
  assertThat(profile.getLanguage()).isEqualTo("");
  assertThat(profile.getName()).isEqualTo("SonarQube");
  assertThat(profile.getActiveRules()).isEmpty();
  try {
    profile.getId();
    fail();
  }
 catch (  IllegalStateException e) {
  }
}
