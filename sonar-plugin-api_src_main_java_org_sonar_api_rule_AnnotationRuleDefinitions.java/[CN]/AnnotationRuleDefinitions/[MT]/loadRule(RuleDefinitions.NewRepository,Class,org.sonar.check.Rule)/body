{
  String ruleKey=StringUtils.defaultIfEmpty(ruleAnnotation.key(),clazz.getCanonicalName());
  String ruleName=StringUtils.defaultIfEmpty(ruleAnnotation.name(),null);
  String description=StringUtils.defaultIfEmpty(ruleAnnotation.description(),null);
  RuleDefinitions.NewRule rule=repo.newRule(ruleKey);
  rule.setName(ruleName).setHtmlDescription(description);
  rule.setDefaultSeverity(ruleAnnotation.priority().name());
  rule.setTemplate(ruleAnnotation.cardinality() == Cardinality.MULTIPLE);
  rule.setStatus(RuleDefinitions.Status.valueOf(ruleAnnotation.status()));
  List<Field> fields=FieldUtils2.getFields(clazz,true);
  for (  Field field : fields) {
    loadParameters(rule,field);
  }
}
