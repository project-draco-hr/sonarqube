{
  List<CloneGroup> groups=Arrays.asList(newCloneGroup(new ClonePart("key1",0,5,204),new ClonePart("key2",0,15,214)),newCloneGroup(new ClonePart("key1",0,15,214),new ClonePart("key3",0,15,214)));
  JavaCpdEngine.save(context,inputFile,groups);
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATED_FILES).onFile(inputFile).withValue(1).build());
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATED_BLOCKS).onFile(inputFile).withValue(2).build());
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATED_LINES).onFile(inputFile).withValue(210).build());
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATIONS_DATA).onFile(inputFile).withValue("<duplications>" + "<g>" + "<b s=\"5\" l=\"200\" r=\"key1\"/>"+ "<b s=\"15\" l=\"200\" r=\"key2\"/>"+ "</g>"+ "<g>"+ "<b s=\"15\" l=\"200\" r=\"key1\"/>"+ "<b s=\"15\" l=\"200\" r=\"key3\"/>"+ "</g>"+ "</duplications>").build());
}
