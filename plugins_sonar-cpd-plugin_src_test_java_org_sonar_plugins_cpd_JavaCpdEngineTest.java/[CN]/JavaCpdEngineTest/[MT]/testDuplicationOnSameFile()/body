{
  List<CloneGroup> groups=Arrays.asList(newCloneGroup(new ClonePart("key1",0,5,204),new ClonePart("key1",0,215,414)));
  JavaCpdEngine.save(context,inputFile,groups,contextFactory);
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATED_FILES).onFile(inputFile).withValue(1).build());
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATED_BLOCKS).onFile(inputFile).withValue(2).build());
  verify(context).addMeasure(new DefaultMeasureBuilder().forMetric(CoreMetrics.DUPLICATED_LINES).onFile(inputFile).withValue(400).build());
  InOrder inOrder=Mockito.inOrder(duplicationBuilder);
  inOrder.verify(duplicationBuilder).originBlock(5,204);
  inOrder.verify(duplicationBuilder).isDuplicatedBy("key1",215,414);
  inOrder.verify(duplicationBuilder).build();
}
