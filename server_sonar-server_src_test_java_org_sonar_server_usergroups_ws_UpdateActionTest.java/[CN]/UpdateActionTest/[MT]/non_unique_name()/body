{
  GroupDto existingGroup=groupDao.insert(session,new GroupDto().setName("old-name").setDescription("Old Description"));
  String groupName="conflicting-name";
  groupDao.insert(session,new GroupDto().setName(groupName));
  session.commit();
  expectedException.expect(ServerException.class);
  expectedException.expectMessage("already taken");
  loginAsAdmin();
  tester.newPostRequest("api/usergroups","update").setParam("id",existingGroup.getId().toString()).setParam("name",groupName).execute().assertStatus(HttpURLConnection.HTTP_CONFLICT);
}
