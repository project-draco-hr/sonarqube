{
  WsClient ws=new WsClient(newHttpConnector().url("http://localhost:9000").login("admin").password("admin").build());
  String stringResponse=ws.execute(newGetRequest("api/webservices/list"));
  assertThat(stringResponse).contains("webservices","permissions");
  WsGroupsResponse protobufResponse=ws.execute(newPostRequest("api/permissions/groups").setMediaType(WsRequest.MediaType.PROTOBUF).setParam("permission","admin"),WsGroupsResponse.parser());
  assertThat(protobufResponse.getGroups(0).getName()).contains("sonar-administrator");
  WsGroupsResponse groupsResponse=ws.permissionsClient().groups(new WsGroupsRequest().setPermission("admin"));
  assertThat(groupsResponse.getGroups(0).getName()).contains("sonar-administrator");
}
