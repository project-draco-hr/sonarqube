{
  RuleMapping mapping=new RuleMapping(languages,macroInterpreter);
  SimpleGetRequest request=new SimpleGetRequest();
  request.setParam("p","1");
  request.setParam("ps","10");
  request.setParam("f","repo,name,lang");
  QueryOptions queryOptions=mapping.newQueryOptions(SearchOptions.create(request));
  assertThat(queryOptions.getFieldsToReturn()).containsOnly(RuleNormalizer.RuleField.REPOSITORY.key(),RuleNormalizer.RuleField.NAME.key(),RuleNormalizer.RuleField.LANGUAGE.key());
}
