{
  try {
    LOGGER.info("Initialize input");
    Referentials referentials=new Referentials(db);
    if (referentials.totalViolations() > 0) {
      LOGGER.info("Migrate {} violations",referentials.totalViolations());
      ViolationConverters converters=new ViolationConverters(settings);
      converters.execute(referentials,db);
    }
  }
 catch (  SQLException e) {
    LOGGER.error(FAILURE_MESSAGE,e);
    SqlUtil.log(LOGGER,e);
    throw MessageException.of(FAILURE_MESSAGE);
  }
catch (  Exception e) {
    LOGGER.error(FAILURE_MESSAGE,e);
    throw MessageException.of(FAILURE_MESSAGE);
  }
}
