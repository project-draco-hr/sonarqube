{
  CounterInitializationContext counterContext=new CounterInitializationContextImpl(file);
  for (  Formula formula : formulas) {
    Counter counter=formula.createNewCounter();
    counter.initialize(counterContext);
    for (    String metricKey : formula.getOutputMetricKeys()) {
      addNewMeasure(file,metricKey,formula,counter);
    }
    aggregateToParent(path,formula,counter);
  }
}
