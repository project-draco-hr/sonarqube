{
  List<QProfile> profiles;
  if (askDefaultProfiles(request)) {
    profiles=findDefaultProfiles();
  }
 else   if (hasComponentKey(request)) {
    profiles=findProjectProfiles(request);
  }
 else {
    profiles=findAllProfiles(request);
  }
  return orderProfiles(profiles);
}
