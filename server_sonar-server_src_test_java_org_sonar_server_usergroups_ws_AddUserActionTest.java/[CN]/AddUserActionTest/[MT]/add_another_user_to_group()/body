{
  GroupDto users=insertGroup("user");
  UserDto user1=insertUser("user1");
  UserDto user2=insertUser("user2");
  insertMember(users.getId(),user1.getId());
  session.commit();
  userSession.login("admin").setGlobalPermissions(GlobalPermissions.SYSTEM_ADMIN);
  tester.newPostRequest("api/usergroups","add_user").setParam("groupId",users.getId().toString()).setParam("userLogin",user2.getLogin()).execute().assertNoContent();
  Multimap<String,String> groupsByLogins=groupMembershipDao.selectGroupsByLogins(session,Arrays.asList(user1.getLogin(),user2.getLogin()));
  assertThat(groupsByLogins.get(user1.getLogin())).containsOnly(users.getName());
  assertThat(groupsByLogins.get(user2.getLogin())).containsOnly(users.getName());
}
