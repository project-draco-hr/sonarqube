{
  List<Rule> rules=new ArrayList<Rule>();
  rules.addAll(XMLRuleParser.parseXML(getClass().getResourceAsStream("/org/sonar/plugins/checkstyle/rules.xml")));
  for (  File userExtensionXml : fileSystem.getExtensions(CheckstyleConstants.REPOSITORY_KEY,"xml")) {
    rules.addAll(XMLRuleParser.parseXML(userExtensionXml));
  }
  return rules;
}
