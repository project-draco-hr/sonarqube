{
  when(ruleCache.get(RULE_KEY)).thenReturn(rule);
  outputIssues=new IssueCache(temp.newFile(),System2.INSTANCE);
  projectSettings=new Settings();
  when(projectSettingsRepository.getProjectSettings(PROJECT_KEY)).thenReturn(projectSettings);
  sut=new IssueComputation(ruleCache,lineCache,scmAccountCache,outputIssues,userIndex,projectSettingsRepository,reportReader);
}
