{
  boolean installed;
  if (ExtensionUtils.isTaskExtension(extension) && (projectPresent || !ExtensionUtils.requiresProject(extension)) && ExtensionUtils.supportsEnvironment(extension,environment)) {
    logInstallExtension("task",plugin,extension);
    container.addExtension(plugin,extension);
    installed=true;
  }
 else {
    container.declareExtension(plugin,extension);
    installed=false;
  }
  return installed;
}
