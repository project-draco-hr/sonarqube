{
  restoreProfile("one-issue-per-line.xml");
  orchestrator.getServer().provisionProject("sample","xoo-sample");
  orchestrator.getServer().associateProjectToQualityProfile("sample","xoo","one-issue-per-line");
  SonarRunner runner=configureRunner("shared/xoo-sample","sonar.verbose","true");
  BuildResult result=orchestrator.executeBuild(runner);
  List<Issue> serverIssues=ItUtils.getAllServerIssues(orchestrator);
  for (  Issue i : serverIssues) {
    assertThat(i.status()).isEqualTo("OPEN");
  }
  assertThat(serverIssues).hasSize(17);
  restoreProfile("with-many-rules.xml");
  orchestrator.getServer().associateProjectToQualityProfile("sample","xoo","with-many-rules");
  runner=configureRunnerIssues("shared/xoo-sample",null,"sonar.verbose","true");
  result=orchestrator.executeBuild(runner);
  assertThat(result.getLogs()).contains("Scanning only changed files");
  assertThat(result.getLogs()).contains("'One Issue Per Line' skipped because there is no related file in current project");
  ItUtils.assertIssuesInJsonReport(result,0,0,17);
}
