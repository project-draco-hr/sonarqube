{
  SonarRunner runner=SonarRunner.create(ItUtils.projectDir(projectDir),"sonar.working.directory",temp.newFolder().getAbsolutePath(),"sonar.analysis.mode","issues","sonar.report.export.path","sonar-report.json");
  if (homeDir != null) {
    runner.setProperty("sonar.userHome",homeDir.getAbsolutePath());
  }
 else {
    runner.setProperty("sonar.userHome",temp.newFolder().getAbsolutePath());
  }
  runner.setProperties(props);
  return runner;
}
