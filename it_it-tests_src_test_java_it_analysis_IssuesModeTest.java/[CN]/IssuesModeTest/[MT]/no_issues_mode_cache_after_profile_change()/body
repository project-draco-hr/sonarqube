{
  restoreProfile("one-issue-per-line-empty.xml");
  orchestrator.getServer().provisionProject("sample","xoo-sample");
  orchestrator.getServer().associateProjectToQualityProfile("sample","xoo","one-issue-per-line");
  SonarRunner runner=configureRunner("shared/xoo-sample");
  orchestrator.executeBuild(runner);
  runner=configureRunnerIssues("shared/xoo-sample","sonar.scanAllFiles","true");
  BuildResult result=orchestrator.executeBuild(runner);
  assertThat(ItUtils.countIssuesInJsonReport(result,true)).isEqualTo(0);
  restoreProfile("/one-issue-per-line.xml");
  runner=configureRunnerIssues("shared/xoo-sample","sonar.report.export.path","sonar-report.json","sonar.scanAllFiles","true");
  result=orchestrator.executeBuild(runner);
  assertThat(ItUtils.countIssuesInJsonReport(result,true)).isEqualTo(17);
}
