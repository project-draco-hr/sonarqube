{
  if (hasQueryEffortFacet(query)) {
    aggregation.subAggregation(EFFORT_AGGREGATION);
  }
  return aggregation;
}
