{
  String fieldName=IssueNormalizer.IssueField.ASSIGNEE.field();
  String facetName=IssueFilterParameters.ASSIGNEES;
  Map<String,FilterBuilder> assigneeFilters=Maps.newHashMap(filters);
  assigneeFilters.remove("__isAssigned");
  assigneeFilters.remove(fieldName);
  BoolFilterBuilder facetFilter=getStickyFacetFilter(esQuery,assigneeFilters,fieldName);
  FilterAggregationBuilder facetTopAggregation=buildTopFacetAggregation(fieldName,facetName,facetFilter,DEFAULT_ISSUE_FACET_SIZE,1);
  addSelectedItemsToFacet(fieldName,facetName,facetTopAggregation,query.assignees().toArray());
  facetTopAggregation.subAggregation(AggregationBuilders.missing(facetName + "_missing").field(fieldName));
  return AggregationBuilders.global(facetName).subAggregation(facetTopAggregation);
}
