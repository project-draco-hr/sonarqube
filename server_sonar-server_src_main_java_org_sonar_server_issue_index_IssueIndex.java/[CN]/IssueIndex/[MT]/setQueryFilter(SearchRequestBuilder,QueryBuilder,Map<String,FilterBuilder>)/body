{
  BoolFilterBuilder esFilter=FilterBuilders.boolFilter();
  for (  FilterBuilder filter : filters.values()) {
    if (filter != null) {
      esFilter.must(filter);
    }
  }
  if (esFilter.hasClauses()) {
    esSearch.setQuery(QueryBuilders.filteredQuery(esQuery,esFilter));
  }
 else {
    esSearch.setQuery(esQuery);
  }
}
