{
  NewIndex index=context.create(INDEX);
  index.refreshHandledByIndexer();
  index.setShards(settings);
  NewIndex.NewIndexType nestedMapping=index.createType(TYPE);
  nestedMapping.stringFieldBuilder(FIELD_COVERAGE_BLOCK_UUID).build();
  nestedMapping.createIntegerField(FIELD_COVERAGE_BLOCK_LINES);
  NewIndex.NewIndexType mapping=index.createType(TYPE);
  mapping.stringFieldBuilder(FIELD_PROJECT_UUID).build();
  mapping.stringFieldBuilder(FIELD_FILE_UUID).build();
  mapping.stringFieldBuilder(FIELD_TEST_UUID).build();
  mapping.stringFieldBuilder(FIELD_NAME).build();
  mapping.stringFieldBuilder(FIELD_STATUS).disableSearch().build();
  mapping.createLongField(FIELD_DURATION_IN_MS);
  mapping.stringFieldBuilder(FIELD_MESSAGE).disableSearch().build();
  mapping.stringFieldBuilder(FIELD_STACKTRACE).disableSearch().build();
  mapping.nestedObjectBuilder(FIELD_COVERAGE_BLOCKS,nestedMapping).build();
  mapping.createDateTimeField(FIELD_UPDATED_AT);
}
