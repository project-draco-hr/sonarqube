{
  SensorContext context=mock(SensorContext.class);
  new SurefireSensor().collect(newJarProject(),context,new File(getClass().getResource("/org/sonar/plugins/surefire/SurefireSensorTest/many-results/").toURI()));
  verify(context,times(6)).saveMeasure(argThat(new IsResource(JavaFile.SCOPE_ENTITY,JavaFile.QUALIFIER_UNIT_TEST_CLASS)),eq(CoreMetrics.TESTS),anyDouble());
  verify(context,times(36)).saveMeasure(argThat(new IsResource(JavaFile.SCOPE_ENTITY,JavaFile.QUALIFIER_UNIT_TEST_CLASS)),(Metric)anyObject(),anyDouble());
  verify(context,times(6)).saveMeasure(argThat(new IsResource(JavaFile.SCOPE_ENTITY,JavaFile.QUALIFIER_UNIT_TEST_CLASS)),argThat(new IsMeasure(CoreMetrics.TEST_DATA)));
  verify(context).saveMeasure(new JavaFile("ch.hortis.sonar.mvn.mc.CheckstyleCollectorTest",true),CoreMetrics.TEST_EXECUTION_TIME,694d);
  verify(context).saveMeasure(new JavaFile("ch.hortis.sonar.mvn.mc.CheckstyleCollectorTest",true),CoreMetrics.TEST_ERRORS,0d);
  verify(context).saveMeasure(new JavaFile("ch.hortis.sonar.mvn.mc.CheckstyleCollectorTest",true),CoreMetrics.TEST_FAILURES,0d);
  verify(context).saveMeasure(new JavaFile("ch.hortis.sonar.mvn.mc.CheckstyleCollectorTest",true),CoreMetrics.TESTS,6d);
  verify(context).saveMeasure(new JavaFile("ch.hortis.sonar.mvn.mc.CheckstyleCollectorTest",true),CoreMetrics.SKIPPED_TESTS,0d);
  verify(context).saveMeasure(eq(new JavaFile("ch.hortis.sonar.mvn.mc.CheckstyleCollectorTest",true)),argThat(new IsMeasure(CoreMetrics.TEST_DATA)));
}
