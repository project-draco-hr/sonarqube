{
  DbSession session=myBatis.openSession(true);
  GraphDtoMapper mapper=session.getMapper(GraphDtoMapper.class);
  try {
    for (    ComponentVertex component : projectGraph.getComponents()) {
      persistComponentGraph(mapper,component);
    }
    session.commit();
  }
  finally {
    session.close();
  }
}
