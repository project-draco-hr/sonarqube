{
  Connector connector=null;
  int port=props.intOf("sonar.web.https.port",DISABLED_PORT);
  if (port > DISABLED_PORT) {
    connector=newConnector(props,HTTP_PROTOCOL,"https");
    connector.setPort(port);
    connector.setSecure(true);
    connector.setScheme("https");
    setConnectorAttribute(connector,"keyAlias",props.of("sonar.web.https.keyAlias"));
    String keyPassword=props.of("sonar.web.https.keyPass","changeit");
    setConnectorAttribute(connector,"keyPass",keyPassword);
    setConnectorAttribute(connector,"keystorePass",props.of("sonar.web.https.keystorePass",keyPassword));
    setConnectorAttribute(connector,"keystoreFile",props.of("sonar.web.https.keystoreFile"));
    setConnectorAttribute(connector,"keystoreType",props.of("sonar.web.https.keystoreType","JKS"));
    setConnectorAttribute(connector,"keystoreProvider",props.of("sonar.web.https.keystoreProvider"));
    setConnectorAttribute(connector,"truststorePass",props.of("sonar.web.https.truststorePass","changeit"));
    setConnectorAttribute(connector,"truststoreFile",props.of("sonar.web.https.truststoreFile"));
    setConnectorAttribute(connector,"truststoreType",props.of("sonar.web.https.truststoreType","JKS"));
    setConnectorAttribute(connector,"truststoreProvider",props.of("sonar.web.https.truststoreProvider"));
    setConnectorAttribute(connector,"clientAuth",props.of("sonar.web.https.clientAuth","false"));
    setConnectorAttribute(connector,"sslProtocol","TLS");
    setConnectorAttribute(connector,"SSLEnabled",true);
    info("HTTPS connector is enabled on port " + port);
  }
  return connector;
}
