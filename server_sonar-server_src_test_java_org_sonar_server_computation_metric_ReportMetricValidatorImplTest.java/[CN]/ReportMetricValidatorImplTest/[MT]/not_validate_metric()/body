{
  when(batchMetrics.getMetrics()).thenReturn(Collections.<Metric>emptySet());
  ReportMetricValidator validator=new ReportMetricValidatorImpl(batchMetrics);
  assertThat(validator.validate(METRIC_KEY)).isFalse();
  assertThat(logTester.logs()).containsOnly("The metric 'metric_key' is ignored and should not be send in the batch report");
}
