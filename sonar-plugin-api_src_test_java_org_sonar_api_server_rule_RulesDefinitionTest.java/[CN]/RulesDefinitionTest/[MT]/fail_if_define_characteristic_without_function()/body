{
  RulesDefinition.NewRepository newRepository=context.createRepository("findbugs","java");
  newRepository.createRule("NPE").setName("NPE").setHtmlDescription("Detect <code>java.lang.NullPointerException</code>").setDebtSubCharacteristic("COMPILER");
  try {
    newRepository.done();
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("Both debt sub-characteristic and debt remediation function should be defined on rule '[repository=findbugs, key=NPE]'");
  }
}
