{
  RulesDefinition.NewRepository newRepository=context.createRepository("findbugs","java");
  RulesDefinition.NewRule newRule=newRepository.createRule("NPE").setName("NPE").setHtmlDescription("Detect <code>java.lang.NullPointerException</code>").setDebtSubCharacteristic("");
  newRule.setDebtRemediationFunction(newRule.debtRemediationFunctions().linearWithOffset("1h","10min"));
  try {
    newRepository.done();
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("Both debt sub-characteristic and debt remediation function should be defined on rule '[repository=findbugs, key=NPE]'");
  }
}
