{
  WsMeasures.Component.Builder wsComponent=componentDtoToWsComponent(component);
  ComponentDto referenceComponent=referenceComponentsById.get(component.getCopyResourceId());
  if (!referenceComponentsById.isEmpty() && referenceComponent != null) {
    wsComponent.setRefId(referenceComponent.uuid());
    wsComponent.setRefKey(referenceComponent.key());
  }
  for (  Map.Entry<MetricDto,MeasureDto> entry : measuresByMetric.entrySet()) {
    wsComponent.getMeasuresBuilder().addMeasures(measureDtoToWsMeasure(entry.getKey(),entry.getValue()));
  }
  return wsComponent;
}
