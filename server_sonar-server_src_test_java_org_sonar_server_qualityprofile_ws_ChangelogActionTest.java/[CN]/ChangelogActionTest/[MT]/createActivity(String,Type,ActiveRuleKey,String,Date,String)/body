{
  Map<String,String> details=Maps.newHashMap();
  details.put("key",activeRuleKey.toString());
  details.put("ruleKey",activeRuleKey.ruleKey().toString());
  details.put("profileKey",activeRuleKey.qProfile());
  details.put("severity",severity);
  for (int i=0; i < params.length; i+=2) {
    details.put("param_" + params[i],params[i + 1]);
  }
  ActivityDoc doc=new ActivityDoc(Maps.<String,Object>newHashMap());
  doc.setAction(type.toString());
  doc.setCreatedAt(createdAt);
  doc.setDetails(details);
  doc.setKey(Uuids.create());
  doc.setLogin(login);
  doc.setType(Activity.Type.QPROFILE.toString());
  esTester.putDocuments(ActivityIndexDefinition.INDEX,ActivityIndexDefinition.TYPE,doc);
}
