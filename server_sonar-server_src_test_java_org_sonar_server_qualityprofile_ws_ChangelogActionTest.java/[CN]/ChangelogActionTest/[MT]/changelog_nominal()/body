{
  when(profileFinder.find(any(Request.class))).thenReturn(QProfileTesting.newXooP1());
  ChangelogLoader.Change change1=new ChangelogLoader.Change("C1","ACTIVATED",A_DATE,null,null,null,null,null,null);
  ChangelogLoader.Change change2=new ChangelogLoader.Change("C2","ACTIVATED",A_DATE + 10,null,null,null,null,null,null);
  List<ChangelogLoader.Change> changes=asList(change1,change2);
  when(changelogLoader.load(any(QProfileChangeQuery.class))).thenReturn(new ChangelogLoader.Changelog(10,changes));
  wsTester.newGetRequest(QProfilesWs.API_ENDPOINT,"changelog").setParam("profileKey",XOO_P1_KEY).execute().assertJson(getClass(),"changelog_nominal.json");
}
