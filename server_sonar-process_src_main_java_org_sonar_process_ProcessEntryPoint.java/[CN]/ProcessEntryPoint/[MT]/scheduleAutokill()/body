{
  final long autokillPingTimeoutMs=props.valueAsInt(PROPERTY_AUTOKILL_PING_TIMEOUT);
  long autokillPingIntervalMs=props.valueAsInt(PROPERTY_AUTOKILL_PING_INTERVAL);
  Runnable autokiller=new Runnable(){
    @Override public void run(){
      long time=System.currentTimeMillis();
      if (time - lastPing > autokillPingTimeoutMs) {
        LoggerFactory.getLogger(getClass()).info(String.format("Did not receive any ping during %d seconds. Shutting down.",autokillPingTimeoutMs / 1000));
        terminate();
      }
    }
  }
;
  lastPing=System.currentTimeMillis();
  ScheduledExecutorService monitor=Executors.newScheduledThreadPool(1);
  monitor.scheduleWithFixedDelay(autokiller,autokillPingIntervalMs,autokillPingIntervalMs,TimeUnit.MILLISECONDS);
}
