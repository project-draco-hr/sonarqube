{
  String suffix=String.valueOf(id);
  ComponentDto project=ComponentTesting.newProjectDto("project-uuid-" + suffix).setKey("project-key-" + suffix);
  dbClient.componentDao().insert(dbSession,project);
  dbSession.commit();
  es.putDocuments(IssueIndexDefinition.INDEX,IssueIndexDefinition.TYPE_ISSUE,IssueTesting.newDoc("issue-key-" + suffix,project));
  SourceLineDoc sourceLineDoc=new SourceLineDoc().setProjectUuid(project.uuid()).setFileUuid(project.uuid());
  es.putDocuments(IssueIndexDefinition.INDEX,IssueIndexDefinition.TYPE_AUTHORIZATION,ImmutableMap.<String,Object>of(IssueIndexDefinition.FIELD_AUTHORIZATION_PROJECT_UUID,project.uuid()));
  es.putDocuments(SourceLineIndexDefinition.INDEX,SourceLineIndexDefinition.TYPE,sourceLineDoc);
  TestDoc testDoc=new TestDoc().setUuid("test-uuid-" + suffix).setProjectUuid(project.uuid()).setFileUuid(project.uuid());
  es.putDocuments(TestIndexDefinition.INDEX,TestIndexDefinition.TYPE,testDoc);
}
