{
  for (  Metric.MetricType metricType : Metric.MetricType.values()) {
    MetricDto metricDto=createMetricDto(metricType);
    Metric metric=underTest.apply(metricDto);
    assertThat(metric.getId()).isEqualTo(metricDto.getId());
    assertThat(metric.getKey()).isEqualTo(metricDto.getKey());
    assertThat(metric.getName()).isEqualTo(metricDto.getShortName());
    assertThat(metric.getType()).isEqualTo(metricType);
    assertThat(metric.isBestValueOptimized()).isFalse();
    assertThat(metric.getBestValue()).isEqualTo(SOME_BEST_VALUE);
  }
}
