{
  referenceIssuesMap.clear();
  Issuable issuable=perspectives.as(Issuable.class,resource);
  if (issuable == null || issuable.issues().isEmpty()) {
    return;
  }
  List<DefaultIssue> newIssues=toDefaultIssues(issuable.issues());
  String source=index.getSource(resource);
  setChecksumOnNewIssues(newIssues,source);
  Collection<IssueDto> referenceIssues=loadExistingOpenIssues(resource);
  mapIssues(newIssues,referenceIssues,source,resource);
}
