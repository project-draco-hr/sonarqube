{
  for (  IssueDto unmatchedDto : unmatchedIssues) {
    DefaultIssue unmatched=unmatchedDto.toDefaultIssue();
    unmatched.setNew(false);
    boolean manualIssue=!Strings.isNullOrEmpty(unmatched.reporter());
    Rule rule=ruleFinder.findByKey(unmatched.ruleKey());
    if (manualIssue) {
      boolean onDisabledRule=(rule == null || Rule.STATUS_REMOVED.equals(rule.getStatus()));
      unmatched.setEndOfLife(onDisabledRule);
      unmatched.setOnDisabledRule(onDisabledRule);
    }
 else {
      ActiveRule activeRule=rulesProfile.getActiveRule(unmatched.ruleKey().repository(),unmatched.ruleKey().rule());
      unmatched.setEndOfLife(true);
      unmatched.setOnDisabledRule(activeRule == null || rule == null || Rule.STATUS_REMOVED.equals(rule.getStatus()));
    }
    issues.add(unmatched);
  }
}
