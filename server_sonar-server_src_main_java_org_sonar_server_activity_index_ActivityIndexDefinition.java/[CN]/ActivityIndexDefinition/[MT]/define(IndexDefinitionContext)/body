{
  NewIndex index=context.create(INDEX);
  index.getSettings().put("analysis.analyzer.default.type","keyword");
  index.configureShards(settings);
  index.refreshHandledByIndexer();
  NewIndex.NewIndexType mapping=index.createType(TYPE);
  mapping.stringFieldBuilder(FIELD_KEY).disableNorms().build();
  mapping.stringFieldBuilder(FIELD_TYPE).disableNorms().build();
  mapping.stringFieldBuilder(FIELD_ACTION).disableNorms().build();
  mapping.stringFieldBuilder(FIELD_LOGIN).disableNorms().build();
  mapping.createDynamicNestedField(FIELD_DETAILS);
  mapping.stringFieldBuilder(FIELD_MESSAGE).disableNorms().build();
  mapping.createDateTimeField(FIELD_CREATED_AT);
}
