{
  String value=settings.getString(CoreProperties.CORE_RULE_WEIGHTS_PROPERTY);
  Map<RulePriority,Integer> weights=KeyValueFormat.parse(value,KeyValueFormat.newPriorityConverter(),KeyValueFormat.newIntegerConverter());
  for (  RulePriority priority : RulePriority.values()) {
    if (!weights.containsKey(priority)) {
      weights.put(priority,1);
    }
  }
  return weights;
}
