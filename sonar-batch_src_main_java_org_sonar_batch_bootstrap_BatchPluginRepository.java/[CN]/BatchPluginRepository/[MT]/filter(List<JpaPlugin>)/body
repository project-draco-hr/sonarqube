{
  return ImmutableList.copyOf(Iterables.filter(plugins,new Predicate<JpaPlugin>(){
    public boolean apply(    JpaPlugin p){
      return isAccepted(p.getKey()) && (StringUtils.isBlank(p.getBasePlugin()) || isAccepted(p.getBasePlugin()));
    }
  }
));
}
