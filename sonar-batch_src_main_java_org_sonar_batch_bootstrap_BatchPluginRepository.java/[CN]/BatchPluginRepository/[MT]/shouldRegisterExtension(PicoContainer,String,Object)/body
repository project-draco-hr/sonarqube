{
  boolean ok=isType(extension,BatchExtension.class);
  if (ok && !isSupportsEnvironment(extension)) {
    ok=false;
    LOG.debug("The following extension is ignored: " + extension + " due to execution environment.");
  }
  if (ok && isType(extension,CoverageExtension.class)) {
    ok=shouldRegisterCoverageExtension(pluginKey,container.getComponent(Project.class),container.getComponent(Configuration.class));
    if (!ok) {
      LOG.debug("The following extension is ignored: " + extension + ". See the parameter "+ AbstractCoverageExtension.PARAM_PLUGIN);
    }
  }
  return ok;
}
