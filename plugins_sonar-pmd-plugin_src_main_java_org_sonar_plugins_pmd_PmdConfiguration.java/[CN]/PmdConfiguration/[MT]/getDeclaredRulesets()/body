{
  List<String> rulesets=null;
  MavenPlugin mavenPlugin=MavenPlugin.getPlugin(project.getPom(),MavenUtils.GROUP_ID_APACHE_MAVEN,"maven-pmd-plugin");
  if (mavenPlugin != null) {
    String[] params=mavenPlugin.getParameters("rulesets/ruleset");
    if (params != null) {
      rulesets=Arrays.asList(params);
    }
  }
  if (rulesets == null || rulesets.isEmpty()) {
    throw new RuntimeException("The PMD configuration to reuse can not be found. Check the property " + CoreProperties.REUSE_RULES_CONFIGURATION_PROPERTY + " or add the property rulesets/ruleset to the Maven PMD plugin");
  }
  return rulesets;
}
