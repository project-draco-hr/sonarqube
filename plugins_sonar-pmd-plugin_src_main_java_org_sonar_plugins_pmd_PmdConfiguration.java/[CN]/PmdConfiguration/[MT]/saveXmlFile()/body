{
  try {
    StringWriter pmdConfiguration=new StringWriter();
    pmdProfileExporter.exportProfile(rulesProfile,pmdConfiguration);
    return project.getFileSystem().writeToWorkingDirectory(pmdConfiguration.toString(),"pmd.xml");
  }
 catch (  IOException e) {
    throw new SonarException("Fail to save the PMD configuration",e);
  }
}
