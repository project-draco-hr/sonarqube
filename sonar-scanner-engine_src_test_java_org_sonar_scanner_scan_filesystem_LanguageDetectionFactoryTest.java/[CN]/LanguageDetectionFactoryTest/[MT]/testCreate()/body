{
  LanguagesRepository languages=new DefaultLanguagesRepository(new Languages(FakeJava.INSTANCE));
  LanguageDetectionFactory factory=new LanguageDetectionFactory(new MapSettings(),languages);
  LanguageDetection languageDetection=factory.create();
  assertThat(languageDetection).isNotNull();
  assertThat(languageDetection.patternsByLanguage()).hasSize(1);
  assertThat(languageDetection.patternsByLanguage().containsKey("java")).isTrue();
}
