{
  if (settings.getBoolean("sonar.dbcleaner.cleanDirectoryHistory")) {
    PurgeSnapshotQuery query=PurgeSnapshotQuery.create().setBeforeBuildDate(context.getBeforeBuildDate()).setRootProjectId(context.getRootProjectId()).setScopes(new String[]{Scopes.DIRECTORY});
    purgeDao.deleteSnapshots(query);
  }
}
