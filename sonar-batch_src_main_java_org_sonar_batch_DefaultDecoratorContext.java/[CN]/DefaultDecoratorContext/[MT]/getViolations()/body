{
  if (violations == null) {
    Bucket bucket=index.getBucket(resource);
    if (bucket != null && bucket.getSnapshotId() != null) {
      violations=violationsDao.getViolations(resource,bucket.getSnapshotId());
    }
  }
  return violations;
}
