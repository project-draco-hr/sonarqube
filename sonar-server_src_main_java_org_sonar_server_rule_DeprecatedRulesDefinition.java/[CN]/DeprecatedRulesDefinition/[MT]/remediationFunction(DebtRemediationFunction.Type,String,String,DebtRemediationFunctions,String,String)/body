{
  if (DebtRemediationFunction.Type.LINEAR.equals(function) && coefficient != null) {
    return functions.linear(coefficient);
  }
 else   if (DebtRemediationFunction.Type.CONSTANT_ISSUE.equals(function) && offset != null) {
    return functions.constantPerIssue(offset);
  }
 else   if (DebtRemediationFunction.Type.LINEAR_OFFSET.equals(function) && coefficient != null && offset != null) {
    return functions.linearWithOffset(coefficient,offset);
  }
 else {
    throw new IllegalArgumentException(String.format("Debt definition on rule '%s:%s' is invalid",repoKey,ruleKey));
  }
}
