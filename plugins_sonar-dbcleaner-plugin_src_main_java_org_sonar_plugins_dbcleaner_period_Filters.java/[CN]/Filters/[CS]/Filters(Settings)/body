{
  Date dateToStartKeepingOneSnapshotByWeek=getDate(settings,DbCleanerConstants.MONTHS_BEFORE_KEEPING_ONLY_ONE_SNAPSHOT_BY_WEEK);
  Date dateToStartKeepingOneSnapshotByMonth=getDate(settings,DbCleanerConstants.MONTHS_BEFORE_KEEPING_ONLY_ONE_SNAPSHOT_BY_MONTH);
  Date dateToStartDeletingAllSnapshots=getDate(settings,DbCleanerConstants.MONTHS_BEFORE_DELETING_ALL_SNAPSHOTS);
  filters.add(new KeepOneFilter(dateToStartKeepingOneSnapshotByWeek,new Date(),Calendar.DAY_OF_YEAR,"day"));
  filters.add(new KeepOneFilter(dateToStartKeepingOneSnapshotByMonth,dateToStartKeepingOneSnapshotByWeek,Calendar.WEEK_OF_YEAR,"week"));
  filters.add(new KeepOneFilter(dateToStartDeletingAllSnapshots,dateToStartKeepingOneSnapshotByMonth,Calendar.MONTH,"month"));
  filters.add(new DeleteAllFilter(dateToStartDeletingAllSnapshots));
}
