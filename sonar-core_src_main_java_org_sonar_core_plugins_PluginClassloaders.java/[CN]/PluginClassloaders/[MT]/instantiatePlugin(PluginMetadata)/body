{
  try {
    Class clazz=get(plugin.getKey()).loadClass(plugin.getMainClass());
    return (Plugin)clazz.newInstance();
  }
 catch (  UnsupportedClassVersionError e) {
    throw new SonarException("The plugin " + plugin.getKey() + " is not supported with Java "+ SystemUtils.JAVA_VERSION_TRIMMED,e);
  }
catch (  Throwable e) {
    throw new SonarException("Fail to load plugin " + plugin.getKey(),e);
  }
}
