{
  MockUserSession.set().addComponentPermission(UserRole.CODEVIEWER,"SonarQube",TEST_PLAN_KEY);
  MutableTestCase testCase1=testCase("test1",TestCase.Status.OK,10L,32,null,null);
  MutableTestCase testCase2=testCase("test2",TestCase.Status.ERROR,97L,21,"expected:<true> but was:<false>","java.lang.AssertionError: expected:<true> but was:<false>\n\t" + "at org.junit.Assert.fail(Assert.java:91)\n\t" + "at org.junit.Assert.failNotEquals(Assert.java:645)\n\t"+ "at org.junit.Assert.assertEquals(Assert.java:126)\n\t"+ "at org.junit.Assert.assertEquals(Assert.java:145)\n");
  when(testPlan.testCases()).thenReturn(newArrayList(testCase1,testCase2));
  WsTester.TestRequest request=tester.newGetRequest("api/tests","show").setParam("key",TEST_PLAN_KEY);
  request.execute().assertJson(getClass(),"show.json");
}
