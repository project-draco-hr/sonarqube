{
  String sanitizedActionPlanKey=null;
  if (actionPlan != null) {
    sanitizedActionPlanKey=StringUtils.defaultIfBlank(actionPlan.key(),null);
  }
  if (!Objects.equal(sanitizedActionPlanKey,issue.actionPlanKey())) {
    String newActionPlanName=actionPlan != null ? actionPlan.name() : null;
    issue.setFieldChange(context,ACTION_PLAN,UNUSED,newActionPlanName);
    issue.setActionPlanKey(sanitizedActionPlanKey);
    issue.setUpdateDate(context.date());
    issue.setChanged(true);
    issue.setSendNotifications(true);
    return true;
  }
  return false;
}
