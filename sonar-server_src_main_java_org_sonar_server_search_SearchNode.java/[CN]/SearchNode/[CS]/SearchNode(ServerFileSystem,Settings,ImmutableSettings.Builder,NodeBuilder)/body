{
  File homeDataDir=new File(fileSystem.getHomeDir(),"data");
  if (!homeDataDir.exists() || !homeDataDir.isDirectory()) {
    throw new IllegalStateException("Data directory not found in SonarQube home.");
  }
  File nodeDirectory=new File(homeDataDir,"es");
  if (!nodeDirectory.exists()) {
    nodeDirectory.mkdir();
  }
  this.nodeDir=nodeDirectory.getAbsolutePath();
  this.settings=settings;
  this.nodeSettingsBuilder=nodeSettingsBuilder;
  this.nodeBuilder=nodeBuilder;
}
