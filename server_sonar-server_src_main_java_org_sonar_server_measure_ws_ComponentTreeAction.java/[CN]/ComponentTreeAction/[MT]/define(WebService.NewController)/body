{
  WebService.NewAction action=context.createAction(ACTION_COMPONENT_TREE).setDescription(format("Navigate through components based on the chosen strategy with specified measures. The %s or the %s parameter must be provided.<br>" + "Requires one of the following permissions:" + "<ul>"+ "<li>'Administer System'</li>"+ "<li>'Administer' rights on the specified project</li>"+ "<li>'Browse' on the specified project</li>"+ "</ul>"+ "When limiting search with the %s parameter, directories are not returned.",PARAM_BASE_COMPONENT_ID,PARAM_BASE_COMPONENT_KEY,Param.TEXT_QUERY)).setResponseExample(getClass().getResource("component_tree-example.json")).setSince("5.4").setHandler(this).addPagingParams(100,MAX_SIZE);
  action.createSortParams(SORTS,NAME_SORT,true).setDescription("Comma-separated list of sort fields").setExampleValue(NAME_SORT + "," + PATH_SORT);
  action.createParam(Param.TEXT_QUERY).setDescription(format("Limit search to: <ul>" + "<li>component names that contain the supplied string</li>" + "<li>component keys that are exactly the same as the supplied string</li>"+ "</ul>"+ "Must have at least %d characters.",QUERY_MINIMUM_LENGTH)).setExampleValue("FILE_NAM");
  action.createParam(PARAM_BASE_COMPONENT_ID).setDescription("Base component id. The search is based on this component.").setExampleValue(UUID_EXAMPLE_02);
  action.createParam(PARAM_BASE_COMPONENT_KEY).setDescription("Base component key. The search is based on this component.").setExampleValue(KEY_PROJECT_EXAMPLE_001);
  action.createParam(PARAM_METRIC_SORT).setDescription(format("Metric key to sort by. The '%s' parameter must contain the '%s' or '%s' value. It must be part of the '%s' parameter",Param.SORT,METRIC_SORT,METRIC_PERIOD_SORT,PARAM_METRIC_KEYS)).setExampleValue("ncloc");
  action.createParam(PARAM_METRIC_PERIOD_SORT).setDescription(format("Measure period to sort by. The '%s' parameter must contain the '%s' value.",Param.SORT,METRIC_PERIOD_SORT)).setSince("5.5").setPossibleValues(1,2,3,4,5);
  createMetricKeysParameter(action);
  createAdditionalFieldsParameter(action);
  createQualifiersParameter(action,newQualifierParameterContext(userSession,i18n,resourceTypes));
  action.createParam(PARAM_STRATEGY).setDescription("Strategy to search for base component descendants:" + "<ul>" + "<li>children: return the children components of the base component. Grandchildren components are not returned</li>"+ "<li>all: return all the descendants components of the base component. Grandchildren are returned.</li>"+ "<li>leaves: return all the descendant components (files, in general) which don't have other children. They are the leaves of the component tree.</li>"+ "</ul>").setPossibleValues(STRATEGIES).setDefaultValue(ALL_STRATEGY);
}
