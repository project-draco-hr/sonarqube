{
  boolean up=false;
  while (!up) {
    if (isStopped()) {
      throw new MessageException(String.format("%s failed to start",this));
    }
    up=commands.isUp();
    try {
      Thread.sleep(200L);
    }
 catch (    InterruptedException e) {
      throw new IllegalStateException(String.format("Interrupted while waiting for %s to be up",this),e);
    }
  }
}
