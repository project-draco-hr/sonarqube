{
  DbIssues.Location.Builder target=DbIssues.Location.newBuilder();
  if (source.hasComponentRef() && source.getComponentRef() != component.getRef()) {
    target.setComponentId(treeRootHolder.getComponentByRef(source.getComponentRef()).getUuid());
  }
  if (source.hasMsg()) {
    target.setMsg(source.getMsg());
  }
  if (source.hasTextRange()) {
    BatchReport.TextRange sourceRange=source.getTextRange();
    DbCommons.TextRange.Builder targetRange=DbCommons.TextRange.newBuilder();
    if (sourceRange.hasStartLine()) {
      targetRange.setStartLine(sourceRange.getStartLine());
    }
    if (sourceRange.hasStartOffset()) {
      targetRange.setStartOffset(sourceRange.getStartOffset());
    }
    if (sourceRange.hasEndLine()) {
      targetRange.setEndLine(sourceRange.getEndLine());
    }
    if (sourceRange.hasEndOffset()) {
      targetRange.setEndOffset(sourceRange.getEndOffset());
    }
    target.setTextRange(targetRange);
  }
  return target.build();
}
