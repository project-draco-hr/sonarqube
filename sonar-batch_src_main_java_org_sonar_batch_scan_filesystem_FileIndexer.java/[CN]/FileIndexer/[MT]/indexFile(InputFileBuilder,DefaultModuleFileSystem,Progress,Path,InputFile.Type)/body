{
  Path realFile=sourceFile.toRealPath(LinkOption.NOFOLLOW_LINKS);
  DefaultInputFile inputFile=inputFileBuilder.create(realFile.toFile());
  if (inputFile != null) {
    inputFile.setModuleBaseDir(fileSystem.baseDirPath());
    if (exclusionFilters.accept(inputFile,type)) {
      indexFile(inputFileBuilder,fileSystem,progress,inputFile,type);
    }
 else {
      progress.increaseExcludedByPatternsCount();
    }
  }
}
