{
  for (  File dirOrFile : sources) {
    if (dirOrFile.isDirectory()) {
      try {
        indexDirectory(inputFileBuilder,fileSystem,progress,dirOrFile,type);
      }
 catch (      IOException e) {
        throw new IllegalStateException("Failed to index files",e);
      }
    }
 else {
      indexFile(inputFileBuilder,fileSystem,progress,dirOrFile,type);
    }
  }
}
