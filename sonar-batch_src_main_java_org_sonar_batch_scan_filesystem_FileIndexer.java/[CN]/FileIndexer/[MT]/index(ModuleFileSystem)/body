{
  Logger logger=LoggerFactory.getLogger(FileIndexer.class);
  logger.info("Index files");
  cache.removeModule(fileSystem.moduleKey());
  int count=0;
  for (  File sourceDir : fileSystem.sourceDirs()) {
    count+=indexDirectory(fileSystem,sourceDir,InputFile.TYPE_SOURCE);
  }
  for (  File testDir : fileSystem.testDirs()) {
    count+=indexDirectory(fileSystem,testDir,InputFile.TYPE_TEST);
  }
  logger.info(String.format("%d files indexed",count));
}
