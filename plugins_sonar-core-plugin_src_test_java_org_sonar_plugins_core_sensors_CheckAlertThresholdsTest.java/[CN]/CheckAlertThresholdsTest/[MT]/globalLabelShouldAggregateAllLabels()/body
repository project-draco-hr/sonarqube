{
  Alert alert1=mock(Alert.class);
  when(alert1.getMetric()).thenReturn(CoreMetrics.CLASSES);
  when(alert1.getValueError()).thenReturn("10000");
  when(alert1.getAlertLabel(Metric.Level.ERROR)).thenReturn("error classes");
  when(alert1.getPeriod()).thenReturn(null);
  Alert alert2=mock(Alert.class);
  when(alert2.getMetric()).thenReturn(CoreMetrics.COVERAGE);
  when(alert2.getValueWarning()).thenReturn("80");
  when(alert2.getAlertLabel(Metric.Level.WARN)).thenReturn("warning coverage");
  when(alert2.getPeriod()).thenReturn(null);
  when(profile.getAlerts()).thenReturn(Arrays.asList(alert1,alert2));
  decorator.decorate(project,context);
  verify(context).saveMeasure(argThat(matchesMetric(CoreMetrics.ALERT_STATUS,Metric.Level.ERROR,"error classes, warning coverage")));
}
