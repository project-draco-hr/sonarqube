{
  Metric ratingMetric=new Metric.Builder("key_rating_metric","Rating metric",Metric.ValueType.RATING).create();
  Measure measureRatingMetric=new Measure(ratingMetric,150d);
  measureRatingMetric.setVariation1(50d);
  when(context.getMeasure(ratingMetric)).thenReturn(measureRatingMetric);
  when(profile.getAlerts()).thenReturn(Arrays.asList(new Alert(null,ratingMetric,Alert.OPERATOR_GREATER,null,"100",1)));
  decorator.decorate(project,context);
  verify(context).saveMeasure(argThat(matchesMetric(CoreMetrics.ALERT_STATUS,Metric.Level.OK,null)));
  verify(context).saveMeasure(argThat(hasLevel(measureRatingMetric,Metric.Level.OK)));
}
