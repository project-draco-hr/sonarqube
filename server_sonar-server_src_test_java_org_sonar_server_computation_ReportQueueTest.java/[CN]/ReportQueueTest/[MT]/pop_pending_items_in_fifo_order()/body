{
  underTest.add("P1","Project 1",generateData());
  underTest.add("P2","Project 2",generateData());
  underTest.add("P3","Project 3",generateData());
  ReportQueue.Item item=underTest.pop();
  assertThat(item.dto.getProjectKey()).isEqualTo("P1");
  assertThat(item.zipFile).exists().isFile().hasExtension("zip");
  assertThat(item.dto.getStatus()).isEqualTo(WORKING);
  assertThat(underTest.pop().dto.getProjectKey()).isEqualTo("P2");
  assertThat(underTest.pop().dto.getProjectKey()).isEqualTo("P3");
  assertThat(underTest.pop()).isNull();
  List<AnalysisReportDto> reports=underTest.all();
  assertThat(reports).hasSize(3);
  assertThat(reports).extracting("status").containsOnly(WORKING);
}
