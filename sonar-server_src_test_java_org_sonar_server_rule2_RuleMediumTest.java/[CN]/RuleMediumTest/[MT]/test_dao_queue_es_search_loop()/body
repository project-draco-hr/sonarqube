{
  RuleDao dao=tester.get(RuleDao.class);
  ActiveRuleDao adao=tester.get(ActiveRuleDao.class);
  RuleIndex index=tester.get(RuleIndex.class);
  dao.insert(dto);
  adao.insert(adto);
  try {
    Thread.sleep(200);
  }
 catch (  InterruptedException e) {
    ;
  }
  Hit hit=index.getByKey(dto.getKey());
  assertThat(hit.getFields().get("ruleKey")).isEqualTo(dto.getRuleKey());
}
