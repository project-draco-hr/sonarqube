{
  RuleDao dao=tester.get(RuleDao.class);
  RuleIndex index=tester.get(RuleIndex.class);
  RuleDto dto=getRuleDto();
  dao.insert(dto);
  try {
    Thread.sleep(1000000);
  }
 catch (  InterruptedException e) {
    ;
  }
  Hit hit=index.getByKey(dto.getKey());
  assertThat(hit.getFields().get("key")).isEqualTo(dto.getRuleKey());
}
