{
  SensorStorage storage=mock(SensorStorage.class);
  DefaultMeasure<Integer> newMeasure=new DefaultMeasure<Integer>(storage).forMetric(CoreMetrics.LINES).onFile(new DefaultInputFile("foo","src/Foo.php")).withValue(3);
  assertThat(newMeasure.inputFile()).isEqualTo(new DefaultInputFile("foo","src/Foo.php"));
  assertThat(newMeasure.metric()).isEqualTo(CoreMetrics.LINES);
  assertThat(newMeasure.value()).isEqualTo(3);
  newMeasure.save();
  verify(storage).store(newMeasure);
}
