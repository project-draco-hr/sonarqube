{
  List<Snapshot> snapshots=Lists.newLinkedList();
  snapshots.add(Utils.createSnapshot(1,Utils.week(-7,1)));
  snapshots.add(Utils.createSnapshot(2,Utils.week(-7,2)));
  snapshots.add(Utils.createSnapshot(3,Utils.week(-7,3)));
  snapshots.add(Utils.createSnapshot(4,Utils.week(-6,3)));
  snapshots.add(Utils.createSnapshot(5,Utils.week(-6,4)));
  assertThat(new KeepOneSnapshotByPeriodBetweenTwoDatesFilter(GregorianCalendar.WEEK_OF_YEAR,Utils.week(-3,1),Utils.week(-9,1)).filter(snapshots),is(2));
  assertThat(snapshots.size(),is(3));
  assertThat(snapshots.get(0).getId(),is(2));
  assertThat(snapshots.get(1).getId(),is(3));
  assertThat(snapshots.get(2).getId(),is(5));
}
