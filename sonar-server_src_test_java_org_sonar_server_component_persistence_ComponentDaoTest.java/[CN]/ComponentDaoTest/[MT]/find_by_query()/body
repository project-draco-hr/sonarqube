{
  setupData("shared");
  assertThat(dao.findByQuery(ComponentQuery.create(),session)).hasSize(4);
  assertThat(dao.findByQuery(ComponentQuery.create().addIds(1L),session)).hasSize(1);
  assertThat(dao.findByQuery(ComponentQuery.create().addQualifiers(Qualifiers.PROJECT),session)).hasSize(1);
  assertThat(dao.findByQuery(ComponentQuery.create().addQualifiers(Qualifiers.PROJECT,Qualifiers.MODULE),session)).hasSize(2);
  assertThat(dao.findByQuery(ComponentQuery.create().addIds(1L).addQualifiers(Qualifiers.PROJECT),session)).hasSize(1);
  assertThat(dao.findByQuery(ComponentQuery.create().addIds(1L).addQualifiers(Qualifiers.MODULE),session)).hasSize(0);
}
