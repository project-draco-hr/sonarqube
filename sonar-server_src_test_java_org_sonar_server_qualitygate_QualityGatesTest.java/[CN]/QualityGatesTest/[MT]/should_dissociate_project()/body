{
  Long qGateId=42L;
  Long projectId=24L;
  when(dao.selectById(qGateId)).thenReturn(new QualityGateDto().setId(qGateId));
  when(componentDao.findByQuery(any(ComponentQuery.class),eq(session))).thenReturn(ImmutableList.of(new ComponentDto().setId(projectId)));
  qGates.dissociateProject(qGateId,projectId);
  verify(dao).selectById(qGateId);
  verify(componentDao).findByQuery(any(ComponentQuery.class),eq(session));
  verify(propertiesDao).deleteProjectProperty("sonar.qualitygate",projectId);
}
