{
  ProfileProvider provider=new ProfileProvider();
  ProfileLoader loader=mock(ProfileLoader.class);
  Project project=new Project("project");
  RulesProfile profile=RulesProfile.create();
  when(loader.load(eq(project),any(Settings.class))).thenReturn(profile);
  assertThat(provider.provide(project,loader,new Settings()),is(profile));
  assertThat(provider.provide(project,loader,new Settings()),is(profile));
  verify(loader).load(eq(project),any(Settings.class));
  verifyNoMoreInteractions(loader);
}
