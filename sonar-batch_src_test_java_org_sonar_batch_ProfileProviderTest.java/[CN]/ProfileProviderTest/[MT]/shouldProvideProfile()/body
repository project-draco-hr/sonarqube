{
  ProfileProvider provider=new ProfileProvider();
  ProfileLoader loader=mock(ProfileLoader.class);
  Project project=new Project("project");
  RulesProfile profile=RulesProfile.create();
  when(loader.load(project)).thenReturn(profile);
  assertThat(provider.provide(project,loader),is(profile));
  assertThat(provider.provide(project,loader),is(profile));
  verify(loader).load(project);
  verifyNoMoreInteractions(loader);
}
