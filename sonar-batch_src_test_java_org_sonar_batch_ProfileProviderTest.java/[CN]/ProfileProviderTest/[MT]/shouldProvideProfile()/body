{
  ProfileProvider provider=new ProfileProvider();
  ProfileLoader loader=mock(ProfileLoader.class);
  RulesProfile profile=RulesProfile.create();
  when(loader.load(eq(javaProject),any(Settings.class))).thenReturn(profile);
  assertThat(provider.provide(javaProject,loader,new Settings()),is(profile));
  assertThat(provider.provide(javaProject,loader,new Settings()),is(profile));
  verify(loader).load(eq(javaProject),any(Settings.class));
  verifyNoMoreInteractions(loader);
}
