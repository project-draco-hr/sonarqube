{
  Query query=getSession().createQuery("SELECT e.id FROM " + Event.class.getSimpleName() + " e WHERE e.resourceId IS NOT NULL AND NOT EXISTS(FROM "+ ResourceModel.class.getSimpleName()+ " r WHERE r.id=e.resourceId)");
  final List<Integer> eventIds=selectIds(query);
  executeQuery(eventIds,"DELETE FROM " + Event.class.getSimpleName() + " WHERE id in (:ids)");
}
