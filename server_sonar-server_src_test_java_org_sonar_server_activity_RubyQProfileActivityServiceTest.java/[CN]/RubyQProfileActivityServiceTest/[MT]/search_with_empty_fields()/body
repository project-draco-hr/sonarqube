{
  Result<QProfileActivity> result=mock(Result.class);
  when(result.getHits()).thenReturn(Lists.<QProfileActivity>newArrayList());
  when(result.getTotal()).thenReturn(10L);
  when(service.searchActivities(any(QProfileActivityQuery.class),any(QueryOptions.class))).thenReturn(result);
  rubyQProfileActivityService.search(ImmutableMap.<String,Object>of());
  verify(service).searchActivities(activityArgumentCaptor.capture(),queryOptionsArgumentCaptor.capture());
  assertThat(queryOptionsArgumentCaptor.getValue().getLimit()).isEqualTo(50);
  assertThat(activityArgumentCaptor.getValue().getQprofileKeys()).isEmpty();
  assertThat(activityArgumentCaptor.getValue().getSince()).isNull();
  assertThat(activityArgumentCaptor.getValue().getTo()).isNull();
}
