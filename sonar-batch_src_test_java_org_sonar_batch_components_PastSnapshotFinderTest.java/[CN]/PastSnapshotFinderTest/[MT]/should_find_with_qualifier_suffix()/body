{
  Settings settings=new Settings().setProperty("sonar.timemachine.period5.TRK","1.2");
  when(finderByVersion.findByVersion(null,"1.2")).thenReturn(new PastSnapshot("version",new Date(),new Snapshot()));
  PastSnapshot variationSnapshot=finder.find(null,"TRK",settings,5);
  verify(finderByVersion).findByVersion(null,"1.2");
  assertThat(variationSnapshot.getIndex(),is(5));
  assertThat(variationSnapshot.getMode(),is("version"));
  assertThat(variationSnapshot.getProjectSnapshot(),not(nullValue()));
}
