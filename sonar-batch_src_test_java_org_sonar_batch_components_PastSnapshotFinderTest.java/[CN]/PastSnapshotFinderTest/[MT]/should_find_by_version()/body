{
  when(finderByVersion.findByVersion(null,"1.2")).thenReturn(new PastSnapshot("version",new Date(),new Snapshot()));
  PastSnapshot variationSnapshot=finder.find(null,2,"1.2");
  verify(finderByVersion).findByVersion(null,"1.2");
  assertThat(variationSnapshot.getIndex(),is(2));
  assertThat(variationSnapshot.getMode(),is("version"));
  assertThat(variationSnapshot.getProjectSnapshot(),not(nullValue()));
}
