{
  int threads=settings.getInt(THREADS_PROPERTY);
  if (threads < 0) {
    throw new IllegalArgumentException(String.format("Bad value of %s: %d",THREADS_PROPERTY,threads));
  }
  if (threads == 0) {
    threads=DEFAULT_THREADS;
  }
  return threads;
}
