{
  try {
    MBeanServer mbeanServer=ManagementFactory.getPlatformMBeanServer();
    ObjectName oName=objectName(name);
    if (mbeanServer.isRegistered(oName)) {
      mbeanServer.unregisterMBean(oName);
    }
    mbeanServer.registerMBean(mbean,oName);
  }
 catch (  RuntimeException re) {
    throw re;
  }
catch (  Exception e) {
    throw new IllegalStateException("Fail to register JMX MBean named " + name,e);
  }
}
