{
  String address=host.getHostAddress();
  if (host instanceof Inet6Address) {
    address=String.format("[%s]",address);
  }
  try {
    return new JMXServiceURL("rmi",address,port,String.format("/jndi/rmi://%s:%d/jmxrmi",address,port));
  }
 catch (  MalformedURLException e) {
    throw new IllegalStateException("JMX url does not look well formed",e);
  }
}
