{
  for (  Language language : languages) {
    for (    String suffix : language.getFileSuffixes()) {
      String extension=StringUtils.removeStart(suffix,".");
      String s=byExtensions.get(extension);
      if (s != null) {
        throw new IllegalStateException(String.format("File extension '%s' is declared by two languages: %s and %s",extension,s,language.getKey()));
      }
      byExtensions.put(extension,language.getKey());
    }
  }
}
