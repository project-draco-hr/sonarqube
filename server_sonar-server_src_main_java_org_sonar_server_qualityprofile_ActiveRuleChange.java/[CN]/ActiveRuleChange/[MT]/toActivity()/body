{
  Activity activity=new Activity();
  activity.setType(Activity.Type.QPROFILE);
  activity.setAction(type.name());
  activity.setData("key",getKey().toString());
  activity.setData("ruleKey",getKey().ruleKey().toString());
  activity.setData("profileKey",getKey().qProfile());
  for (  Map.Entry<String,String> param : parameters.entrySet()) {
    if (!param.getKey().isEmpty()) {
      activity.setData("param_" + param.getKey(),param.getValue());
    }
  }
  if (StringUtils.isNotEmpty(severity)) {
    activity.setData("severity",severity);
  }
  if (inheritance != null) {
    activity.setData("inheritance",inheritance.name());
  }
  return activity;
}
