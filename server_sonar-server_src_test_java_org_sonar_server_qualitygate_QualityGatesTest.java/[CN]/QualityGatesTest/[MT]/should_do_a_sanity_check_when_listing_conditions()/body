{
  long qGateId=42L;
  long metric1Id=1L;
  String metric1Key="polop";
  long metric2Id=2L;
  QualityGateConditionDto cond1=new QualityGateConditionDto().setMetricId(metric1Id);
  QualityGateConditionDto cond2=new QualityGateConditionDto().setMetricId(metric2Id);
  Collection<QualityGateConditionDto> conditions=ImmutableList.of(cond1,cond2);
  when(conditionDao.selectForQualityGate(qGateId)).thenReturn(conditions);
  Metric metric1=mock(Metric.class);
  when(metric1.getKey()).thenReturn(metric1Key);
  when(metricFinder.findById((int)metric1Id)).thenReturn(metric1);
  qGates.listConditions(qGateId);
}
