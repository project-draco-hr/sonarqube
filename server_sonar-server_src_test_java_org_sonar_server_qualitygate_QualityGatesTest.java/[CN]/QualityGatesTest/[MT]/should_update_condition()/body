{
  String metricKey="new_coverage";
  String operator="LT";
  String errorThreshold="80";
  addMetric(metricKey,"New Coverage");
  QualityGateConditionDto condition=insertQualityGateConditionDto(newCondition(metricKey,METRIC_ID));
  when(conditionDao.selectForQualityGate(QUALITY_GATE_ID)).thenReturn(singletonList(condition));
  assertThat(underTest.updateCondition(condition.getId(),metricKey,operator,null,errorThreshold,1)).isEqualTo(condition);
  verify(conditionDao).update(condition);
}
