{
  QualityProfileDto qualityProfile=new QualityProfileDto().setId(1).setName("My profile").setLanguage("java");
  when(qualityProfileDao.selectProjects("sonar.profile.java","My profile")).thenReturn(newArrayList(new ComponentDto().setId(1L).setKey("org.codehaus.sonar:sonar").setName("SonarQube")));
  QProfileProjects result=service.projects(qualityProfile);
  assertThat(result.profile()).isNotNull();
  assertThat(result.projects()).hasSize(1);
}
