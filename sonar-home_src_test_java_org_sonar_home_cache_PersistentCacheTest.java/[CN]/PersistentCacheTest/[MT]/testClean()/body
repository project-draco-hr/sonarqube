{
  Path lockFile=cache.getDirectory().resolve("lock");
  cache.put(URI,VALUE.getBytes(StandardCharsets.UTF_8));
  Files.write(lockFile,"test".getBytes(StandardCharsets.UTF_8));
  assertCacheHit(true);
  when(invalidation.test(any(Path.class))).thenReturn(true);
  cache.clean();
  when(invalidation.test(any(Path.class))).thenReturn(false);
  assertCacheHit(false);
  assertThat(new String(Files.readAllBytes(lockFile),StandardCharsets.UTF_8)).isEqualTo("test");
}
