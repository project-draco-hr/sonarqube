{
  Context ctx;
  try {
    ctx=new InitialContext();
  }
 catch (  NamingException e) {
    throw new JndiException("can not instantiate a JNDI context",e);
  }
  try {
    String jndiName=getJndiName();
    DataSource source=(DataSource)ctx.lookup(jndiName);
    Logs.INFO.info("Use JDBC datasource from JNDI, name=" + jndiName);
    return source;
  }
 catch (  NamingException e) {
  }
 finally {
    try {
      ctx.close();
    }
 catch (    NamingException e) {
    }
  }
  return null;
}
