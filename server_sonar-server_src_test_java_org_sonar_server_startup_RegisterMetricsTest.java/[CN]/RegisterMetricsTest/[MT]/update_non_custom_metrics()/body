{
  dbTester.prepareDbUnit(getClass(),"update_non_custom_metrics.xml");
  RegisterMetrics register=new RegisterMetrics(dbClient());
  Metric m1=new Metric.Builder("m1","New name",Metric.ValueType.FLOAT).setDescription("new description").setDirection(-1).setQualitative(true).setDomain("new domain").setUserManaged(false).setHidden(true).create();
  Metric custom=new Metric.Builder("custom","New custom",Metric.ValueType.FLOAT).setDescription("New description of custom metric").setUserManaged(true).create();
  register.register(asList(m1,custom));
  dbTester.assertDbUnit(getClass(),"update_non_custom_metrics-result.xml","metrics");
}
