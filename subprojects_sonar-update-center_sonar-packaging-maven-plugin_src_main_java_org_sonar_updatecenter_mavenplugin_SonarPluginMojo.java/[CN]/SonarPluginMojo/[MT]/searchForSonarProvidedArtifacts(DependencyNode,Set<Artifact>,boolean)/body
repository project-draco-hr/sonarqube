{
  if (dependency != null) {
    if (dependency.getParent() != null) {
      isProvidedBySonar=isProvidedBySonar || ("org.codehaus.sonar".equals(dependency.getArtifact().getGroupId()) && !Artifact.SCOPE_TEST.equals(dependency.getArtifact().getScope()));
    }
    if (isProvidedBySonar) {
      sonarArtifacts.add(dependency.getArtifact());
    }
    if (!Artifact.SCOPE_TEST.equals(dependency.getArtifact().getScope())) {
      for (      Object childDep : dependency.getChildren()) {
        searchForSonarProvidedArtifacts((DependencyNode)childDep,sonarArtifacts,isProvidedBySonar);
      }
    }
  }
}
