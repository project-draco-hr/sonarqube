{
  Set<Artifact> result=new HashSet<Artifact>();
  Set<Artifact> providedArtifacts=getSonarProvidedArtifacts();
  for (  Artifact artifact : getIncludedArtifacts()) {
    if (!Artifact.SCOPE_PROVIDED.equals(artifact.getScope()) && !Artifact.SCOPE_TEST.equals(artifact.getScope()) && !containsArtifact(providedArtifacts,artifact)) {
      result.add(artifact);
    }
  }
  return result;
}
