{
  ServerMetadata server=mock(ServerMetadata.class);
  when(server.getURL()).thenReturn("http://sonar:8000");
  HttpDownloader httpDownloader=mock(HttpDownloader.class);
  TempDirectories workingDirectories=new TempDirectories();
  ArtifactDownloader downloader=new ArtifactDownloader(httpDownloader,workingDirectories,server);
  File jdbcDriver=downloader.downloadJdbcDriver();
  assertNotNull(jdbcDriver);
  verify(httpDownloader).download(new URI("http://sonar:8000/deploy/jdbc-driver.jar"),jdbcDriver);
}
