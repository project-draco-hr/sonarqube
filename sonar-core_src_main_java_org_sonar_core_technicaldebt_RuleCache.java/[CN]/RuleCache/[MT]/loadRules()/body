{
  cachedRules=Maps.newHashMap();
  Collection<Rule> rules=ruleFinder.findAll(RuleQuery.create());
  for (  Rule rule : rules) {
    if (!cachedRules.containsKey(rule.getRepositoryKey())) {
      cachedRules.put(rule.getRepositoryKey(),new HashMap<String,Rule>());
    }
    Map<String,Rule> cachedRepository=cachedRules.get(rule.getRepositoryKey());
    if (!cachedRepository.containsKey(rule.getKey())) {
      cachedRepository.put(rule.getKey(),rule);
    }
  }
}
