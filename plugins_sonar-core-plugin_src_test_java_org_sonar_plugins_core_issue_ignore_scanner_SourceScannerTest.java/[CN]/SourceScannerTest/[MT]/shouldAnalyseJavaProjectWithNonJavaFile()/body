{
  File sourceFile=new File("src/main/java/Foo.java");
  File otherFile=new File("other.js");
  when(project.getLanguageKey()).thenReturn("java");
  List<File> empty=Collections.emptyList();
  when(fileSystem.files(Mockito.isA(FileQuery.class))).thenReturn(Arrays.asList(sourceFile,otherFile)).thenReturn(empty);
  when(fileSystem.sourceDirs()).thenReturn(ImmutableList.of(new File("src/main/java"),new File("")));
  when(fileSystem.testDirs()).thenReturn(ImmutableList.of(new File("src/test/java")));
  when(patternsInitializer.hasFileContentPattern()).thenReturn(true);
  scanner.analyse(project,null);
  verify(regexpScanner,never()).scan("other.js",sourceFile,UTF_8);
}
