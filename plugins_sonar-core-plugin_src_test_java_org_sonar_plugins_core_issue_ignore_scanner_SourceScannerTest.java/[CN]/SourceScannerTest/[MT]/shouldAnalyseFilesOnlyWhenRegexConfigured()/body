{
  File sourceFile=new File("src/main/java/Foo.java");
  File testFile=new File("src/test/java/FooTest.java");
  when(project.getLanguageKey()).thenReturn("java");
  when(fileSystem.files(Mockito.isA(FileQuery.class))).thenReturn(Arrays.asList(sourceFile)).thenReturn(Arrays.asList(testFile));
  when(fileSystem.sourceDirs()).thenReturn(Arrays.asList(new File("src/main/java")));
  when(fileSystem.testDirs()).thenReturn(Arrays.asList(new File("src/test/java")));
  when(exclusionPatternInitializer.hasFileContentPattern()).thenReturn(false);
  scanner.analyse(project,null);
  verify(inclusionPatternInitializer).initializePatternsForPath("Foo.java","polop:[default].Foo");
  verify(inclusionPatternInitializer).initializePatternsForPath("FooTest.java","polop:[default].FooTest");
  verify(exclusionPatternInitializer).initializePatternsForPath("Foo.java","polop:[default].Foo");
  verify(exclusionPatternInitializer).initializePatternsForPath("FooTest.java","polop:[default].FooTest");
  verifyZeroInteractions(regexpScanner);
}
