{
  File sourceFile=new File("src/main/java/Foo.java");
  File testFile=new File("src/test/java/FooTest.java");
  when(project.getLanguageKey()).thenReturn("java");
  when(fileSystem.files(Mockito.isA(FileQuery.class))).thenReturn(Arrays.asList(sourceFile)).thenReturn(Arrays.asList(testFile));
  when(fileSystem.sourceDirs()).thenReturn(Arrays.asList(new File("src/main/java")));
  when(fileSystem.testDirs()).thenReturn(Arrays.asList(new File("src/test/java")));
  scanner.analyse(project,null);
  verify(regexpScanner).scan("[default].Foo",sourceFile,UTF_8);
  verify(regexpScanner).scan("[default].FooTest",testFile,UTF_8);
}
