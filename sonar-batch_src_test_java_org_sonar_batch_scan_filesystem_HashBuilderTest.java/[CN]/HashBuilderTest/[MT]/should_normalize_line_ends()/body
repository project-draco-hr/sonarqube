{
  File file1=temp.newFile();
  FileUtils.write(file1,"foobar\nfofo",Charsets.UTF_8);
  String hash1=hashBuilder.computeHashNormalizeLineEnds(file1,Charsets.UTF_8);
  File file2=temp.newFile();
  FileUtils.write(file2,"foobar\r\nfofo",Charsets.UTF_8);
  String hash2=hashBuilder.computeHashNormalizeLineEnds(file2,Charsets.UTF_8);
  File file3=temp.newFile();
  FileUtils.write(file3,"foobar\rfofo",Charsets.UTF_8);
  String hash3=hashBuilder.computeHashNormalizeLineEnds(file3,Charsets.UTF_8);
  File file4=temp.newFile();
  FileUtils.write(file4,"foobar\nfofo\n",Charsets.UTF_8);
  String hash4=hashBuilder.computeHashNormalizeLineEnds(file4,Charsets.UTF_8);
  assertThat(hash1).isEqualTo(hash2);
  assertThat(hash1).isEqualTo(hash3);
  assertThat(hash1).isNotEqualTo(hash4);
}
