{
  generateData();
  ProgressTask progressTask=new ProgressTask(counter);
  Timer timer=new Timer("Extract Issues");
  timer.schedule(progressTask,ProgressTask.PERIOD_MS,ProgressTask.PERIOD_MS);
  try {
    long start=System.currentTimeMillis();
    issueDao.synchronizeAfter(session);
    long stop=System.currentTimeMillis();
    progressTask.log();
    assertThat(issueDao.synchronizedIssues).isEqualTo(ISSUE_COUNT);
    long time=stop - start;
    LOGGER.info("Extracted {} Issues in {} ms with avg {} Issue/second",ISSUE_COUNT,time,documentPerSecond(time));
  }
  finally {
    timer.cancel();
    timer.purge();
  }
}
