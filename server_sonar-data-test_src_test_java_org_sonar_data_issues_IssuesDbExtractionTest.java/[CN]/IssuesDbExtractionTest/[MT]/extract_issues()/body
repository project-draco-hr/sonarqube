{
  int issueInsertCount=ISSUE_COUNT;
  Timer timer=new Timer("Extract Issues");
  timer.schedule(progressTask,ProgressTask.PERIOD_MS,ProgressTask.PERIOD_MS);
  try {
    generateData();
    long start=System.currentTimeMillis();
    issueDao.synchronizeAfter(session);
    long stop=System.currentTimeMillis();
    progressTask.log();
    assertThat(issueDao.synchronizedIssues).isEqualTo(issueInsertCount);
    long time=stop - start;
    LOGGER.info("Extracted {} Issues in {} ms with avg {} Issue/second",ISSUE_COUNT,time,documentPerSecond(time));
    assertDurationAround(time,Long.parseLong(getProperty("IssuesDbExtractionTest.extract_issues")));
  }
  finally {
    timer.cancel();
    timer.purge();
  }
}
