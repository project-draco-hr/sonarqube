{
  if (GlobalPermissions.SYSTEM_ADMIN.equals(permissionChange.permission()) && groupIdToExclude != null && permissionChange.componentKey() == null && dbClient.roleDao().countUserPermissions(session,permissionChange.permission(),groupIdToExclude) <= 0) {
    throw new BadRequestException(String.format("Last group with '%s' permission. Permission cannot be removed.",GlobalPermissions.SYSTEM_ADMIN));
  }
}
