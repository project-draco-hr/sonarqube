{
  setupData("shared");
  List<MeasureDto> results=dao.findByComponentKeyAndMetricKeys("org.struts:struts-core:src/org/struts/RequestContext.java",newArrayList("ncloc","authors_by_line"),session);
  assertThat(results).hasSize(2);
  results=dao.findByComponentKeyAndMetricKeys("org.struts:struts-core:src/org/struts/RequestContext.java",newArrayList("ncloc"),session);
  assertThat(results).hasSize(1);
  MeasureDto result=results.get(0);
  assertThat(result.getId()).isEqualTo(22);
  assertThat(result.getValue()).isEqualTo(10d);
  assertThat(result.getKey()).isNotNull();
}
