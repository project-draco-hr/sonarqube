{
  Resource directory=new Directory("fake");
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.FUNCTIONS)).thenReturn(new Measure(CoreMetrics.FUNCTIONS,200.0));
  when(context.getMeasure(CoreMetrics.COMPLEXITY)).thenReturn(new Measure(CoreMetrics.COMPLEXITY,500.0));
  new AbstractFunctionComplexityDecorator(Java.INSTANCE){
  }
.decorate(directory,context);
  verify(context).saveMeasure(CoreMetrics.FUNCTION_COMPLEXITY,2.5);
}
