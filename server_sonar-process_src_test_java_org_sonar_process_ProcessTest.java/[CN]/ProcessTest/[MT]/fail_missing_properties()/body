{
  Properties properties=new Properties();
  try {
    testProcess(properties);
  }
 catch (  Exception e) {
    assertThat(e.getMessage()).isEqualTo(Process.MISSING_NAME_ARGUMENT);
  }
  properties.setProperty(Process.NAME_PROPERTY,"test");
  try {
    testProcess(properties);
  }
 catch (  Exception e) {
    assertThat(e.getMessage()).isEqualTo(Process.MISSING_PORT_ARGUMENT);
  }
  properties.setProperty(Process.HEARTBEAT_PROPERTY,Integer.toString(socket.getLocalPort()));
  assertThat(testProcess(properties)).isNotNull();
}
