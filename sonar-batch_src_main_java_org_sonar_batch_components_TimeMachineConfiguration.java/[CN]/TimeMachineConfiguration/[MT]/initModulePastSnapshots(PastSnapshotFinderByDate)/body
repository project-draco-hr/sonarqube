{
  periods=newLinkedList();
  modulePastSnapshots=newLinkedList();
  for (  PastSnapshot projectPastSnapshot : periodsDefinition.projectPastSnapshots()) {
    PastSnapshot pastSnapshot=pastSnapshotFinderByDate.findByDate(project.getId(),projectPastSnapshot.getTargetDate());
    if (pastSnapshot != null) {
      pastSnapshot.setIndex(projectPastSnapshot.getIndex());
      pastSnapshot.setMode(projectPastSnapshot.getMode());
      pastSnapshot.setModeParameter(projectPastSnapshot.getModeParameter());
      modulePastSnapshots.add(pastSnapshot);
      periods.add(new Period(projectPastSnapshot.getIndex(),pastSnapshot.getTargetDate(),pastSnapshot.getDate()));
      log(pastSnapshot);
    }
  }
}
