{
  String period1=configuration.getString(CoreProperties.TIMEMACHINE_PERIOD_PREFIX + "1");
  if (StringUtils.isBlank(period1) || CoreProperties.TIMEMACHINE_MODE_PREVIOUS_ANALYSIS.equals(period1)) {
    return 1;
  }
  for (int index=2; index < 6; index++) {
    if (CoreProperties.TIMEMACHINE_MODE_PREVIOUS_ANALYSIS.equals(configuration.getString(CoreProperties.TIMEMACHINE_PERIOD_PREFIX + index))) {
      return index;
    }
  }
  return null;
}
