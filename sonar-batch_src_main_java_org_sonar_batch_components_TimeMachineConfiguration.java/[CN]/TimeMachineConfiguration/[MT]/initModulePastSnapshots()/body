{
  periods=newLinkedList();
  modulePastSnapshots=newLinkedList();
  for (  PastSnapshot projectPastSnapshot : periodsDefinition.getRootProjectPastSnapshots()) {
    Snapshot snapshot=findSnapshot(projectPastSnapshot.getProjectSnapshot());
    PastSnapshot pastSnapshot=new PastSnapshot(projectPastSnapshot.getMode(),projectPastSnapshot.getTargetDate(),projectPastSnapshot.getProjectSnapshot());
    pastSnapshot.setIndex(projectPastSnapshot.getIndex());
    pastSnapshot.setModeParameter(projectPastSnapshot.getModeParameter());
    modulePastSnapshots.add(pastSnapshot);
    periods.add(new Period(pastSnapshot.getIndex(),pastSnapshot.getTargetDate(),snapshot != null ? snapshot.getCreatedAt() : null));
    log(pastSnapshot);
  }
}
