{
  File projectDir=new File(IssuesMediumTest.class.getResource("/mediumtest/xoo/sample").toURI());
  File tmpDir=temp.newFolder();
  FileUtils.copyDirectory(projectDir,tmpDir);
  IssueRecorder issueListener=new IssueRecorder();
  TaskResult result=tester.newScanTask(new File(tmpDir,"sonar-project.properties")).setIssueListener(issueListener).start();
  assertThat(result.trackedIssues()).hasSize(20);
  assertThat(issueListener.issueList).hasSize(20);
  assertThat(result.trackedIssues()).containsExactlyElementsOf(issueListener.issueList);
}
