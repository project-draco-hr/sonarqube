{
  ComponentDto project=ComponentTesting.newProjectDto().setKey("org.codehaus.sonar:sonar");
  userSessionRule.logon("john").setGlobalPermissions(GlobalPermissions.SCAN_EXECUTION);
  tester.get(DbClient.class).componentDao().insert(dbSession,project);
  dbSession.commit();
  try {
    loader.load(ProjectRepositoryQuery.create().setModuleKey(project.key()));
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(IllegalStateException.class).hasMessage("No quality profile can been found on language 'xoo' for project 'org.codehaus.sonar:sonar'");
  }
}
