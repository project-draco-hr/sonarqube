{
  if (bucket >= buckets.length) {
    r.run();
    return;
  }
synchronized (locks[bucket]) {
    atomic(r,bucket + 1);
  }
}
