{
  dao.insert(dbSession,RuleTesting.newDto(RuleKey.of("javascript","S001")));
  dao.insert(dbSession,RuleTesting.newDto(RuleKey.of("java","S002")));
  dbSession.commit();
  Result results=index.search(new RuleQuery(),new QueryContext(userSessionRule));
  assertThat(results.getTotal()).isEqualTo(2);
  assertThat(results.getHits()).hasSize(2);
}
