{
  String nameWithProtectedChars="ja#va&sc\"r:ipt";
  RuleDto ruleDto=RuleTesting.newXooX1().setName(nameWithProtectedChars);
  dao.insert(dbSession,ruleDto);
  dbSession.commit();
  Rule rule=index.getByKey(RuleTesting.XOO_X1);
  assertThat(rule.name()).isEqualTo(nameWithProtectedChars);
  RuleQuery protectedCharsQuery=new RuleQuery().setQueryText(nameWithProtectedChars);
  List<Rule> results=index.search(protectedCharsQuery,new QueryContext(userSessionRule)).getHits();
  assertThat(results).hasSize(1);
  assertThat(results.get(0).key()).isEqualTo(RuleTesting.XOO_X1);
}
