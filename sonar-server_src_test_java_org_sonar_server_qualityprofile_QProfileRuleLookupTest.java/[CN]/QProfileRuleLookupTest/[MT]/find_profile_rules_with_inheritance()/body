{
  Paging paging=Paging.create(10,1);
  List<QProfileRule> rules=profileRules.search(ProfileRuleQuery.create(1),paging).rules();
  assertThat(rules).hasSize(3);
  rules=profileRules.search(ProfileRuleQuery.create(1).setAnyInheritance(true),paging).rules();
  assertThat(rules).hasSize(3);
  rules=profileRules.search(ProfileRuleQuery.create(1).setInheritance(QProfileRule.INHERITED),paging).rules();
  assertThat(rules).hasSize(1);
  assertThat(rules.get(0).activeRuleId()).isEqualTo(391);
  rules=profileRules.search(ProfileRuleQuery.create(1).setInheritance(QProfileRule.OVERRIDES),paging).rules();
  assertThat(rules).hasSize(1);
  assertThat(rules.get(0).activeRuleId()).isEqualTo(25);
  rules=profileRules.search(ProfileRuleQuery.create(1).setNoInheritance(true),paging).rules();
  assertThat(rules).hasSize(1);
  assertThat(rules.get(0).activeRuleId()).isEqualTo(2702);
}
