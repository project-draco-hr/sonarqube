{
  definitions.addComponent(PropertyDefinition.builder("foo").type(PropertyType.PROPERTY_SET).fields(asList(PropertyFieldDefinition.build("key").name("Key").build(),PropertyFieldDefinition.build("size").name("Size").build())).build());
  propertyDb.insertProperties(newGlobalPropertyDto().setKey("foo").setValue("1,2"),newGlobalPropertyDto().setKey("foo.1.key").setValue("key1"),newGlobalPropertyDto().setKey("foo.1.size").setValue("size1"),newGlobalPropertyDto().setKey("foo.2.key").setValue("key2"));
  underTest.deleteGlobalSettings(dbSession,"foo");
  assertGlobalPropertyDoesNotExist("foo");
  assertGlobalPropertyDoesNotExist("foo.1.key");
  assertGlobalPropertyDoesNotExist("foo.1.size");
  assertGlobalPropertyDoesNotExist("foo.2.key");
}
