{
  Requirement requirement=model.requirementsByRule(issue.ruleKey());
  if (requirement != null) {
    if (requirement.function().equals(DefaultRequirement.CONSTANT_ISSUE) && issue.effortToFix() != null) {
      throw new IllegalArgumentException("Requirement for '" + issue.ruleKey() + "' can not use 'Constant/issue' remediation function "+ "because this rule does not have a fixed remediation cost.");
    }
    return fromMinutes(calculTechnicalDebt(requirement,issue));
  }
  return null;
}
