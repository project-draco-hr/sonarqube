{
  BatchReport.Component component=defaultComponent().build();
  addComponent(component.getRef(),"component-key");
  BatchReport.Measure batchMeasure=BatchReport.Measure.newBuilder().setValueType(MeasureValueType.LONG).setLongValue(3L).setMetricKey(METRIC_KEY).build();
  MeasureDto measure=sut.toMeasureDto(batchMeasure,FILE_COMPONENT_ID,FILE_SNAPSHOT_ID);
  assertThat(measure.getValue()).isEqualTo(3.0);
  batchMeasure=BatchReport.Measure.newBuilder().setValueType(MeasureValueType.LONG).setMetricKey(METRIC_KEY).build();
  measure=sut.toMeasureDto(batchMeasure,FILE_COMPONENT_ID,FILE_SNAPSHOT_ID);
  assertThat(measure.getValue()).isNull();
}
