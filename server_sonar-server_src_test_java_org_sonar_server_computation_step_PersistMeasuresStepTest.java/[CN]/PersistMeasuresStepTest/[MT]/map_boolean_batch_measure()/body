{
  BatchReport.Component component=defaultComponent().build();
  addComponent(component.getRef(),"component-key");
  BatchReport.Measure batchMeasure=BatchReport.Measure.newBuilder().setValueType(MeasureValueType.BOOLEAN).setBooleanValue(true).setMetricKey(METRIC_KEY).build();
  MeasureDto measure=sut.toMeasureDto(batchMeasure,FILE_COMPONENT_ID,FILE_SNAPSHOT_ID);
  assertThat(measure.getValue()).isEqualTo(1.0);
  batchMeasure=BatchReport.Measure.newBuilder().setValueType(MeasureValueType.BOOLEAN).setBooleanValue(false).setMetricKey(METRIC_KEY).build();
  measure=sut.toMeasureDto(batchMeasure,FILE_COMPONENT_ID,FILE_SNAPSHOT_ID);
  assertThat(measure.getValue()).isEqualTo(0.0);
  batchMeasure=BatchReport.Measure.newBuilder().setValueType(MeasureValueType.BOOLEAN).setMetricKey(METRIC_KEY).build();
  measure=sut.toMeasureDto(batchMeasure,FILE_COMPONENT_ID,FILE_SNAPSHOT_ID);
  assertThat(measure.getValue()).isNull();
}
