{
  ruleDao.insert(dbSession,RuleTesting.newDto(RULE_KEY).setStatus(RuleStatus.REMOVED));
  dbSession.commit();
  RuleUpdate update=RuleUpdate.createForPluginRule(RULE_KEY).setTags(Sets.newHashSet("java9"));
  try {
    updater.update(dbSession,update,userSessionRule);
    fail();
  }
 catch (  IllegalArgumentException e) {
    assertThat(e).hasMessage("Rule with REMOVED status cannot be updated: squid:S001");
  }
}
