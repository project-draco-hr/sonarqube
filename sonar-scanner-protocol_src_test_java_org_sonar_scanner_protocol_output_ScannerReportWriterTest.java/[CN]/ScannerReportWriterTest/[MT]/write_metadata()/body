{
  ScannerReport.Metadata.Builder metadata=ScannerReport.Metadata.newBuilder().setAnalysisDate(15000000L).setProjectKey("PROJECT_A").setRootComponentRef(1);
  underTest.writeMetadata(metadata.build());
  ScannerReport.Metadata read=Protobuf.read(underTest.getFileStructure().metadataFile(),ScannerReport.Metadata.parser());
  assertThat(read.getAnalysisDate()).isEqualTo(15000000L);
  assertThat(read.getProjectKey()).isEqualTo("PROJECT_A");
  assertThat(read.getRootComponentRef()).isEqualTo(1);
}
