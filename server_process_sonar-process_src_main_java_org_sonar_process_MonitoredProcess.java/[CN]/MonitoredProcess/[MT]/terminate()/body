{
synchronized (monitor) {
    if (monitor != null) {
      LOGGER.debug("Process[{}] terminating",name);
      try {
        doTerminate();
      }
 catch (      Exception e) {
        LOGGER.error("Fail to terminate " + name,e);
      }
      monitor.shutdownNow();
      monitor=null;
      if (pingTask != null) {
        pingTask.cancel(true);
        pingTask=null;
      }
      LOGGER.debug("Process[{}] terminated",name);
      terminated=true;
    }
  }
}
