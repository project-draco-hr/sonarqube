{
  NewIndex index=context.create(INDEX);
  index.getSettings().put("index.refresh_interval","-1");
  boolean clusterMode=settings.getBoolean(ProcessConstants.CLUSTER_ACTIVATE);
  if (clusterMode) {
    index.getSettings().put(IndexMetaData.SETTING_NUMBER_OF_SHARDS,4);
    index.getSettings().put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS,1);
  }
  NewIndex.NewIndexType sourceLineMapping=index.createType(TYPE);
  sourceLineMapping.stringFieldBuilder(FIELD_PROJECT_UUID).build();
  sourceLineMapping.stringFieldBuilder(FIELD_FILE_UUID).build();
  sourceLineMapping.createIntegerField(FIELD_LINE);
  sourceLineMapping.stringFieldBuilder(FIELD_SCM_REVISION).build();
  sourceLineMapping.stringFieldBuilder(FIELD_SCM_AUTHOR).build();
  sourceLineMapping.createDateTimeField(FIELD_SCM_DATE);
  sourceLineMapping.stringFieldBuilder(FIELD_HIGHLIGHTING).disableSearch().build();
  sourceLineMapping.stringFieldBuilder(FIELD_SOURCE).disableSearch().build();
  sourceLineMapping.createIntegerField(FIELD_UT_LINE_HITS);
  sourceLineMapping.createIntegerField(FIELD_UT_CONDITIONS);
  sourceLineMapping.createIntegerField(FIELD_UT_COVERED_CONDITIONS);
  sourceLineMapping.createIntegerField(FIELD_IT_LINE_HITS);
  sourceLineMapping.createIntegerField(FIELD_IT_CONDITIONS);
  sourceLineMapping.createIntegerField(FIELD_IT_COVERED_CONDITIONS);
  sourceLineMapping.createIntegerField(FIELD_OVERALL_LINE_HITS);
  sourceLineMapping.createIntegerField(FIELD_OVERALL_CONDITIONS);
  sourceLineMapping.createIntegerField(FIELD_OVERALL_COVERED_CONDITIONS);
  sourceLineMapping.stringFieldBuilder(FIELD_SYMBOLS).disableSearch().build();
  sourceLineMapping.createShortField(FIELD_DUPLICATIONS);
  sourceLineMapping.createDateTimeField(BaseNormalizer.UPDATED_AT_FIELD);
}
