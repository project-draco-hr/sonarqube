{
  NewIndex index=context.create(INDEX);
  index.refreshHandledByIndexer();
  index.setShards(settings);
  NewIndex.NewIndexType mapping=index.createType(TYPE);
  mapping.setAttribute("_routing",ImmutableMap.of("required",true,"path",FIELD_PROJECT_UUID));
  mapping.stringFieldBuilder(FIELD_PROJECT_UUID).build();
  mapping.stringFieldBuilder(FIELD_FILE_UUID).build();
  mapping.createIntegerField(FIELD_LINE);
  mapping.stringFieldBuilder(FIELD_SCM_REVISION).disableSearch().build();
  mapping.stringFieldBuilder(FIELD_SCM_AUTHOR).disableSearch().build();
  mapping.createDateTimeField(FIELD_SCM_DATE);
  mapping.stringFieldBuilder(FIELD_HIGHLIGHTING).disableSearch().build();
  mapping.stringFieldBuilder(FIELD_SOURCE).disableSearch().build();
  mapping.createIntegerField(FIELD_UT_LINE_HITS);
  mapping.createIntegerField(FIELD_UT_CONDITIONS);
  mapping.createIntegerField(FIELD_UT_COVERED_CONDITIONS);
  mapping.createIntegerField(FIELD_IT_LINE_HITS);
  mapping.createIntegerField(FIELD_IT_CONDITIONS);
  mapping.createIntegerField(FIELD_IT_COVERED_CONDITIONS);
  mapping.createIntegerField(FIELD_OVERALL_LINE_HITS);
  mapping.createIntegerField(FIELD_OVERALL_CONDITIONS);
  mapping.createIntegerField(FIELD_OVERALL_COVERED_CONDITIONS);
  mapping.stringFieldBuilder(FIELD_SYMBOLS).disableSearch().build();
  mapping.createShortField(FIELD_DUPLICATIONS);
  mapping.createDateTimeField(FIELD_UPDATED_AT);
}
