{
  File dir=temp.newFolder();
  AllProcessesCommands commands=new AllProcessesCommands(dir);
  commands.askForRestart(PROCESS_NUMBER);
  assertThat(commands.askedForRestart(PROCESS_NUMBER)).isTrue();
  assertThat(commands.mappedByteBuffer.get(commands.offset(PROCESS_NUMBER) + 3)).isEqualTo(AllProcessesCommands.RESTART);
  commands.acknowledgeAskForRestart(PROCESS_NUMBER);
  assertThat(commands.mappedByteBuffer.get(commands.offset(PROCESS_NUMBER) + 3)).isNotEqualTo(AllProcessesCommands.RESTART);
  assertThat(commands.askedForRestart(PROCESS_NUMBER)).isFalse();
}
