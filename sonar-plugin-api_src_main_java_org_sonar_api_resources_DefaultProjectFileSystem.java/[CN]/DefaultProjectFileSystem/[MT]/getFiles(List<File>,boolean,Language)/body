{
  List<File> result=new ArrayList<File>();
  if (directories == null) {
    return result;
  }
  IOFileFilter suffixFilter=getFileSuffixFilter(langs);
  WildcardPattern[] exclusionPatterns=getExclusionPatterns(applyExclusionPatterns);
  for (  File dir : directories) {
    if (dir.exists()) {
      IOFileFilter exclusionFilter=new ExclusionFilter(dir,exclusionPatterns);
      IOFileFilter visibleFileFilter=HiddenFileFilter.VISIBLE;
      List dirFilters=Lists.newArrayList(visibleFileFilter,suffixFilter,exclusionFilter);
      dirFilters.addAll(this.filters);
      result.addAll(FileUtils.listFiles(dir,new AndFileFilter(dirFilters),HiddenFileFilter.VISIBLE));
    }
  }
  return result;
}
