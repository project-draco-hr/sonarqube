{
  if (ExtensionUtils.isBatchExtension(extension) && ExtensionUtils.isSupportedEnvironment(extension,environment) && ExtensionUtils.isInstantiationStrategy(extension,InstantiationStrategy.PER_PROJECT)&& ExtensionUtils.checkDryRun(extension,dryRun.isEnabled())&& !isDeactivatedCoverageExtension(extension,pluginKey,project,settings)&& !isMavenExtensionOnEmulatedMavenProject(extension,project)) {
    module.addCoreSingleton(extension);
    return extension;
  }
  return null;
}
