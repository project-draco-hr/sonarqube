{
  RuleKey ruleKey=RuleKey.of("squid","AvoidCycle");
  DefaultIssue issue=new DefaultIssue().setKey("ABCDE").setRuleKey(ruleKey);
  DefaultRequirement requirement=mock(DefaultRequirement.class);
  Mockito.when(requirement.function()).thenReturn("constant_issue");
  Mockito.when(requirement.factor()).thenReturn(tenMinutes);
  Mockito.when(requirement.offset()).thenReturn(fiveMinutes);
  when(model.requirementsByRule(ruleKey)).thenReturn(requirement);
  assertThat(remediationCostCalculator.calculTechnicalDebt(issue)).isEqualTo(new WorkUnit.Builder().setMinutes(15).build());
}
