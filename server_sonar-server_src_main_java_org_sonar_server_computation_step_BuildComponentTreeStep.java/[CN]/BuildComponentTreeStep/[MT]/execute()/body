{
  analysisMetadataHolder.setAnalysisDate(new Date(reportReader.readMetadata().getAnalysisDate()));
  BatchReport.Metadata reportMetadata=reportReader.readMetadata();
  String branch=reportMetadata.hasBranch() ? reportMetadata.getBranch() : null;
  BatchReport.Component reportProject=reportReader.readComponent(reportMetadata.getRootComponentRef());
  UuidFactory uuidFactory=new UuidFactory(dbClient,moduleKey(reportProject,branch));
  Component project=new ComponentRootBuilder(reportProject,uuidFactory,branch).build();
  treeRootHolder.setRoot(project);
  setIsFirstAnalysis(project.getUuid());
}
