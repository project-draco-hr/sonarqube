{
  Violation newViolation=newViolation("message",1,50,"checksum1");
  RuleFailureModel referenceViolation=newReferenceViolation("message",2,50,"checksum2");
  Map<Violation,RuleFailureModel> mapping=decorator.mapViolations(Lists.newArrayList(newViolation),Lists.newArrayList(referenceViolation));
  assertThat(mapping.get(newViolation),is(nullValue()));
  assertThat(newViolation.isNew(),is(true));
}
