{
  Violation newViolation=newViolation("new message",1,50,"checksum1");
  RuleFailureModel referenceViolation=newReferenceViolation("old message",1,50,"checksum1");
  decorator.mapViolations(Lists.newArrayList(newViolation),Lists.newArrayList(referenceViolation));
  assertThat(decorator.getReferenceViolation(newViolation)).isSameAs(referenceViolation);
  assertThat(newViolation.isNew()).isFalse();
}
