{
  RuleFailureModel referenceViolation1=newReferenceViolation("message",1,50,"checksum1");
  RuleFailureModel referenceViolation2=newReferenceViolation("message",3,50,"checksum2");
  Violation newViolation1=newViolation("message",3,50,"checksum1");
  Violation newViolation2=newViolation("message",5,50,"checksum2");
  Map<Violation,RuleFailureModel> mapping=decorator.mapViolations(Lists.newArrayList(newViolation1,newViolation2),Lists.newArrayList(referenceViolation1,referenceViolation2));
  assertThat(mapping.get(newViolation1),equalTo(referenceViolation1));
  assertThat(mapping.get(newViolation2),equalTo(referenceViolation2));
}
