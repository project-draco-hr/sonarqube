{
  RuleFailureModel referenceViolation1=newReferenceViolation("message",1,50,"checksum1");
  RuleFailureModel referenceViolation2=newReferenceViolation("message",3,50,"checksum2");
  Violation newViolation1=newViolation("message",3,50,"checksum1");
  Violation newViolation2=newViolation("message",5,50,"checksum2");
  decorator.mapViolations(Lists.newArrayList(newViolation1,newViolation2),Lists.newArrayList(referenceViolation1,referenceViolation2));
  assertThat(decorator.getReferenceViolation(newViolation1)).isSameAs(referenceViolation1);
  assertThat(newViolation1.isNew()).isFalse();
  assertThat(decorator.getReferenceViolation(newViolation2)).isSameAs(referenceViolation2);
  assertThat(newViolation2.isNew()).isFalse();
}
