{
  List<BatchReport.SyntaxHighlighting> syntaxHighlightingList=new ArrayList<>();
  for (  Map.Entry<TextRange,Constants.HighlightingType> entry : textRangeByType.entrySet()) {
    syntaxHighlightingList.add(BatchReport.SyntaxHighlighting.newBuilder().setRange(entry.getKey()).setType(entry.getValue()).build());
  }
  return new HighlightingLineReader(syntaxHighlightingList.iterator(),rangeOffsetConverter);
}
