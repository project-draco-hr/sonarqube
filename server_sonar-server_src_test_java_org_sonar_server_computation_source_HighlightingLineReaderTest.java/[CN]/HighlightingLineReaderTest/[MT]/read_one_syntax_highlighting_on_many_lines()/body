{
  HighlightingLineReader highlightingLineReader=new HighlightingLineReader(newArrayList(BatchReport.SyntaxHighlighting.newBuilder().setRange(BatchReport.Range.newBuilder().setStartLine(1).setEndLine(3).setStartOffset(3).setEndOffset(2).build()).setType(Constants.HighlightingType.ANNOTATION).build()).iterator());
  highlightingLineReader.read(line1);
  FileSources.Line.Builder line2=sourceData.addLinesBuilder().setSource("line 2").setLine(2);
  highlightingLineReader.read(line2);
  highlightingLineReader.read(line3);
  assertThat(line1.getHighlighting()).isEqualTo("3,5,a");
  assertThat(line2.getHighlighting()).isEqualTo("0,6,a");
  assertThat(line3.getHighlighting()).isEqualTo("0,2,a");
}
