{
  CodeReader reader=new CodeReader(new StringReader("123ABC"));
  StringBuilder token=new StringBuilder();
  assertEquals(3,reader.popTo(Pattern.compile("\\d+").matcher(new String()),token));
  assertEquals("123",token.toString());
  assertEquals(-1,reader.popTo(Pattern.compile("\\d+").matcher(new String()),token));
  assertEquals(3,reader.popTo(Pattern.compile("\\w+").matcher(new String()),token));
  assertEquals("123ABC",token.toString());
  assertEquals(-1,reader.popTo(Pattern.compile("\\w+").matcher(new String()),token));
}
