{
  StringBuilder sb=new StringBuilder();
  sb.append("\n");
  for (int i=0; i < 10000; i++) {
    sb.append(Integer.toHexString(i));
  }
  CodeReader reader=new CodeReader(sb.toString());
  reader.pop();
  reader.pop();
  thrown.expect(ChannelException.class);
  thrown.expectMessage("Unable to apply regular expression '([a-fA-F]|\\d)+' at line 2 and column 1," + " because it led to a stack overflow error." + " This error may be due to an inefficient use of alternations - see http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5050507");
  reader.popTo(Pattern.compile("([a-fA-F]|\\d)+").matcher(""),new StringBuilder());
}
