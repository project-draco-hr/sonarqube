{
  try {
    HttpServletRequest request=(HttpServletRequest)servletRequest;
    HttpServletResponse response=(HttpServletResponse)servletResponse;
    init();
    if (!isInitialized() || userSessionInitializer.initUserSession(request,response)) {
      chain.doFilter(servletRequest,servletResponse);
    }
  }
  finally {
    if (isInitialized()) {
      userSessionInitializer.removeUserSession();
    }
  }
}
