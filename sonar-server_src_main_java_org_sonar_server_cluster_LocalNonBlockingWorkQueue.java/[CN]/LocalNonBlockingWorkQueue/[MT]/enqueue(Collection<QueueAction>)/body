{
  CountDownLatch latch=new CountDownLatch(actions.size());
  try {
    for (    QueueAction action : actions) {
      action.setLatch(latch);
      this.offer(action,1000,TimeUnit.SECONDS);
    }
    latch.await(1500,TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException e) {
    throw new IllegalStateException("ES update has been interrupted: ");
  }
}
