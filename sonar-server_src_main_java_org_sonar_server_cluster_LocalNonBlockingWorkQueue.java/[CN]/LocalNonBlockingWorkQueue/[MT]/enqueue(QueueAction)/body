{
  CountDownLatch latch=new CountDownLatch(1);
  action.setLatch(latch);
  try {
    this.offer(action,1000,TimeUnit.SECONDS);
    latch.await(1500,TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException e) {
    throw new IllegalStateException("ES update has been interrupted: ");
  }
}
