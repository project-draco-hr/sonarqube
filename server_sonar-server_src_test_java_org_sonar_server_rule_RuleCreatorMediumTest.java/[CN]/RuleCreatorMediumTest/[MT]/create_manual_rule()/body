{
  NewRule newRule=NewRule.createForManualRule("MANUAL_RULE").setName("My manual").setMarkdownDescription("Some description");
  RuleKey ruleKey=creator.create(newRule);
  dbSession.clearCache();
  RuleDto rule=db.ruleDao().selectOrFailByKey(dbSession,ruleKey);
  assertThat(rule).isNotNull();
  assertThat(rule.getKey()).isEqualTo(RuleKey.of("manual","MANUAL_RULE"));
  assertThat(rule.getName()).isEqualTo("My manual");
  assertThat(rule.getDescription()).isEqualTo("Some description");
  assertThat(rule.getSeverityString()).isNull();
  assertThat(rule.getStatus()).isEqualTo(RuleStatus.READY);
  assertThat(rule.getLanguage()).isNull();
  assertThat(rule.getConfigKey()).isNull();
  assertThat(rule.getDefaultRemediationBaseEffort()).isNull();
  assertThat(rule.getTags()).isEmpty();
  assertThat(rule.getSystemTags()).isEmpty();
  assertThat(db.ruleDao().selectRuleParamsByRuleKey(dbSession,ruleKey)).isEmpty();
  assertThat(ruleIndex.search(new RuleQuery(),new SearchOptions()).getIds()).containsOnly(ruleKey);
}
