{
  RuleDto templateRule=createTemplateRuleWithIntArrayParam();
  NewCustomRule newRule=NewCustomRule.createForCustomRule("CUSTOM_RULE",templateRule.getKey()).setName("My custom").setHtmlDescription("Some description").setSeverity(Severity.MAJOR).setStatus(RuleStatus.READY);
  RuleKey customRuleKey=creator.create(newRule);
  dbSession.clearCache();
  List<RuleParamDto> params=db.ruleDao().selectRuleParamsByRuleKey(dbSession,customRuleKey);
  assertThat(params).hasSize(1);
  RuleParamDto param=params.get(0);
  assertThat(param.getName()).isEqualTo("myIntegers");
  assertThat(param.getDescription()).isEqualTo("My Integers");
  assertThat(param.getType()).isEqualTo("INTEGER,multiple=true,values=1;2;3");
  assertThat(param.getDefaultValue()).isNull();
}
