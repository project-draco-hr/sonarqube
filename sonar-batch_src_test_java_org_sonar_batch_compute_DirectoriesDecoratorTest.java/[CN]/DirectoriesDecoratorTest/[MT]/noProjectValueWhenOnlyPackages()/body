{
  DirectoriesDecorator decorator=new DirectoriesDecorator();
  Resource project=new Project("project");
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getChildrenMeasures(CoreMetrics.DIRECTORIES)).thenReturn(Collections.<Measure>emptyList());
  when(context.getChildrenMeasures(CoreMetrics.PACKAGES)).thenReturn(Arrays.<Measure>asList(new Measure(CoreMetrics.PACKAGES,1.0),new Measure(CoreMetrics.PACKAGES,1.0)));
  decorator.decorate(project,context);
  verify(context,never()).saveMeasure(eq(CoreMetrics.DIRECTORIES),anyDouble());
}
