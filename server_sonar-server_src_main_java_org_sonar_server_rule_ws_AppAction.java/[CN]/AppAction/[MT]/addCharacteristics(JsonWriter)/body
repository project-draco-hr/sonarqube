{
  Map<Integer,DefaultDebtCharacteristic> caracById=Maps.newHashMap();
  for (  DebtCharacteristic carac : debtModel.allCharacteristics()) {
    DefaultDebtCharacteristic fullCarac=(DefaultDebtCharacteristic)carac;
    caracById.put(fullCarac.id(),fullCarac);
  }
  json.name("characteristics").beginArray();
  for (  DefaultDebtCharacteristic carac : caracById.values()) {
    json.beginObject().prop("key",carac.key()).prop("name",carac.name());
    if (carac.isSub()) {
      json.prop("parent",caracById.get(carac.parentId()).key());
    }
    json.endObject();
  }
  json.endArray();
}
