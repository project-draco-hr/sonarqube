{
  super(Component.Type.DIRECTORY,PRE_ORDER);
  this.session=session;
  this.metricIds=FluentIterable.from(metrics).transform(MetricDtoToMetricId.INSTANCE).toSet();
  this.metricByKeys=FluentIterable.from(metrics).uniqueIndex(MetricToKey.INSTANCE);
}
