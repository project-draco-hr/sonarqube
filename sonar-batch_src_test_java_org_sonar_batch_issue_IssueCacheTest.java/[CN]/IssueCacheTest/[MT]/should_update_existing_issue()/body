{
  IssueCache cache=new IssueCache(caches);
  DefaultIssue issue=new DefaultIssue().setKey("111").setComponentKey("org.struts.Action").setSeverity(Severity.BLOCKER);
  cache.put(issue);
  issue.setSeverity(Severity.MINOR);
  cache.put(issue);
  List<DefaultIssue> issues=ImmutableList.copyOf(cache.byComponent("org.struts.Action"));
  assertThat(issues).hasSize(1);
  Issue reloaded=issues.iterator().next();
  assertThat(reloaded.key()).isEqualTo("111");
  assertThat(reloaded.severity()).isEqualTo(Severity.MINOR);
}
