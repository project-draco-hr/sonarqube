{
  Query query=getSession().createQuery("SELECT s.id FROM " + Snapshot.class.getSimpleName() + " s WHERE "+ " EXISTS (FROM "+ ResourceModel.class.getSimpleName()+ " r WHERE r.id=s.resourceId AND r.enabled=false)");
  return (List<Integer>)query.getResultList();
}
