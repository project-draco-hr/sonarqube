{
  SquidExecutor executor=new SquidExecutor(true,"LOG, logger",new MessageDispatcher(mock(SensorContext.class)),Charset.defaultCharset());
  executor.scan(SquidTestUtils.getStrutsCoreSources(),Arrays.asList(SquidTestUtils.getStrutsCoreJar()));
  assertThat(executor.isSourceScanned(),is(true));
  assertThat(executor.getSquid().getProject().getInt(Metric.LINES),greaterThan(1000));
  assertThat(executor.isBytecodeScanned(),is(true));
}
