{
  Semaphores.Semaphore lock=dao.acquire("foo",60);
  assertThat(lock.isLocked()).isTrue();
  assertThat(lock.getDurationSinceLocked()).isNull();
  SemaphoreDto semaphore=selectSemaphore("foo");
  assertThat(semaphore.getCreatedAt()).isEqualTo(semaphore.getUpdatedAt());
  Thread.sleep(1000);
  dao.update(lock);
  semaphore=selectSemaphore("foo");
  assertThat(semaphore.getCreatedAt()).isLessThan(semaphore.getUpdatedAt());
  dao.release("foo");
  assertThat(selectSemaphore("foo")).isNull();
}
