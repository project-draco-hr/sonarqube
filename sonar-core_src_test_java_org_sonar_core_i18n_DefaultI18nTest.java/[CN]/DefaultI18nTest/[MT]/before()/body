{
  initialTimezone=TimeZone.getDefault();
  TimeZone.setDefault(TimeZone.getTimeZone("UTC"));
  initialLocale=Locale.getDefault();
  Locale.setDefault(Locale.GERMAN);
  PluginRepository pluginRepository=mock(PluginRepository.class);
  List<PluginMetadata> plugins=Arrays.asList(newPlugin("sqale"),newPlugin("frpack"),newPlugin("core"),newPlugin("checkstyle"),newPlugin("other"));
  when(pluginRepository.getMetadata()).thenReturn(plugins);
  I18nClassloader i18nClassloader=new I18nClassloader(new ClassLoader[]{newCoreClassloader(),newFrenchPackClassloader(),newSqaleClassloader(),newCheckstyleClassloader()});
  manager=new DefaultI18n(pluginRepository,system2);
  manager.doStart(i18nClassloader);
}
