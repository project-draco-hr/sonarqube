{
  List<DependsUponMavenPlugin> selectedExtensions=Lists.newArrayList();
  for (  BatchExtension extension : getExtensions()) {
    if (ClassUtils.isAssignable(extension.getClass(),DependsUponMavenPlugin.class)) {
      selectedExtensions.add((DependsUponMavenPlugin)extension);
    }
  }
  List<MavenPluginHandler> handlers=Lists.newArrayList();
  for (  DependsUponMavenPlugin extension : selectedExtensions) {
    MavenPluginHandler handler=extension.getMavenPluginHandler(project);
    if (handler != null) {
      boolean ok=true;
      if (handler instanceof CheckProject) {
        ok=((CheckProject)handler).shouldExecuteOnProject(project);
      }
      if (ok) {
        handlers.add(handler);
      }
    }
  }
  return handlers;
}
