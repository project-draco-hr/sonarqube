{
  LocalNonBlockingWorkQueue queue=new LocalNonBlockingWorkQueue();
  assertThat(queue.dequeInsert(WORKING_INDEX)).isNull();
  assertThat(queue.dequeInsert(NON_WORKING_INDEX)).isNull();
  queue.enqueInsert(WORKING_INDEX,new Integer(0));
  assertThat(queue.dequeInsert(NON_WORKING_INDEX)).isNull();
  Object dequeued=queue.dequeInsert(WORKING_INDEX);
  assertThat(queue.dequeInsert(NON_WORKING_INDEX)).isNull();
  assertThat(queue.dequeInsert(WORKING_INDEX)).isNull();
  assertThat(dequeued).isEqualTo(new Integer(0));
}
