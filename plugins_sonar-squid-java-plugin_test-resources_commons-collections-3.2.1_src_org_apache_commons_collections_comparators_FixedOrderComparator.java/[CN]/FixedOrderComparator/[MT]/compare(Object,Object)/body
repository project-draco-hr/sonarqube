{
  isLocked=true;
  Integer position1=(Integer)map.get(obj1);
  Integer position2=(Integer)map.get(obj2);
  if (position1 == null || position2 == null) {
switch (unknownObjectBehavior) {
case UNKNOWN_BEFORE:
      if (position1 == null) {
        return (position2 == null) ? 0 : -1;
      }
 else {
        return 1;
      }
case UNKNOWN_AFTER:
    if (position1 == null) {
      return (position2 == null) ? 0 : 1;
    }
 else {
      return -1;
    }
case UNKNOWN_THROW_EXCEPTION:
  Object unknownObj=(position1 == null) ? obj1 : obj2;
throw new IllegalArgumentException("Attempting to compare unknown object " + unknownObj);
default :
throw new UnsupportedOperationException("Unknown unknownObjectBehavior: " + unknownObjectBehavior);
}
}
 else {
return position1.compareTo(position2);
}
}
