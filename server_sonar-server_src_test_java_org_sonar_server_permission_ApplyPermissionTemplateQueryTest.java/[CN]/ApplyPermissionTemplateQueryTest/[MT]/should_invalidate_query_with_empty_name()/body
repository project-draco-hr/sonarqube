{
  throwable.expect(BadRequestException.class);
  throwable.expectMessage("Permission template is mandatory");
  Map<String,Object> params=Maps.newHashMap();
  params.put("template_key","");
  params.put("components",Lists.newArrayList("1","2","3"));
  ApplyPermissionTemplateQuery query=ApplyPermissionTemplateQuery.buildFromParams(params);
  query.validate();
}
