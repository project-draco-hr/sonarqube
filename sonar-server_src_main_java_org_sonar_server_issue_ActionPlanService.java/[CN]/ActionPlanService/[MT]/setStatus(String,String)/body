{
  ActionPlanDto actionPlanDto=actionPlanDao.findByKey(key);
  if (actionPlanDto == null) {
    throw new IllegalArgumentException("Action plan " + key + " has not been found.");
  }
  actionPlanDto.setStatus(status);
  actionPlanDto.setCreatedAt(new Date());
  actionPlanDao.update(actionPlanDto);
  return actionPlanDto.toActionPlan();
}
