{
  periodsHolder.setPeriods();
  underTest.beforeComponent(FILE1);
  underTest.onIssue(FILE1,createIssue(null,STATUS_OPEN,BLOCKER));
  underTest.onIssue(FILE1,createIssue(RESOLUTION_FIXED,STATUS_CLOSED,MAJOR));
  underTest.onIssue(FILE1,createIssue(RESOLUTION_FALSE_POSITIVE,STATUS_RESOLVED,MAJOR));
  underTest.afterComponent(FILE1);
  underTest.beforeComponent(FILE2);
  underTest.onIssue(FILE2,createIssue(null,STATUS_CONFIRMED,BLOCKER));
  underTest.onIssue(FILE2,createIssue(null,STATUS_CONFIRMED,MAJOR));
  underTest.afterComponent(FILE2);
  underTest.beforeComponent(FILE3);
  underTest.afterComponent(FILE3);
  underTest.beforeComponent(PROJECT);
  underTest.afterComponent(PROJECT);
  assertThat(measureRepository.getRawMeasure(FILE1,ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(FILE1,OPEN_ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(FILE1,CONFIRMED_ISSUES_METRIC).get().getIntValue()).isEqualTo(0);
  assertThat(measureRepository.getRawMeasure(FILE2,ISSUES_METRIC).get().getIntValue()).isEqualTo(2);
  assertThat(measureRepository.getRawMeasure(FILE2,OPEN_ISSUES_METRIC).get().getIntValue()).isEqualTo(0);
  assertThat(measureRepository.getRawMeasure(FILE2,CONFIRMED_ISSUES_METRIC).get().getIntValue()).isEqualTo(2);
  assertThat(measureRepository.getRawMeasure(FILE3,ISSUES_METRIC).get().getIntValue()).isEqualTo(0);
  assertThat(measureRepository.getRawMeasure(PROJECT,ISSUES_METRIC).get().getIntValue()).isEqualTo(3);
  assertThat(measureRepository.getRawMeasure(PROJECT,OPEN_ISSUES_METRIC).get().getIntValue()).isEqualTo(1);
  assertThat(measureRepository.getRawMeasure(PROJECT,CONFIRMED_ISSUES_METRIC).get().getIntValue()).isEqualTo(2);
}
