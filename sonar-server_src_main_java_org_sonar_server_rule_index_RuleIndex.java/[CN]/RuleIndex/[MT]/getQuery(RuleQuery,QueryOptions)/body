{
  QueryBuilder qb;
  if (query.getQueryText() != null && !query.getQueryText().isEmpty()) {
    qb=QueryBuilders.multiMatchQuery(query.getQueryText(),RuleNormalizer.RuleField.NAME.field(),RuleNormalizer.RuleField.NAME.field() + "." + IndexField.SEARCH_PARTIAL_SUFFIX,RuleNormalizer.RuleField.NAME.field() + "." + IndexField.SEARCH_WORDS_SUFFIX,RuleNormalizer.RuleField.HTML_DESCRIPTION.field(),RuleNormalizer.RuleField.HTML_DESCRIPTION.field() + "." + IndexField.SEARCH_WORDS_SUFFIX,RuleNormalizer.RuleField.KEY.field(),RuleNormalizer.RuleField.KEY.field() + "." + IndexField.SEARCH_PARTIAL_SUFFIX,RuleNormalizer.RuleField.KEY.field() + "." + IndexField.SEARCH_WORDS_SUFFIX,RuleNormalizer.RuleField.LANGUAGE.field(),RuleNormalizer.RuleField.CHARACTERISTIC.field(),RuleNormalizer.RuleField.CHARACTERISTIC.field() + "." + IndexField.SEARCH_PARTIAL_SUFFIX,RuleNormalizer.RuleField.CHARACTERISTIC.field() + "." + IndexField.SEARCH_WORDS_SUFFIX,RuleNormalizer.RuleField.SUB_CHARACTERISTIC.field(),RuleNormalizer.RuleField.SUB_CHARACTERISTIC.field() + "." + IndexField.SEARCH_PARTIAL_SUFFIX,RuleNormalizer.RuleField.SUB_CHARACTERISTIC.field() + "." + IndexField.SEARCH_WORDS_SUFFIX,RuleNormalizer.RuleField._TAGS.field(),RuleNormalizer.RuleField._TAGS.field() + "." + IndexField.SEARCH_PARTIAL_SUFFIX,RuleNormalizer.RuleField._TAGS.field() + "." + IndexField.SEARCH_WORDS_SUFFIX);
  }
 else {
    qb=QueryBuilders.matchAllQuery();
  }
  return qb;
}
