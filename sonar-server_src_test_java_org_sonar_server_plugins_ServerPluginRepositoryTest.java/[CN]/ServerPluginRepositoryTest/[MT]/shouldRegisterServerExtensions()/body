{
  ServerPluginRepository repository=new ServerPluginRepository();
  assertThat(repository.shouldRegisterExtension(null,"foo",FakeBatchExtension.class),is(false));
  assertThat(repository.shouldRegisterExtension(null,"foo",FakeServerExtension.class),is(true));
  assertThat(repository.shouldRegisterExtension(null,"foo",String.class),is(false));
  assertThat(repository.shouldRegisterExtension(null,"foo",new FakeBatchExtension()),is(false));
  assertThat(repository.shouldRegisterExtension(null,"foo",new FakeServerExtension()),is(true));
  assertThat(repository.shouldRegisterExtension(null,"foo","foo"),is(false));
}
