{
  ResourceDto project=mapper.selectProject(projectId);
  Set<ResourceDto> modules=Sets.newHashSet();
  if (project.getKey().contains(stringToReplace)) {
    modules.add(project);
  }
  for (  ResourceDto submodule : mapper.selectDescendantProjects(projectId)) {
    modules.addAll(collectAllModules(submodule.getId(),stringToReplace,mapper));
  }
  return modules;
}
