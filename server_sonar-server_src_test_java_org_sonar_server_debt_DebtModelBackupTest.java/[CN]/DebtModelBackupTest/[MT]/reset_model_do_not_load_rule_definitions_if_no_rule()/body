{
  when(ruleDao.selectEnabledAndNonManual(session)).thenReturn(Collections.<RuleDto>emptyList());
  underTest.reset();
  verify(ruleDao).selectEnabledAndNonManual(session);
  verify(ruleDao,never()).update(eq(session),any(RuleDto.class));
  verifyZeroInteractions(defLoader);
  verify(session).commit();
  verify(ruleIndexer).index();
}
