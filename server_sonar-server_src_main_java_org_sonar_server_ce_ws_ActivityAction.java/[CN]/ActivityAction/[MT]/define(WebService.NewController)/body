{
  WebService.NewAction action=controller.createAction("activity").setDescription(format("Search for tasks.<br> " + "Requires the system administration permission, " + "or project administration permission if %s is set.<br/>"+ "Since 5.5, it's no more possible to specify the page parameter.<br/>"+ "Since 6.1, field \"logs\" is deprecated and its value will always be false",PARAM_COMPONENT_ID)).setResponseExample(getClass().getResource("activity-example.json")).setHandler(this).setSince("5.2");
  action.createParam(PARAM_COMPONENT_ID).setDescription("Id of the component (project) to filter on").setExampleValue(Uuids.UUID_EXAMPLE_03);
  action.createParam(PARAM_COMPONENT_QUERY).setDescription(format("Limit search to: <ul>" + "<li>component names that contain the supplied string</li>" + "<li>component keys that are exactly the same as the supplied string</li>"+ "</ul>"+ "Must not be set together with %s.<br />"+ "Deprecated and replaced by '%s'",PARAM_COMPONENT_ID,Param.TEXT_QUERY)).setExampleValue("Apache").setDeprecatedSince("5.5");
  action.createParam(Param.TEXT_QUERY).setDescription(format("Limit search to: <ul>" + "<li>component names that contain the supplied string</li>" + "<li>component keys that are exactly the same as the supplied string</li>"+ "<li>task ids that are exactly the same as the supplied string</li>"+ "</ul>"+ "Must not be set together with %s",PARAM_COMPONENT_ID)).setExampleValue("Apache").setSince("5.5");
  action.createParam(PARAM_STATUS).setDescription("Comma separated list of task statuses").setPossibleValues(ImmutableList.builder().add(CeActivityDto.Status.values()).add(CeQueueDto.Status.values()).build()).setExampleValue(Joiner.on(",").join(CeQueueDto.Status.IN_PROGRESS,CeActivityDto.Status.SUCCESS)).setDefaultValue(Joiner.on(",").join(CeActivityDto.Status.values()));
  action.createParam(PARAM_ONLY_CURRENTS).setDescription("Filter on the last tasks (only the most recent finished task by project)").setBooleanPossibleValues().setDefaultValue("false");
  action.createParam(PARAM_TYPE).setDescription("Task type").setExampleValue(CeTaskTypes.REPORT).setPossibleValues(taskTypes);
  action.createParam(PARAM_MIN_SUBMITTED_AT).setDescription("Minimum date of task submission (inclusive)").setExampleValue(DateUtils.formatDateTime(new Date()));
  action.createParam(PARAM_MAX_EXECUTED_AT).setDescription("Maximum date of end of task processing (inclusive)").setExampleValue(DateUtils.formatDateTime(new Date()));
  action.createParam(Param.PAGE).setDescription("Deprecated parameter").setDeprecatedSince("5.5").setDeprecatedKey("pageIndex");
  action.addPageSize(100,MAX_PAGE_SIZE);
}
