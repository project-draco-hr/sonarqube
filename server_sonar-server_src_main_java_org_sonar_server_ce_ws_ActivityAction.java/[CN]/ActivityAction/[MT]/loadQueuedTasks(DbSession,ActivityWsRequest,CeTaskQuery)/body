{
  int total=dbClient.ceQueueDao().countByQuery(dbSession,query);
  List<CeQueueDto> dtos=dbClient.ceQueueDao().selectByQueryInDescOrder(dbSession,query,Paging.forPageIndex(request.getPage()).withPageSize(request.getPageSize()).andTotal(total));
  Iterable<WsCe.Task> tasks=formatter.formatQueue(dbSession,dtos);
  return new TaskResult(tasks,total);
}
