{
  userSessionRule.login("john").setGlobalPermissions(GlobalPermissions.PROVISIONING);
  String key=service.create(NewComponent.create("struts","Struts project"));
  ComponentDto project=service.getNullableByKey(key);
  assertThat(project.key()).isEqualTo("struts");
  assertThat(project.deprecatedKey()).isEqualTo("struts");
  assertThat(project.uuid()).isNotNull();
  assertThat(project.projectUuid()).isEqualTo(project.uuid());
  assertThat(project.moduleUuid()).isNull();
  assertThat(project.moduleUuidPath()).isEqualTo("." + project.uuid() + ".");
  assertThat(project.name()).isEqualTo("Struts project");
  assertThat(project.longName()).isEqualTo("Struts project");
  assertThat(project.scope()).isEqualTo("PRJ");
  assertThat(project.qualifier()).isEqualTo("TRK");
  assertThat(project.getCreatedAt()).isNotNull();
}
