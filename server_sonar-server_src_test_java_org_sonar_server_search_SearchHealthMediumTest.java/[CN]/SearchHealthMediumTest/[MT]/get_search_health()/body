{
  SearchHealth health=tester.get(SearchHealth.class);
  Date now=new Date();
  NodeHealth nodeHealth=health.getNodeHealth();
  assertThat(nodeHealth.isClusterAvailable()).isTrue();
  assertThat(nodeHealth.getJvmHeapUsedPercent()).contains("%");
  assertThat(nodeHealth.getFsUsedPercent()).contains("%");
  assertThat(nodeHealth.getJvmThreads()).isGreaterThanOrEqualTo(0L);
  assertThat(nodeHealth.getProcessCpuPercent()).contains("%");
  assertThat(nodeHealth.getOpenFiles()).isGreaterThanOrEqualTo(0L);
  assertThat(nodeHealth.getJvmUpSince().before(now)).isTrue();
  Map<String,IndexHealth> indexHealth=health.getIndexHealth();
  assertThat(indexHealth).isNotEmpty();
  for (  IndexHealth index : indexHealth.values()) {
    assertThat(index.getDocumentCount()).isGreaterThanOrEqualTo(0L);
    assertThat(index.getLastSynchronization().before(now)).isTrue();
    assertThat(index.isOptimized()).isIn(true,false);
  }
}
