{
  dbTester.prepareDbUnit(getClass(),"extract_directory_path.xml");
  IssueResultSetIterator it=IssueResultSetIterator.create(client,connection,0L);
  Map<String,IssueDoc> issuesByKey=Maps.uniqueIndex(it,new Function<IssueDoc,String>(){
    @Override public String apply(    IssueDoc issue){
      return issue.key();
    }
  }
);
  it.close();
  assertThat(issuesByKey).hasSize(3);
  assertThat(issuesByKey.get("ABC").directoryPath()).isEqualTo("src/main/java");
  assertThat(issuesByKey.get("DEF").directoryPath()).isEqualTo("/");
  assertThat(issuesByKey.get("EFG").directoryPath()).isNull();
}
