{
  final Table<Long,String,Integer> userCountByTemplateIdAndPermission=TreeBasedTable.create();
  dbClient.permissionTemplateDao().groupsCountByTemplateIdAndPermission(dbSession,templateIds,new ResultHandler(){
    @Override public void handleResult(    ResultContext context){
      CountByTemplateAndPermissionDto row=(CountByTemplateAndPermissionDto)context.getResultObject();
      userCountByTemplateIdAndPermission.put(row.getTemplateId(),row.getPermission(),row.getCount());
    }
  }
);
  return userCountByTemplateIdAndPermission;
}
