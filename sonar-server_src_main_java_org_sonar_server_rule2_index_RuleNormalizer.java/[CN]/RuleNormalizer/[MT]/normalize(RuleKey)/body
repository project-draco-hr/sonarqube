{
  DbSession dbSession=db.openSession(false);
  List<UpdateRequest> requests=new ArrayList<UpdateRequest>();
  try {
    requests.addAll(normalize(db.ruleDao().getByKey(key,dbSession)));
    for (    RuleParamDto param : db.ruleDao().findRuleParamsByRuleKey(key,dbSession)) {
      requests.addAll(normalize(param,key));
    }
  }
  finally {
    dbSession.close();
  }
  return requests;
}
