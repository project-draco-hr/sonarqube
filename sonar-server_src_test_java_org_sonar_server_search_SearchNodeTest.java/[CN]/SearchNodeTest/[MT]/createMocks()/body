{
  tempFolder=mock(TempFolder.class);
  when(tempFolder.newDir("es")).thenReturn(mock(File.class));
  settings=mock(Settings.class);
  settingsBuilder=mock(ImmutableSettings.Builder.class);
  when(settingsBuilder.put(anyString(),anyString())).thenReturn(settingsBuilder);
  when(settingsBuilder.put(anyString(),anyInt())).thenReturn(settingsBuilder);
  nodeBuilder=mock(NodeBuilder.class);
  when(nodeBuilder.local(anyBoolean())).thenReturn(nodeBuilder);
  when(nodeBuilder.clusterName(anyString())).thenReturn(nodeBuilder);
  when(nodeBuilder.settings(settingsBuilder)).thenReturn(nodeBuilder);
  searchNode=new SearchNode(tempFolder,settings,settingsBuilder,nodeBuilder);
}
