{
  Date createdAt=DateUtils.addDays(new Date(),-5);
  Date updatedAt=DateUtils.addDays(new Date(),-3);
  Date closedAt=DateUtils.addDays(new Date(),-1);
  IssueDto dto=new IssueDto().setKee("100").setRuleId(1).setRuleKey("squid","AvoidCycle").setLanguage("xoo").setComponentKey("org.sonar.sample:Sample").setComponentUuid("CDEF").setProjectUuid("GHIJ").setModuleUuid("BCDE").setModuleUuidPath("ABCD.BCDE.").setProjectKey("org.sonar.sample").setStatus(Issue.STATUS_CLOSED).setResolution(Issue.RESOLUTION_FALSE_POSITIVE).setEffortToFix(15.0).setDebt(10L).setLine(6).setSeverity("BLOCKER").setMessage("message").setManualSeverity(true).setReporter("arthur").setAssignee("perceval").setIssueAttributes("key=value").setAuthorLogin("pierre").setIssueCreationDate(createdAt).setIssueUpdateDate(updatedAt).setIssueCloseDate(closedAt);
  DefaultIssue issue=dto.toDefaultIssue();
  assertThat(issue.key()).isEqualTo("100");
  assertThat(issue.ruleKey().toString()).isEqualTo("squid:AvoidCycle");
  assertThat(issue.language()).isEqualTo("xoo");
  assertThat(issue.componentUuid()).isEqualTo("CDEF");
  assertThat(issue.projectUuid()).isEqualTo("GHIJ");
  assertThat(issue.componentKey()).isEqualTo("org.sonar.sample:Sample");
  assertThat(issue.moduleUuid()).isEqualTo("BCDE");
  assertThat(issue.moduleUuidPath()).isEqualTo("ABCD.BCDE.");
  assertThat(issue.projectKey()).isEqualTo("org.sonar.sample");
  assertThat(issue.status()).isEqualTo(Issue.STATUS_CLOSED);
  assertThat(issue.resolution()).isEqualTo(Issue.RESOLUTION_FALSE_POSITIVE);
  assertThat(issue.effortToFix()).isEqualTo(15.0);
  assertThat(issue.debt()).isEqualTo(Duration.create(10L));
  assertThat(issue.line()).isEqualTo(6);
  assertThat(issue.severity()).isEqualTo("BLOCKER");
  assertThat(issue.message()).isEqualTo("message");
  assertThat(issue.manualSeverity()).isTrue();
  assertThat(issue.reporter()).isEqualTo("arthur");
  assertThat(issue.assignee()).isEqualTo("perceval");
  assertThat(issue.attribute("key")).isEqualTo("value");
  assertThat(issue.authorLogin()).isEqualTo("pierre");
  assertThat(issue.creationDate()).isEqualTo(createdAt);
  assertThat(issue.updateDate()).isEqualTo(updatedAt);
  assertThat(issue.closeDate()).isEqualTo(closedAt);
  assertThat(issue.isNew()).isFalse();
}
