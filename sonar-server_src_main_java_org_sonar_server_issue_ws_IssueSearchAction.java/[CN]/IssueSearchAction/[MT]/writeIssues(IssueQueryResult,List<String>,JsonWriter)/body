{
  json.name("issues").beginArray();
  for (  Issue i : result.issues()) {
    json.beginObject();
    DefaultIssue issue=(DefaultIssue)i;
    String actionPlanKey=issue.actionPlanKey();
    Duration debt=issue.debt();
    Date updateDate=issue.updateDate();
    Date closeDate=issue.closeDate();
    json.prop("key",issue.key()).prop("component",issue.componentKey()).prop("project",issue.projectKey()).prop("rule",issue.ruleKey().toString()).prop("status",issue.status()).prop("resolution",issue.resolution()).prop("severity",issue.severity()).prop("message",issue.message()).prop("line",issue.line()).prop("debt",debt != null ? durations.encode(debt) : null).prop("reporter",issue.reporter()).prop("assignee",issue.assignee()).prop("author",issue.authorLogin()).prop("actionPlan",actionPlanKey).prop("creationDate",DateUtils.formatDateTime(issue.creationDate())).prop("updateDate",updateDate != null ? DateUtils.formatDateTime(updateDate) : null).prop("fUpdateAge",formatAgeDate(updateDate)).prop("closeDate",closeDate != null ? DateUtils.formatDateTime(closeDate) : null);
    writeIssueComments(issue,json);
    writeIssueAttributes(issue,json);
    writeIssueExtraFields(result,issue,extraFields,json);
    json.endObject();
  }
  json.endArray();
}
