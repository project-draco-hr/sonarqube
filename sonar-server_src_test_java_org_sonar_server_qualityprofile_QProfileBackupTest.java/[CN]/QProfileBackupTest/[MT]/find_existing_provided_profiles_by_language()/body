{
  RulesProfile rulesProfile1=RulesProfile.create("Basic","java");
  ProfileDefinition profileDefinition1=mock(ProfileDefinition.class);
  when(profileDefinition1.createProfile(any(ValidationMessages.class))).thenReturn(rulesProfile1);
  definitions.add(profileDefinition1);
  RulesProfile rulesProfile2=RulesProfile.create("Basic","java");
  ProfileDefinition profileDefinition2=mock(ProfileDefinition.class);
  when(profileDefinition2.createProfile(any(ValidationMessages.class))).thenReturn(rulesProfile2);
  definitions.add(profileDefinition2);
  RulesProfile rulesProfile3=RulesProfile.create("Default","java");
  ProfileDefinition profileDefinition3=mock(ProfileDefinition.class);
  when(profileDefinition3.createProfile(any(ValidationMessages.class))).thenReturn(rulesProfile3);
  definitions.add(profileDefinition3);
  when(qProfileLookup.profile("Basic","java")).thenReturn(new QProfile().setId(1).setName("Basic").setLanguage("java"));
  assertThat(backup.findExistingProvidedProfileNamesByLanguage("java")).containsOnly("Basic");
}
