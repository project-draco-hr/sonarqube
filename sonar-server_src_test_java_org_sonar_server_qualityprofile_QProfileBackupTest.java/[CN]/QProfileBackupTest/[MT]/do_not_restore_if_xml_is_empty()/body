{
  when(xmlProfileParser.parse(any(Reader.class),any(ValidationMessages.class))).thenReturn(null);
  when(hibernateSession.getSingleResult(any(Class.class),eq("name"),eq("Default"),eq("language"),eq("java"))).thenReturn(null);
  when(qProfileLookup.profile(anyInt())).thenReturn(new QProfile().setId(1));
  QProfileBackup.Result result=backup.restore("<xml/>",false,userSession);
  assertThat(result.profile()).isNull();
  verify(hibernateSession,never()).saveWithoutFlush(any(RulesProfile.class));
  verifyZeroInteractions(ruleRegistry);
  verifyZeroInteractions(dryRunCache);
}
