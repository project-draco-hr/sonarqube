{
  Measure measureModuleA=new Measure(CoreMetrics.QUALITY_PROFILES,"[" + JAVA_JSON + "]");
  Measure measureModuleB=new Measure(CoreMetrics.QUALITY_PROFILES,"[" + JAVA2_JSON + "]");
  when(decoratorContext.getChildrenMeasures(CoreMetrics.QUALITY_PROFILES)).thenReturn(Arrays.asList(measureModuleA,measureModuleB));
  when(project.getScope()).thenReturn(Scopes.PROJECT);
  QProfileDecorator decorator=new QProfileDecorator();
  decorator.decorate(project,decoratorContext);
  verify(decoratorContext).saveMeasure(argThat(new IsMeasure(CoreMetrics.QUALITY_PROFILES,"[" + JAVA_JSON + ","+ JAVA2_JSON+ "]")));
}
