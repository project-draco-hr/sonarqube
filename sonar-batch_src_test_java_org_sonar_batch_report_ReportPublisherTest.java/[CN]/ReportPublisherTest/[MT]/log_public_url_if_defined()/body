{
  settings.setProperty(CoreProperties.SERVER_BASE_URL,"https://publicserver/sonarqube");
  ReportPublisher underTest=new ReportPublisher(settings,wsClient,contextPublisher,reactor,mode,mock(TempFolder.class),new ReportPublisherStep[0]);
  underTest.logSuccess("TASK-123");
  assertThat(logTester.logs(LoggerLevel.INFO)).contains("ANALYSIS SUCCESSFUL, you can browse https://publicserver/sonarqube/dashboard/index/struts").contains("More about the report processing at https://publicserver/sonarqube/api/ce/task?id=TASK-123");
  File detailsFile=new File(temp.getRoot(),"analysis-details.json");
  JsonAssert.assertJson(readFileToString(detailsFile)).isSimilarTo("{" + "\"projectKey\": \"struts\"," + "\"dashboardUrl\": \"https://publicserver/sonarqube/dashboard/index/struts\","+ "\"ceTaskId\": \"TASK-123\","+ "\"ceTaskUrl\": \"https://publicserver/sonarqube/api/ce/task?id=TASK-123\""+ "}");
}
