{
  Logger logger=mock(Logger.class);
  AtomicLong counter=new AtomicLong(42L);
  ProgressLogger progress=new ProgressLogger("ProgressLoggerTest",counter,logger);
  progress.setPeriodMs(1L);
  progress.start();
  Thread.sleep(20L);
  progress.stop();
  verify(logger,atLeast(1)).info("42 rows processed");
  counter.incrementAndGet();
  progress.log();
  verify(logger).info("43 rows processed");
}
