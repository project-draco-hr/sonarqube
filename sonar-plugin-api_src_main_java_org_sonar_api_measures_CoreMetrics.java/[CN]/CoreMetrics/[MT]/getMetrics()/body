{
  if (metrics.isEmpty()) {
    for (    Field field : CoreMetrics.class.getFields()) {
      if (Metric.class.isAssignableFrom(field.getType())) {
        try {
          metrics.add((Metric)field.get(null));
        }
 catch (        IllegalAccessException e) {
          throw new SonarException("can not load metrics from " + CoreMetrics.class.getSimpleName(),e);
        }
      }
    }
  }
  return metrics;
}
