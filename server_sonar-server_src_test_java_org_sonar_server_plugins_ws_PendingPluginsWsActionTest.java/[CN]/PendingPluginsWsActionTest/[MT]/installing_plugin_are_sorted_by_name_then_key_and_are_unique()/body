{
  when(pluginDownloader.getDownloadedPlugins()).thenReturn(of(PLUGIN_2_2,PLUGIN_2_1,PLUGIN_2_2,PLUGIN_0_0));
  underTest.handle(request,response);
  assertJson(response.outputAsString()).setStrictArrayOrder(true).isSimilarTo("{" + "  \"installing\": " + "  ["+ "    {"+ "      \"key\": \"key0\","+ "      \"name\": \"name0\","+ "    },"+ "    {"+ "      \"key\": \"key1\","+ "      \"name\": \"name2\","+ "    },"+ "    {"+ "      \"key\": \"key2\","+ "      \"name\": \"name2\","+ "    }"+ "  ],"+ "  \"removing\": []"+ "}");
}
