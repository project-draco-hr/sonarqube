{
  assertThat(request.setParam("a_datetime","2014-05-27T15:50:45+0100").paramAsDateTime("a_datetime")).isEqualTo(DateUtils.parseDateTime("2014-05-27T15:50:45+0100"));
  assertThat(request.setParam("a_datetime","2014-05-27").paramAsDateTime("a_datetime")).isEqualTo(DateUtils.parseDate("2014-05-27"));
  try {
    request.setParam("a_datetime","polop").paramAsDateTime("a_datetime");
  }
 catch (  SonarException error) {
    assertThat(error.getMessage()).isEqualTo("'polop' cannot be parsed as either a date or date+time");
  }
}
