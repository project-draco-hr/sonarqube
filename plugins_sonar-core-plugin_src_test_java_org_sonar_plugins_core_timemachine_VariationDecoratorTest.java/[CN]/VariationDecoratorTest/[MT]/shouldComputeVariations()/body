{
  TimeMachineConfiguration conf=mock(TimeMachineConfiguration.class);
  when(conf.isFileVariationEnabled()).thenReturn(false);
  VariationDecorator decorator=new VariationDecorator(mock(PastMeasuresLoader.class),mock(MetricFinder.class),conf);
  assertThat(decorator.shouldComputeVariation(CoreProperties.TIMEMACHINE_MODE_PREVIOUS_ANALYSIS,new Project("foo")),is(true));
  assertThat(decorator.shouldComputeVariation(CoreProperties.TIMEMACHINE_MODE_DATE,new Project("foo")),is(true));
}
