{
  TokenQueue tokenQueue=spy(new TokenQueue(Arrays.asList(new Token("a",1,1))));
  TokenMatcher matcher=spy(new AnyTokenMatcher());
  StatementChannel channel=StatementChannel.create(matcher);
  List<Statement> output=mock(List.class);
  assertThat(channel.consume(tokenQueue,output),is(true));
  verify(matcher).matchToken(Matchers.eq(tokenQueue),Matchers.anyList());
  verifyNoMoreInteractions(matcher);
  verify(output).add(Matchers.any(Statement.class));
  verifyNoMoreInteractions(output);
}
