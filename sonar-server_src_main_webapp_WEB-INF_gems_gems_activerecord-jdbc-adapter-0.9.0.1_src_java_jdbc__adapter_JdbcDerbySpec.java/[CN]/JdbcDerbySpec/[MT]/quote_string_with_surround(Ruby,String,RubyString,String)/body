{
  ByteList input=string.getByteList();
  ByteList output=new ByteList(before.getBytes());
  for (int i=input.begin; i < input.begin + input.realSize; i++) {
switch (input.bytes[i]) {
case '\'':
      output.append(input.bytes[i]);
default :
    output.append(input.bytes[i]);
}
}
output.append(after.getBytes());
return runtime.newStringShared(output);
}
