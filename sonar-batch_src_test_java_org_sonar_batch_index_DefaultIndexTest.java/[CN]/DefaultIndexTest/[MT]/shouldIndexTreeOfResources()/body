{
  Directory directory=new Directory("org/foo");
  File file=new File("org/foo/Bar.java");
  file.setLanguage(Java.INSTANCE);
  assertThat(index.index(directory),is(true));
  assertThat(index.index(file,directory),is(true));
  File fileRef=new File("org/foo/Bar.java");
  assertThat(index.getResource(fileRef).getKey(),is("org/foo/Bar.java"));
  assertThat(index.getResource(fileRef).getLanguage(),is((Language)Java.INSTANCE));
  assertThat(index.isIndexed(fileRef,true),is(true));
  assertThat(index.isExcluded(fileRef),is(false));
  assertThat(index.getChildren(fileRef).size(),is(0));
  assertThat(index.getParent(fileRef),is(Directory.class));
}
