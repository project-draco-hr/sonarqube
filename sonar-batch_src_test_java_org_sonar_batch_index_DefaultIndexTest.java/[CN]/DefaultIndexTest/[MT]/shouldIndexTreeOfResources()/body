{
  Directory directory=new Directory("org/foo");
  File file=new File("org/foo/Bar.java");
  file.setLanguage(Java.INSTANCE);
  assertThat(index.index(directory)).isTrue();
  assertThat(index.index(file,directory)).isTrue();
  File fileRef=new File("org/foo/Bar.java");
  assertThat(index.getResource(fileRef).getKey()).isEqualTo("org/foo/Bar.java");
  assertThat(index.getResource(fileRef).getLanguage().getKey()).isEqualTo("java");
  assertThat(index.isIndexed(fileRef,true)).isTrue();
  assertThat(index.isExcluded(fileRef)).isFalse();
  assertThat(index.getChildren(fileRef)).isEmpty();
  assertThat(index.getParent(fileRef)).isInstanceOf(Directory.class);
}
