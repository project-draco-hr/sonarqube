{
  InputStream response=loadResource("active_rule_search.protobuf");
  when(ws.loadStream(anyString())).thenReturn(new WSLoaderResult<InputStream>(response,false));
  Collection<Rule> activeRules=loader.load("java-sonar-way-26368",null);
  assertThat(activeRules).hasSize(100);
  verify(ws).loadStream("/api/rules/search?f=repo,name,severity,lang,internalKey,templateKey&qprofile=java-sonar-way-26368");
  verifyNoMoreInteractions(ws);
}
