{
  when(permissionDao.selectGroups(any(PermissionQuery.class),anyLong())).thenReturn(newArrayList(new GroupWithPermissionDto().setName("Anyone").setPermission("user"),new GroupWithPermissionDto().setName("Admin").setPermission("user"),new GroupWithPermissionDto().setName("Users").setPermission(null),new GroupWithPermissionDto().setName("Reviewers").setPermission(null),new GroupWithPermissionDto().setName("Other").setPermission(null)));
  assertThat(underTest.findGroupsWithPermission(PermissionQuery.builder().permission("user").membership(PermissionQuery.IN).build()).groups()).hasSize(2);
  assertThat(underTest.findGroupsWithPermission(PermissionQuery.builder().permission("user").membership(PermissionQuery.OUT).build()).groups()).hasSize(3);
  assertThat(underTest.findGroupsWithPermission(PermissionQuery.builder().permission("user").membership(PermissionQuery.ANY).build()).groups()).hasSize(5);
}
