{
  BulkIndexer bulk=new BulkIndexer(es.client(),SourceLineIndexDefinition.INDEX_SOURCE_LINES);
  SourceLineDoc line1=new SourceLineDoc(ImmutableMap.<String,Object>builder().put(SourceLineIndexDefinition.FIELD_PROJECT_UUID,"abcd").put(SourceLineIndexDefinition.FIELD_FILE_UUID,"efgh").put(SourceLineIndexDefinition.FIELD_LINE,42).put(SourceLineIndexDefinition.FIELD_SCM_REVISION,"cafebabe").put(SourceLineIndexDefinition.FIELD_SCM_DATE,"2014-01-01T12:34:56.7+0100").put(SourceLineIndexDefinition.FIELD_SCM_AUTHOR,"polop").put(SourceLineIndexDefinition.FIELD_SOURCE,"package org.sonar.server.source;").put(BaseNormalizer.UPDATED_AT_FIELD,new Date()).build());
  Collection<SourceLineDoc> sourceLines=ImmutableList.of(line1);
  List<Collection<SourceLineDoc>> sourceLineContainer=Lists.newArrayList();
  sourceLineContainer.add(sourceLines);
  indexer.indexSourceLines(bulk,sourceLineContainer.iterator());
}
