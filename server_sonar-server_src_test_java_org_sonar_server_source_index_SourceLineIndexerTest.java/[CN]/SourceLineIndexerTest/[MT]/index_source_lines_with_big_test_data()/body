{
  Integer bigValue=Short.MAX_VALUE * 2;
  DbFileSources.Data.Builder dataBuilder=DbFileSources.Data.newBuilder();
  dataBuilder.addLinesBuilder().setLine(1).setScmRevision("cafebabe").setScmAuthor("polop").setScmDate(DateUtils.parseDateTime("2014-01-01T12:34:56+0100").getTime()).setSource("package org.sonar.server.source;").setUtLineHits(bigValue).setUtConditions(bigValue).setUtCoveredConditions(bigValue).setItLineHits(bigValue).setItConditions(bigValue).setItCoveredConditions(bigValue).setOverallLineHits(bigValue).setOverallConditions(bigValue).setOverallCoveredConditions(bigValue).build();
  FileSourcesUpdaterHelper.Row row=SourceLineResultSetIterator.toRow("P1","F1",new Date(),dataBuilder.build());
  indexer.index(Iterators.singletonIterator(row));
  List<SearchHit> hits=getDocuments();
  assertThat(hits).hasSize(1);
  Map<String,Object> document=hits.get(0).getSource();
  assertThat(document.get(FIELD_UT_LINE_HITS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_UT_CONDITIONS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_UT_COVERED_CONDITIONS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_IT_LINE_HITS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_IT_CONDITIONS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_IT_COVERED_CONDITIONS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_OVERALL_LINE_HITS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_OVERALL_CONDITIONS)).isEqualTo(bigValue);
  assertThat(document.get(FIELD_OVERALL_COVERED_CONDITIONS)).isEqualTo(bigValue);
}
