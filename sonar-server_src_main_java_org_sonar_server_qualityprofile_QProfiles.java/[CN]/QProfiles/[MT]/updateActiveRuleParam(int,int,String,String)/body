{
  String sanitizedValue=Strings.emptyToNull(value);
  QualityProfileDto qualityProfile=findNotNull(profileId);
  ActiveRuleParamDto activeRuleParam=findActiveRuleParam(activeRuleId,key);
  ActiveRuleDto activeRule=findActiveRuleNotNull(activeRuleId);
  UserSession userSession=UserSession.get();
  if (activeRuleParam == null && sanitizedValue != null) {
    activeRuleOperations.createActiveRuleParam(activeRule,key,value,userSession);
  }
 else   if (activeRuleParam != null && sanitizedValue == null) {
    activeRuleOperations.deleteActiveRuleParam(activeRule,activeRuleParam,userSession);
  }
 else   if (activeRuleParam != null) {
    activeRuleOperations.updateActiveRuleParam(activeRule,activeRuleParam,value,userSession);
  }
 else {
  }
  return activeRuleChanged(qualityProfile,activeRule);
}
