{
  Component component=mock(Component.class);
  when(component.key()).thenReturn("myComponent");
  ComponentDataCache cache=mock(ComponentDataCache.class);
  DefaultHighlightable highlightable=new DefaultHighlightable(component,cache);
  highlightable.newHighlighting().highlight(0,10,"k").highlight(20,30,"cppd").done();
  ArgumentCaptor<SyntaxHighlightingData> argCaptor=ArgumentCaptor.forClass(SyntaxHighlightingData.class);
  verify(cache).setData(eq("myComponent"),eq(SnapshotDataTypes.SYNTAX_HIGHLIGHTING),argCaptor.capture());
  assertThat(argCaptor.getValue().writeString()).isEqualTo("0,10,k;20,30,cppd;");
}
