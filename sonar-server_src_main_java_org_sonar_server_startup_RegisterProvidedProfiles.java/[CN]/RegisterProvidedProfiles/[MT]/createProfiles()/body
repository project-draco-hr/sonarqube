{
  List<RulesProfile> result=Lists.newArrayList();
  Map<String,RulesProfile> defaultProfilesByLanguage=Maps.newHashMap();
  for (  ProfileDefinition definition : definitions) {
    ValidationMessages validation=ValidationMessages.create();
    RulesProfile profile=definition.createProfile(validation);
    validation.log(LOGGER);
    if (profile != null && !validation.hasErrors()) {
      result.add(profile);
      checkIfNoMoreThanOneDefaultProfile(defaultProfilesByLanguage,profile);
    }
  }
  return result;
}
