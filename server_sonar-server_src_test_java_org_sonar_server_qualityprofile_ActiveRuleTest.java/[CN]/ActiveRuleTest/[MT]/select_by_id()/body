{
  QualityProfileDto profile=QProfileTesting.newXooP1();
  db.qualityProfileDao().insert(dbSession,profile);
  RuleDto rule=RuleDto.createFor(RuleTesting.XOO_X1).setSeverity(Severity.MAJOR);
  db.deprecatedRuleDao().insert(dbSession,rule);
  ActiveRuleDto activeRule=ActiveRuleDto.createFor(profile,rule).setSeverity("BLOCKER");
  db.activeRuleDao().insert(dbSession,activeRule);
  dbSession.commit();
  assertThat(db.activeRuleDao().selectById(dbSession,activeRule.getId()).getId()).isEqualTo(activeRule.getId());
}
