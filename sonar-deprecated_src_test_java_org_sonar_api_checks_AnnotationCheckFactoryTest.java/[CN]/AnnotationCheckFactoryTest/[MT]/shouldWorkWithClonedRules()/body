{
  RulesProfile profile=RulesProfile.create("repo","java");
  Rule rule=Rule.create("repo","CheckWithKey","");
  Rule clonedRule=Rule.create("repo","CheckWithKey_2","").setConfigKey("CheckWithKey").setTemplate(rule);
  profile.activateRule(rule,null);
  profile.activateRule(clonedRule,null);
  AnnotationCheckFactory factory=AnnotationCheckFactory.create(profile,"repo",Arrays.<Class>asList(CheckWithKey.class));
  assertThat(factory.getChecks()).doesNotContain(new Object[]{null});
}
