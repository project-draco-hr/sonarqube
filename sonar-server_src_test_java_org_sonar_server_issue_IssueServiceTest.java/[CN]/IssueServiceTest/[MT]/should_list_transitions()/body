{
  grantAccess();
  List<Transition> transitions=newArrayList(transition);
  when(workflow.outTransitions(issue)).thenReturn(transitions);
  List<Transition> result=issueService.listTransitions("ABCD",userSession);
  assertThat(result).hasSize(1);
  assertThat(result.get(0)).isEqualTo(transition);
  verify(authorizationDao).isAuthorizedComponentId(anyLong(),anyInt(),eq(UserRole.USER));
}
