{
  try {
    long now=system.now();
    SemaphoreDto semaphore=new SemaphoreDto().setName(name).setCreatedAt(now).setUpdatedAt(now).setLockedAt(lockedNow);
    mapper(session).initialize(semaphore);
    session.commit();
    return semaphore;
  }
 catch (  Exception e) {
    session.rollback();
    return null;
  }
}
