{
  if (ruleset.getRules() != null && !ruleset.getRules().isEmpty()) {
    for (    PmdRule rule : ruleset.getRules()) {
      String ref=rule.getRef();
      for (      org.sonar.api.rules.Rule dbRule : rules) {
        if (dbRule.getConfigKey().equals(ref)) {
          RulePriority rulePriority=getRulePriorityMapper().from(rule.getPriority());
          ActiveRule activeRule=new ActiveRule(null,dbRule,rulePriority);
          activeRule.setActiveRuleParams(getActiveRuleParams(rule,dbRule,activeRule));
          activeRules.add(activeRule);
          break;
        }
      }
    }
  }
}
