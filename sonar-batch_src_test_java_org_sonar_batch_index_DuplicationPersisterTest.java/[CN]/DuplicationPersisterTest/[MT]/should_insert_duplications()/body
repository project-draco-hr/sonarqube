{
  setupData("empty");
  DuplicationGroup.Block originBlock=new DuplicationGroup.Block("foo:org/foo/Bar.java",1,4);
  DuplicationGroup group=new DuplicationGroup(originBlock).addDuplicate(new DuplicationGroup.Block("foo:org/foo/Foo.java",5,9));
  when(duplicationCache.entries()).thenReturn(Arrays.<Cache.Entry<ArrayList<DuplicationGroup>>>asList(new Cache.Entry(new String[]{"foo:org/foo/Bar.java"},Arrays.asList(group))));
  duplicationPersister.persist();
  checkTables("shouldInsertDuplication","project_measures");
}
