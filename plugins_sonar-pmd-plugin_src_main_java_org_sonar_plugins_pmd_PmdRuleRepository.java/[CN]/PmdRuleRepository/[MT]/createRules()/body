{
  List<Rule> rules=new ArrayList<Rule>();
  rules.addAll(StandardRuleXmlFormat.parseXml(getClass().getResourceAsStream("/org/sonar/plugins/pmd/rules.xml")));
  for (  File userExtensionXml : fileSystem.getExtensions(PmdConstants.REPOSITORY_KEY,"xml")) {
    rules.addAll(StandardRuleXmlFormat.parseXml(userExtensionXml));
  }
  return rules;
}
