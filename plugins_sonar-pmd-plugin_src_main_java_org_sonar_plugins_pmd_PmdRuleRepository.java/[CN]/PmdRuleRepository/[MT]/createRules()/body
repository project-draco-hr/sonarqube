{
  List<Rule> rules=new ArrayList<Rule>();
  rules.addAll(XMLRuleParser.parseXML(getClass().getResourceAsStream("/org/sonar/plugins/pmd/rules.xml")));
  for (  File userExtensionXml : fileSystem.getExtensions(PmdConstants.REPOSITORY_KEY,"xml")) {
    rules.addAll(XMLRuleParser.parseXML(userExtensionXml));
  }
  return rules;
}
