{
  List<Rule> rules=Lists.newArrayList();
  rules.addAll(xmlRuleParser.parse(getClass().getResourceAsStream("/org/sonar/plugins/pmd/rules.xml")));
  for (  File userExtensionXml : fileSystem.getExtensions(PmdConstants.REPOSITORY_KEY,"xml")) {
    rules.addAll(xmlRuleParser.parse(userExtensionXml));
  }
  return rules;
}
