{
  return Collections2.transform(rules.findByRepository(query.getRepositoryKey()),new Function<org.sonar.api.batch.rule.Rule,Rule>(){
    @Override public Rule apply(    @Nonnull org.sonar.api.batch.rule.Rule input){
      return toRule(input);
    }
  }
);
}
