{
  Resource resource=mock(Resource.class);
  when(resource.getScope()).thenReturn(Resource.SCOPE_SET);
  DecoratorContext context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.NCLOC)).thenReturn(new Measure(CoreMetrics.NCLOC,0.0));
  when(context.getMeasure(CoreMetrics.WEIGHTED_VIOLATIONS)).thenReturn(new Measure(CoreMetrics.WEIGHTED_VIOLATIONS,50.0));
  ViolationsDensityDecorator decorator=new ViolationsDensityDecorator(new HashMap());
  decorator.decorate(resource,context);
  verify(context,never()).saveMeasure(eq(CoreMetrics.VIOLATIONS_DENSITY),anyDouble());
}
