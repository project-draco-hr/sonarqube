{
  when(qualityProfileDao.selectById(1)).thenReturn(new QualityProfileDto().setId(1).setName("My profile").setLanguage("java"));
  ActiveRuleDto activeRule=new ActiveRuleDto().setId(50);
  when(activeRuleDao.selectById(50)).thenReturn(activeRule);
  when(activeRuleDao.selectParamByActiveRuleAndKey(50,"max")).thenReturn(null);
  qProfiles.updateActiveRuleParam(1,50,"max","20");
  verify(service).createActiveRuleParam(eq(activeRule),eq("max"),eq("20"),any(UserSession.class));
}
