{
  when(qualityProfileDao.selectById(1)).thenReturn(new QualityProfileDto().setId(1).setName("My profile").setLanguage("java"));
  ActiveRuleDto activeRule=new ActiveRuleDto().setId(50);
  when(activeRuleDao.selectById(50)).thenReturn(activeRule);
  ActiveRuleParamDto activeRuleParam=new ActiveRuleParamDto().setId(100).setActiveRuleId(5).setKey("max").setValue("20");
  when(activeRuleDao.selectParamByActiveRuleAndKey(50,"max")).thenReturn(activeRuleParam);
  qProfiles.updateActiveRuleParam(1,50,"max","");
  verify(service).deleteActiveRuleParam(eq(activeRule),eq(activeRuleParam),any(UserSession.class));
}
