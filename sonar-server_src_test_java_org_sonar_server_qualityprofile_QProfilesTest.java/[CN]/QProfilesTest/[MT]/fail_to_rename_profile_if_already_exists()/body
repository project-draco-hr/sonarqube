{
  try {
    when(qualityProfileDao.selectById(1)).thenReturn(new QualityProfileDto().setId(1).setName("Default").setLanguage("java"));
    when(qualityProfileDao.selectByNameAndLanguage(eq("New Default"),anyString())).thenReturn(new QualityProfileDto().setName("New Default").setLanguage("java"));
    qProfiles.renameProfile(1,"New Default");
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(BadRequestException.class);
  }
}
