{
  ActiveRuleDto activeRule=new ActiveRuleDto().setId(50);
  when(activeRuleDao.selectById(50)).thenReturn(activeRule);
  RuleDto rule=new RuleDto().setId(10).setRepositoryKey("squid").setRuleKey("AvoidCycle");
  when(ruleDao.selectById(10)).thenReturn(rule);
  qProfiles.updateRuleNote(50,10,"My note");
  verify(service).updateRuleNote(eq(activeRule),eq(rule),eq("My note"),any(UserSession.class));
}
