{
  RuleDto rule=new RuleDto().setId(11).setRepositoryKey("squid").setRuleKey("XPath_1387869254");
  when(ruleDao.selectById(11)).thenReturn(rule);
  when(ruleDao.selectByName("Rule name")).thenReturn(rule);
  Map<String,String> paramsByKey=ImmutableMap.of("max","21");
  try {
    qProfiles.updateRule(11,"Rule name",Severity.MAJOR,"Updated description",paramsByKey);
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(NotFoundException.class);
  }
  verifyZeroInteractions(service);
  verifyZeroInteractions(rules);
}
