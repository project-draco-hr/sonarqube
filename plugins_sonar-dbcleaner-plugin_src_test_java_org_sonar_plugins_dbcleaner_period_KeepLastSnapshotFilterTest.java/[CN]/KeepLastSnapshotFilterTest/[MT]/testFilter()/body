{
  List<Snapshot> snapshots=Lists.newLinkedList();
  snapshots.add(createSnapshot(1,"0.1"));
  Snapshot lastSnapshot=createSnapshot(2,"0.1");
  lastSnapshot.setLast(true);
  snapshots.add(lastSnapshot);
  assertThat(new KeepLastSnapshotFilter().filter(snapshots),is(1));
  assertThat(snapshots.size(),is(1));
  assertThat(snapshots.get(0).getId(),is(1));
}
