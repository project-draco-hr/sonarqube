{
  super(CrawlerDepthLimit.FILE,ComponentVisitor.Order.PRE_ORDER);
  this.session=session;
  this.existingFileSourcesByUuid=new HashMap<>();
  this.projectUuid=treeRootHolder.getRoot().getUuid();
  this.projectKey=treeRootHolder.getRoot().getKey();
  session.select("org.sonar.db.source.FileSourceMapper.selectHashesForProject",ImmutableMap.of("projectUuid",treeRootHolder.getRoot().getUuid(),"dataType",Type.TEST),new ResultHandler(){
    @Override public void handleResult(    ResultContext context){
      FileSourceDto dto=(FileSourceDto)context.getResultObject();
      existingFileSourcesByUuid.put(dto.getFileUuid(),dto);
    }
  }
);
}
