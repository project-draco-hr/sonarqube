{
  ResourceType projectResourceType=ResourceType.builder(Qualifiers.PROJECT).build();
  when(resourceTypes.getRoots()).thenReturn(asList(projectResourceType));
  insertComponent(newView("view-uuid"));
  insertComponent(newDeveloper("developer-name"));
  insertComponent(newProjectDto("project-uuid"));
  commit();
  dataLoader=new SearchProjectPermissionsDataLoader(dbClient,new PermissionDependenciesFinder(dbClient,new ComponentFinder(dbClient)),resourceTypes);
  underTest=new SearchProjectPermissionsAction(dbClient,userSession,i18n,dataLoader);
  ws=new WsActionTester(underTest);
  String result=ws.newRequest().execute().getInput();
  assertThat(result).contains("project-uuid").doesNotContain("view-uuid").doesNotContain("developer-name");
}
