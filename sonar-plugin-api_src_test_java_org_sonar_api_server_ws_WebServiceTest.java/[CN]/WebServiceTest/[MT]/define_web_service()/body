{
  MetricWs metricWs=new MetricWs();
  metricWs.define(context);
  WebService.Controller controller=context.controller("api/metric");
  assertThat(controller).isNotNull();
  assertThat(controller.path()).isEqualTo("api/metric");
  assertThat(controller.description()).isEqualTo("Metrics");
  assertThat(controller.since()).isEqualTo("3.2");
  assertThat(controller.actions()).hasSize(2);
  assertThat(controller.isInternal()).isFalse();
  WebService.Action showAction=controller.action("show");
  assertThat(showAction).isNotNull();
  assertThat(showAction.key()).isEqualTo("show");
  assertThat(showAction.description()).isEqualTo("Show metric");
  assertThat(showAction.handler()).isNotNull();
  assertThat(showAction.responseExample()).isNull();
  assertThat(showAction.responseExampleFormat()).isNull();
  assertThat(showAction.responseExampleAsString()).isNull();
  assertThat(showAction.since()).isEqualTo("3.2");
  assertThat(showAction.isPost()).isFalse();
  assertThat(showAction.isInternal()).isFalse();
  assertThat(showAction.path()).isEqualTo("api/metric/show");
  WebService.Action createAction=controller.action("create");
  assertThat(createAction).isNotNull();
  assertThat(createAction.key()).isEqualTo("create");
  assertThat(createAction.toString()).isEqualTo("api/metric/create");
  assertThat(createAction.since()).isEqualTo("4.1");
  assertThat(createAction.isPost()).isTrue();
  assertThat(createAction.isInternal()).isTrue();
}
