{
  String index=this.getIndexName();
  IndicesExistsResponse indexExistsResponse=getClient().admin().indices().prepareExists(index).execute().actionGet();
  if (!indexExistsResponse.isExists()) {
    try {
      LOG.info("Setup of index {}",this.getIndexName());
      getClient().admin().indices().prepareCreate(index).setSettings(getIndexSettings()).addMapping(this.indexDefinition.getIndexType(),getMapping()).execute().actionGet();
    }
 catch (    Exception e) {
      throw new RuntimeException("Invalid configuration for index " + this.getIndexName(),e);
    }
  }
}
