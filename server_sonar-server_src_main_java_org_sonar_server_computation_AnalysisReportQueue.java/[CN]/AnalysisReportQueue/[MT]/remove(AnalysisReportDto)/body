{
  checkArgument(report.getStatus().isInFinalState());
  DbSession session=dbClient.openSession(false);
  try {
    report.setFinishedAt(new Date(system2.now()));
    dao.delete(session,report);
    logActivity(report,session);
    session.commit();
  }
  finally {
    MyBatis.closeQuietly(session);
  }
}
