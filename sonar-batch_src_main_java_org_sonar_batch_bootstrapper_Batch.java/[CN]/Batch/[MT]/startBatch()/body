{
  Container bootstrapModule=null;
  try {
    bootstrapModule=new BootstrapContainer(new GlobalBatchProperties(globalProperties),taskCommand,projectReactor,components.toArray(new Object[components.size()]));
    bootstrapModule.init();
    bootstrapModule.start();
  }
 catch (  RuntimeException e) {
    PicoUtils.propagateStartupException(e);
  }
 finally {
    try {
      if (bootstrapModule != null) {
        bootstrapModule.stop();
      }
    }
 catch (    Exception e) {
      LoggerFactory.getLogger(Batch.class).error("Error while stopping batch",e);
    }
  }
}
