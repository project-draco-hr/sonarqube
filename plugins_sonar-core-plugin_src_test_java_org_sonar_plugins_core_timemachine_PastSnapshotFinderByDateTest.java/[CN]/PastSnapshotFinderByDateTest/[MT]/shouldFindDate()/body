{
  setupData("shared");
  Snapshot projectSnapshot=getSession().getSingleResult(Snapshot.class,"id",1010);
  PastSnapshotFinderByDate finder=new PastSnapshotFinderByDate(projectSnapshot,getSession());
  Date date=DATE_FORMAT.parse("2008-11-22");
  PastSnapshot pastSnapshot=finder.findByDate(date);
  assertThat(pastSnapshot.getProjectSnapshotId(),is(1006));
}
