{
  Project project=mock(Project.class);
  when(project.getConfiguration()).thenReturn(new PropertiesConfiguration());
  when(project.getPom()).thenReturn(new MavenProject());
  when(project.getExclusionPatterns()).thenReturn(new String[]{"**/Foo.java","com/*Test.*","com/*"});
  MavenPlugin coberturaPlugin=new MavenPlugin(CoberturaMavenPluginHandler.GROUP_ID,CoberturaMavenPluginHandler.ARTIFACT_ID,null);
  handler.configure(project,coberturaPlugin);
  assertThat(coberturaPlugin.getParameters("instrumentation/excludes/exclude")[0],is("**/Foo.class"));
  assertThat(coberturaPlugin.getParameters("instrumentation/excludes/exclude")[1],is("com/*Test.*"));
  assertThat(coberturaPlugin.getParameters("instrumentation/excludes/exclude")[2],is("com/*.class"));
}
