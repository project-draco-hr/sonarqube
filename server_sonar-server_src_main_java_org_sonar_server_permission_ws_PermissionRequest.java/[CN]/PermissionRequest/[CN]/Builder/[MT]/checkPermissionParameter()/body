{
  if (hasProject) {
    if (!ComponentPermissions.ALL.contains(permission)) {
      throw new BadRequestException(String.format("The '%s' parameter for project permissions must be one of %s. '%s' was passed.",PARAM_PERMISSION,PROJECT_PERMISSIONS_ONE_LINE,permission));
    }
  }
 else   if (!GlobalPermissions.ALL.contains(permission)) {
    throw new BadRequestException(String.format("The '%s' parameter for global permissions must be one of %s. '%s' was passed.",PARAM_PERMISSION,GLOBAL_PERMISSIONS_ONE_LINE,permission));
  }
}
