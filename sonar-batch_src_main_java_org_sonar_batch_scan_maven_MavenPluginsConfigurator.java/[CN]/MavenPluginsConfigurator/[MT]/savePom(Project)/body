{
  MavenProject pom=project.getPom();
  if (pom != null) {
    File targetPom=new File(project.getFileSystem().getSonarWorkingDirectory(),"sonar-pom.xml");
    FileWriter fileWriter=null;
    try {
      fileWriter=new FileWriter(targetPom,false);
      pom.writeModel(fileWriter);
    }
 catch (    IOException e) {
      throw new IllegalStateException("Can not save pom to " + targetPom,e);
    }
 finally {
      IOUtils.closeQuietly(fileWriter);
    }
  }
}
