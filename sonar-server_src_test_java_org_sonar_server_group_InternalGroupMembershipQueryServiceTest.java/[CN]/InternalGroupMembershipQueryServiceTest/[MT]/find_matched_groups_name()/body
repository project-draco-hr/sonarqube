{
  setupData("shared");
  GroupMembershipQueryResult queryResult=service.find(ImmutableMap.<String,Object>of("login","user1","selected","all","query","user"));
  List<GroupMembership> result=queryResult.groups();
  assertThat(result).hasSize(1);
  check(result.get(0),"sonar-users",true);
  queryResult=service.find(ImmutableMap.<String,Object>of("login","user1","selected","all","query","sonar"));
  result=queryResult.groups();
  assertThat(result).hasSize(3);
}
