{
  setupData("empty");
  addPluginModel("java","fake-java-model.xml");
  TechnicalDebtRuleCache technicalDebtRuleCache=mock(TechnicalDebtRuleCache.class);
  Rule rule1=Rule.create("checkstyle","import","Regular expression");
  rule1.setId(1);
  when(technicalDebtRuleCache.getRule("checkstyle","import")).thenReturn(rule1);
  Rule rule2=Rule.create("checkstyle","export","Regular expression");
  rule2.setId(2);
  when(technicalDebtRuleCache.getRule("checkstyle","export")).thenReturn(rule2);
  manager.initAndMergePlugins(ValidationMessages.create(),technicalDebtRuleCache);
  getSession().commit();
  checkTables("create_model_with_requirements_from_plugin_on_first_execution",EXCLUDED_COLUMNS,"quality_models","characteristics","characteristic_edges","characteristic_properties");
}
