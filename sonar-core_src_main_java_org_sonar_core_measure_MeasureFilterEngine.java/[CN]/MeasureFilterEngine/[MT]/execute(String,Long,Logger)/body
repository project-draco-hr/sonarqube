{
  MeasureFilterContext context=new MeasureFilterContext();
  context.setJson(filterJson);
  context.setUserId(userId);
  try {
    long start=System.currentTimeMillis();
    MeasureFilter filter=decoder.decode(filterJson);
    List<MeasureFilterRow> rows=executor.execute(filter,context);
    log(context,rows,(System.currentTimeMillis() - start),logger);
    return rows;
  }
 catch (  Exception e) {
    throw new IllegalStateException("Fail to execute filter: " + context,e);
  }
}
