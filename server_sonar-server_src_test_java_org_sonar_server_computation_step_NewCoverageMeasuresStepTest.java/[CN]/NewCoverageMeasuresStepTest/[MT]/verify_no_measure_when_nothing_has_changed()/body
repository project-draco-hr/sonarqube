{
  treeRootHolder.setRoot(FILE_COMPONENT);
  reportReader.putChangesets(BatchReport.Changesets.newBuilder().setComponentRef(FILE_COMPONENT.getRef()).addChangeset(Changesets.Changeset.newBuilder().setDate(parseDate("2008-08-02").getTime()).build()).addChangesetIndexByLine(0).addChangesetIndexByLine(0).addChangesetIndexByLine(0).addChangesetIndexByLine(0).build());
  measureRepository.addRawMeasure(FILE_COMPONENT.getRef(),COVERAGE_LINE_HITS_DATA_KEY,newMeasureBuilder().create("2=1;3=1"));
  measureRepository.addRawMeasure(FILE_COMPONENT.getRef(),CONDITIONS_BY_LINE_KEY,newMeasureBuilder().create("2=1"));
  measureRepository.addRawMeasure(FILE_COMPONENT.getRef(),COVERED_CONDITIONS_BY_LINE_KEY,newMeasureBuilder().create("2=1"));
  underTest.execute();
  assertThat(measureRepository.getAddedRawMeasures(FILE_COMPONENT.getRef())).isEmpty();
}
