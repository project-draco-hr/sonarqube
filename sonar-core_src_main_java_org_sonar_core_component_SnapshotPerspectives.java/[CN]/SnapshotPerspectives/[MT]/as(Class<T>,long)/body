{
  GraphPerspectiveLoader<T> builder=(GraphPerspectiveLoader<T>)loaders.get(perspectiveClass);
  if (builder == null) {
    throw new IllegalStateException();
  }
  GraphDto graphDto=dao.selectBySnapshot(builder.getPerspectiveKey(),snapshotId);
  return doAs(builder,graphDto);
}
