{
  String baseName=System.currentTimeMillis() + "-";
  for (int counter=0; counter < TEMP_FILE_ATTEMPTS; counter++) {
    File tempFile=new File(baseDir,baseName + counter);
    if (tempFile.createNewFile()) {
      return tempFile;
    }
  }
  throw new IOException("Failed to create temporary file in " + baseDir.getAbsolutePath() + " within "+ TEMP_FILE_ATTEMPTS+ " attempts (tried "+ baseName+ "0 to "+ baseName+ (TEMP_FILE_ATTEMPTS - 1)+ ')');
}
