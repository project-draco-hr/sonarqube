{
  if (cache == null) {
    PersistentCacheBuilder builder=new PersistentCacheBuilder();
    builder.setLog(new Slf4jLog(PersistentCache.class));
    String forceUpdate=props.property("sonar.forceUpdate");
    if ("true".equals(forceUpdate)) {
      builder.forceUpdate(true);
    }
    String home=props.property("sonar.userHome");
    if (home != null) {
      builder.setSonarHome(Paths.get(home));
    }
    cache=builder.build();
  }
  return cache;
}
