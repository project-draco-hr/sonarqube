{
  componentDb.insertProjectAndSnapshot(dbSession,newProjectDto().setKey("project-_%-key"));
  db.commit();
  componentDb.indexProjects();
  ComponentQuery query=new ComponentQuery(db.database(),"project-_%-",Qualifiers.PROJECT);
  List<ComponentDto> result=underTest.selectByQuery(dbSession,query,0,10);
  assertThat(result).hasSize(1);
  assertThat(result.get(0).key()).isEqualTo("project-_%-key");
}
