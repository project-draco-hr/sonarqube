{
  RuleQuery query=ruleService.newRuleQuery();
  query.setQueryText(request.param(SearchOptions.PARAM_TEXT_QUERY));
  query.setSeverities(request.paramAsStrings(SearchAction.PARAM_SEVERITIES));
  query.setRepositories(request.paramAsStrings(SearchAction.PARAM_REPOSITORIES));
  query.setStatuses(request.paramAsEnums(SearchAction.PARAM_STATUSES,RuleStatus.class));
  query.setLanguages(request.paramAsStrings(SearchAction.PARAM_LANGUAGES));
  query.setDebtCharacteristics(request.paramAsStrings(SearchAction.PARAM_DEBT_CHARACTERISTICS));
  query.setHasDebtCharacteristic(request.paramAsBoolean(SearchAction.PARAM_HAS_DEBT_CHARACTERISTIC));
  query.setActivation(request.paramAsBoolean(SearchAction.PARAM_ACTIVATION));
  query.setQProfileKey(request.param(SearchAction.PARAM_QPROFILE));
  query.setTags(request.paramAsStrings(SearchAction.PARAM_TAGS));
  query.setAllOfTags(request.paramAsStrings(SearchAction.PARAM_ALL_OF_TAGS));
  return query;
}
