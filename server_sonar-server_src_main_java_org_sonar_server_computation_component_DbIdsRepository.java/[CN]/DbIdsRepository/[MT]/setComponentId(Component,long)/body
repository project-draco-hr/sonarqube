{
  int ref=component.getReportAttributes().getRef();
  Long existingComponentId=componentIdsByRef.get(ref);
  if (existingComponentId != null) {
    throw new IllegalArgumentException(String.format("Component ref '%s' has already a component id",ref));
  }
  componentIdsByRef.put(ref,componentId);
  return this;
}
