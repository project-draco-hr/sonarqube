{
  ceLogging.initForTask(task);
  Profiler profiler=Profiler.create(LOG).startInfo(format("Analysis of project %s (report %s)",task.getComponentKey(),task.getUuid()));
  try {
    reportTaskProcessor.process(task);
    queue.remove(task,CeActivityDto.Status.SUCCESS);
  }
 catch (  Throwable e) {
    LOG.error(format("Failed to process task %s",task.getUuid()),e);
    queue.remove(task,CeActivityDto.Status.FAILED);
  }
 finally {
    profiler.stopInfo(String.format("Total thread execution of project %s (report %s)",task.getComponentUuid(),task.getUuid()));
    ceLogging.clearForTask();
  }
}
