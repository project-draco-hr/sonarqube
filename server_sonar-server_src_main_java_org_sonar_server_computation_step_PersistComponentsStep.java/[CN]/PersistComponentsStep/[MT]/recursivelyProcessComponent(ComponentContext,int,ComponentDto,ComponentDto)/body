{
  BatchReportReader reportReader=componentContext.context.getReportReader();
  BatchReport.Component reportComponent=reportReader.readComponent(componentRef);
  ComponentDto componentDto=processComponent(componentContext,reportComponent,parentModule,project);
  dbComponentsRefCache.addComponent(componentRef,new DbComponentsRefCache.DbComponent(componentDto.getId(),componentDto.getKey(),componentDto.uuid()));
  for (  Integer childRef : reportComponent.getChildRefList()) {
    ComponentDto nextParent=!reportComponent.getType().equals(Constants.ComponentType.PROJECT) && !reportComponent.getType().equals(Constants.ComponentType.MODULE) ? parentModule : componentDto;
    ComponentDto nextProject=reportComponent.getType().equals(Constants.ComponentType.PROJECT) ? componentDto : project;
    recursivelyProcessComponent(componentContext,childRef,nextParent,nextProject);
  }
}
