{
  BatchReport.Component reportComponent=reportReader.readComponent(component.getRef());
switch (component.getType()) {
case MODULE:
    ComponentDto moduleDto=processModule(component,reportComponent,componentContext,parentModule,project.getId());
  processChildren(componentContext,component,moduleDto,project);
break;
case DIRECTORY:
processDirectory(component,reportComponent,componentContext,parentModule,project.getId());
processChildren(componentContext,component,parentModule,project);
break;
case FILE:
processFile(component,reportComponent,componentContext,parentModule,project.getId());
processChildren(componentContext,component,parentModule,project);
break;
default :
throw new IllegalStateException(String.format("Unsupported component type '%s'",component.getType()));
}
}
