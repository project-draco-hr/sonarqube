{
  ComponentDto componentDto=createComponentDto(reportComponent,file);
  componentDto.setScope(Scopes.FILE);
  componentDto.setQualifier(getFileQualifier(file));
  componentDto.setName(FilenameUtils.getName(reportComponent.getPath()));
  componentDto.setLongName(reportComponent.getPath());
  if (reportComponent.hasPath()) {
    componentDto.setPath(reportComponent.getPath());
  }
  if (reportComponent.hasLanguage()) {
    componentDto.setLanguage(reportComponent.getLanguage());
  }
  componentDto.setParentProjectId(lastModule.getId());
  componentDto.setProjectUuid(lastModule.projectUuid());
  componentDto.setModuleUuid(lastModule.uuid());
  componentDto.setModuleUuidPath(lastModule.moduleUuidPath());
  ComponentDto fileDto=persistComponent(file.getReportAttributes().getRef(),componentDto);
  addToCache(file,fileDto);
}
