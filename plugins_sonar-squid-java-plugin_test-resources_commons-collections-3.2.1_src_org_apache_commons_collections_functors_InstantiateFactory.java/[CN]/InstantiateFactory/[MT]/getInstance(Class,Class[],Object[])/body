{
  if (classToInstantiate == null) {
    throw new IllegalArgumentException("Class to instantiate must not be null");
  }
  if (((paramTypes == null) && (args != null)) || ((paramTypes != null) && (args == null)) || ((paramTypes != null) && (args != null) && (paramTypes.length != args.length))) {
    throw new IllegalArgumentException("Parameter types must match the arguments");
  }
  if (paramTypes == null || paramTypes.length == 0) {
    return new InstantiateFactory(classToInstantiate);
  }
 else {
    paramTypes=(Class[])paramTypes.clone();
    args=(Object[])args.clone();
    return new InstantiateFactory(classToInstantiate,paramTypes,args);
  }
}
