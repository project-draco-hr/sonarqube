{
  MockUserSession.set().setGlobalPermissions(GlobalPermissions.QUALITY_PROFILE_ADMIN).setLogin("david");
  tester.get(ActivityService.class).save(ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of(XOO_P1_KEY,RuleTesting.XOO_X1)).setSeverity(Severity.MAJOR).setParameter("max","10").toActivity());
  tester.get(ActivityService.class).save(ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of(XOO_P1_KEY,RuleTesting.XOO_X1)).setSeverity(Severity.CRITICAL).setParameter("max","20").toActivity());
  wsTester.newGetRequest(QProfilesWs.API_ENDPOINT,"changelog").setParam("profileKey",XOO_P1_KEY).setParam("ps","1").execute().assertJson(getClass(),"changelog_page1.json");
  wsTester.newGetRequest(QProfilesWs.API_ENDPOINT,"changelog").setParam("profileKey",XOO_P1_KEY).setParam("ps","1").setParam("p","2").execute().assertJson(getClass(),"changelog_page2.json");
  wsTester.newGetRequest(QProfilesWs.API_ENDPOINT,"changelog").setParam("profileKey",XOO_P1_KEY).setParam("ps","1").setParam("p","3").execute().assertJson(getClass(),"changelog_page3.json");
}
