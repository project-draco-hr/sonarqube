{
  try (DbSession dbSession=dbClient.openSession(false)){
    MetricDto metricDto=dbClient.metricDao().selectNullableById(dbSession,id);
    if (metricDto == null) {
      throw new IllegalStateException(String.format("Metric with id '%s' does not exist",id));
    }
    return toMetric(metricDto);
  }
 }
