{
  int remainingSystemAdmins=roleDao.countSystemAdministrators(permissionChangeQuery.getGroup());
  if (remainingSystemAdmins == 0) {
    String errorMsg=String.format("Cannot remove permission %s to %s - At least one system administrator should remain active",permissionChangeQuery.getRole(),permissionChangeQuery.getUser() == null ? permissionChangeQuery.getGroup() : permissionChangeQuery.getUser());
    LOG.error(errorMsg);
    throw new BadRequestException(errorMsg);
  }
}
