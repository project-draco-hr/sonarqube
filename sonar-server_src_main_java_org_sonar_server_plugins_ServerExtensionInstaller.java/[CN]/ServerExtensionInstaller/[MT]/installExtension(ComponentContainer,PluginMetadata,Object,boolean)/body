{
  if (isType(extension,ServerExtension.class)) {
    if (!acceptProvider && isExtensionProvider(extension)) {
      LoggerFactory.getLogger(getClass()).error("ExtensionProvider can not include providers itself: " + extension);
    }
 else {
      container.addExtension(pluginMetadata,extension);
      return extension;
    }
  }
  return null;
}
