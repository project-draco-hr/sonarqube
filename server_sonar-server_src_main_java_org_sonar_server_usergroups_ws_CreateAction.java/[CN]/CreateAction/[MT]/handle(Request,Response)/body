{
  userSession.checkLoggedIn().checkGlobalPermission(GlobalPermissions.SYSTEM_ADMIN);
  String name=request.mandatoryParam(PARAM_NAME);
  String description=request.param(PARAM_DESCRIPTION);
  validateName(name);
  validateDescription(description);
  GroupDto newGroup=new GroupDto().setName(name).setDescription(description);
  DbSession session=dbClient.openSession(false);
  try {
    checkNameIsUnique(name,session);
    newGroup=dbClient.groupDao().insert(session,new GroupDto().setName(name).setDescription(description));
    session.commit();
  }
  finally {
    closeQuietly(session);
  }
  response.newJsonWriter().beginObject().name("group").beginObject().prop("id",newGroup.getId().toString()).prop(PARAM_NAME,newGroup.getName()).prop(PARAM_DESCRIPTION,newGroup.getDescription()).prop("membersCount",0).endObject().endObject().close();
}
