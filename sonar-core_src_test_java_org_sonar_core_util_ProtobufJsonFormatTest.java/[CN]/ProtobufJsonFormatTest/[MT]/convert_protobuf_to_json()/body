{
  org.sonar.core.test.Test.Fake protobuf=org.sonar.core.test.Test.Fake.newBuilder().setAString("foo").setAnInt(10).setALong(100L).setABoolean(true).setADouble(3.14).setAnEnum(org.sonar.core.test.Test.FakeEnum.GREEN).addAllAnArray(asList("one","two","three")).setANestedMessage(org.sonar.core.test.Test.NestedFake.newBuilder().setLabel("bar").build()).build();
  StringWriter json=new StringWriter();
  JsonWriter jsonWriter=JsonWriter.of(json);
  ProtobufJsonFormat.write(protobuf,jsonWriter);
  assertThat(json.toString()).isEqualTo("{\"aString\":\"foo\",\"anInt\":10,\"aLong\":100,\"aDouble\":3.14,\"aBoolean\":true,\"anEnum\":\"GREEN\",\"anArray\":[\"one\",\"two\",\"three\"],\"aNestedMessage\":{\"label\":\"bar\"}}");
}
