{
  JsonTest protobuf=JsonTest.newBuilder().setStringField("foo").setIntField(10).setLongField(100L).setDoubleField(3.14).setBooleanField(true).setEnumField(org.sonar.core.test.Test.FakeEnum.GREEN).addAllAnArray(asList("one","two","three")).setNested(org.sonar.core.test.Test.NestedJsonTest.newBuilder().setLabel("bar").build()).build();
  assertThat(toJson(protobuf)).isEqualTo("{\"stringField\":\"foo\",\"intField\":10,\"longField\":100,\"doubleField\":3.14,\"booleanField\":true,\"enumField\":\"GREEN\",\"nested\":{\"label\":\"bar\"},\"anArray\":[\"one\",\"two\",\"three\"]}");
}
