{
  ArrayFieldMsg msg=ArrayFieldMsg.newBuilder().addNullableArray("foo").build();
  assertThat(msg.hasNullableArrayPresentIfEmpty()).isFalse();
  assertThat(msg.getNullableArrayPresentIfEmpty()).isFalse();
  assertThat(toJson(msg)).contains("\"nullableArray\":[\"foo\"]");
}
