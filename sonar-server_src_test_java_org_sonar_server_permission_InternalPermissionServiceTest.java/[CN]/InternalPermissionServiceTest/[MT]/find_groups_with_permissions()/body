{
  service.findGroupsWithPermission(ImmutableMap.<String,Object>of("permission","admin","component","org.sample.Sample","selected","all"));
  ArgumentCaptor<PermissionQuery> argumentCaptor=ArgumentCaptor.forClass(PermissionQuery.class);
  verify(finder).findGroupsWithPermission(argumentCaptor.capture());
  PermissionQuery query=argumentCaptor.getValue();
  assertThat(query.component()).isEqualTo("org.sample.Sample");
  assertThat(query.permission()).isEqualTo("admin");
  assertThat(query.membership()).isEqualTo(PermissionQuery.ANY);
}
