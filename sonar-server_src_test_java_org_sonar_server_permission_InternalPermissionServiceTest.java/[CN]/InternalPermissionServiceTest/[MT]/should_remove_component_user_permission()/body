{
  when(resourceDao.getResource(any(ResourceQuery.class))).thenReturn(new ResourceDto().setId(10L).setKey("org.sample.Sample"));
  params=buildPermissionChangeParams("user",null,"org.sample.Sample","codeviewer");
  setUpUserPermissions("user","codeviewer");
  service.removePermission(params);
  verify(permissionFacade).deleteUserPermission(eq(10L),eq(2L),eq("codeviewer"));
}
