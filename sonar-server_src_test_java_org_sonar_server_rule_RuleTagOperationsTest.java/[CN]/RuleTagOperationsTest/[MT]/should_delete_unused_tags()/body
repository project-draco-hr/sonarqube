{
  long tagId=42L;
  String tagValue="answerlifeanevrythng";
  RuleTagDto unusedTag=new RuleTagDto().setId(tagId).setTag(tagValue);
  SqlSession session=mock(SqlSession.class);
  when(ruleTagDao.selectUnused(session)).thenReturn(ImmutableList.of(unusedTag));
  operations.deleteUnusedTags(session);
  verify(ruleTagDao).selectUnused(session);
  verify(ruleTagDao).delete(tagId,session);
  verify(esRuleTags).delete(tagValue);
}
