{
  ComponentQuery query=ComponentQuery.builder().pageSize(1).pageIndex(1).build();
  List<ResourceDto> dtoList=newArrayList(new ResourceDto().setKey("org.codehaus.sonar").setName("Sonar").setQualifier("TRK"),new ResourceDto().setKey("org.apache.tika:tika").setName("Apache Tika").setQualifier("TRK"),new ResourceDto().setKey("org.picocontainer:picocontainer-parent").setName("PicoContainer Parent").setQualifier("TRK"));
  when(dao.getResources(any(ResourceQuery.class))).thenReturn(dtoList);
  DefaultComponentQueryResult results=finder.find(query);
  assertThat(results.paging().offset()).isEqualTo(0);
  assertThat(results.paging().pages()).isEqualTo(3);
  assertThat(results.paging().total()).isEqualTo(3);
}
