{
  String componentUuid=request.mandatoryParam(PARAM_UUID);
  UserSession userSession=UserSession.get();
  JsonWriter json=response.newJsonWriter();
  json.beginObject();
  DbSession session=dbClient.openSession(false);
  try {
    ComponentDto component=dbClient.componentDao().getNullableByUuid(session,componentUuid);
    if (component == null) {
      throw new NotFoundException(String.format("Component '%s' does not exist",componentUuid));
    }
    userSession.checkComponentPermission(UserRole.USER,component.getKey());
    Map<String,MeasureDto> measuresByMetricKey=measuresByMetricKey(component,session);
    appendComponent(json,component,userSession,session);
    appendPermissions(json,component,userSession);
    appendMeasures(json,measuresByMetricKey);
  }
  finally {
    MyBatis.closeQuietly(session);
  }
  json.endObject();
  json.close();
}
