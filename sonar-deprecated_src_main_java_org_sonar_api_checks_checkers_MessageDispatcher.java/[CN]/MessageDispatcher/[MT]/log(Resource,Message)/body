{
  Object checker=message.getChecker();
  Check check=getCheck(checker);
  Violation violation=Violation.create(new Rule(check.getRepositoryKey(),check.getTemplateKey()),resource);
  violation.setLineId(message.getLine());
  violation.setMessage(message.getText(Locale.ENGLISH));
  violation.setPriority(RulePriority.fromCheckPriority(check.getPriority()));
  context.saveViolation(violation);
}
