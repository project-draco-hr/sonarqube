{
  PluginManifest manifest=new PluginManifest(file);
  PluginMetadata metadata=new PluginMetadata();
  metadata.setSourceFile(file);
  metadata.setKey(manifest.getKey());
  metadata.setName(manifest.getName());
  metadata.setDescription(manifest.getDescription());
  metadata.setLicense(manifest.getLicense());
  metadata.setOrganization(manifest.getOrganization());
  metadata.setOrganizationUrl(manifest.getOrganizationUrl());
  metadata.setMainClass(manifest.getMainClass());
  metadata.setVersion(manifest.getVersion());
  metadata.setHomepage(manifest.getHomepage());
  metadata.setDependencyPaths(manifest.getDependencies());
  metadata.setCore(corePlugin);
  metadata.setUseChildFirstClassLoader(manifest.isUseChildFirstClassLoader());
  metadata.setBasePlugin(manifest.getExtendPlugin());
  return metadata;
}
