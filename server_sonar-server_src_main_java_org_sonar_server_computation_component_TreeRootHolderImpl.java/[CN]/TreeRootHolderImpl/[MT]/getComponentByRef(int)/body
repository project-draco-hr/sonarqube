{
  checkRoot();
  Component component=componentsByRef.get(ref);
  if (component == null) {
    throw new IllegalArgumentException(String.format("Component '%s' hasn't been found",ref));
  }
  return component;
}
