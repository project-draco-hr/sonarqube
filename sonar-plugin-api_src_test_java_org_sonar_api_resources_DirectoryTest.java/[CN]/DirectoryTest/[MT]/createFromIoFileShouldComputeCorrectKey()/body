{
  java.io.File baseDir=temp.newFolder();
  Project project=mock(Project.class);
  ProjectFileSystem fileSystem=mock(ProjectFileSystem.class);
  when(project.getFileSystem()).thenReturn(fileSystem);
  when(fileSystem.getBasedir()).thenReturn(baseDir);
  Resource dir=Directory.fromIOFile(new java.io.File(baseDir,"src/foo/bar/"),project);
  assertThat(dir.getKey(),is("src/foo/bar"));
}
