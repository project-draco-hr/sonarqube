{
  userSessionRule.login("john").addComponentPermission(UserRole.USER,SUB_PROJECT_KEY,COMPONENT_KEY);
  when(componentDao.selectByUuid(session,COMPONENT_UUID)).thenReturn(Optional.<ComponentDto>absent());
  try {
    tester.newGetRequest("api/components","app").setParam("uuid",COMPONENT_UUID).execute();
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(NotFoundException.class).hasMessage("Component id 'ABCDE' not found");
  }
}
