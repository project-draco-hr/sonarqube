{
  setUserAsSystemAdmin();
  definitions.addComponent(PropertyDefinition.builder("sonar.test.jira").defaultValue("abc").build());
  definitions.addComponent(PropertyDefinition.builder("sonar.autogenerated").multiValues(true).build());
  propertyDb.insertProperties(newGlobalPropertyDto().setKey("sonar.autogenerated").setValue("val1,val2,val3"));
  definitions.addComponent(PropertyDefinition.builder("sonar.demo").type(PropertyType.PROPERTY_SET).fields(PropertyFieldDefinition.build("text").name("Text").build(),PropertyFieldDefinition.build("boolean").name("Boolean").build()).build());
  propertyDb.insertPropertySet("sonar.demo",null,ImmutableMap.of("text","foo","boolean","true"),ImmutableMap.of("text","bar","boolean","false"));
  String result=ws.newRequest().setParam("keys","sonar.test.jira,sonar.autogenerated,sonar.demo").setMediaType(JSON).execute().getInput();
  JsonAssert.assertJson(ws.getDef().responseExampleAsString()).isSimilarTo(result);
}
