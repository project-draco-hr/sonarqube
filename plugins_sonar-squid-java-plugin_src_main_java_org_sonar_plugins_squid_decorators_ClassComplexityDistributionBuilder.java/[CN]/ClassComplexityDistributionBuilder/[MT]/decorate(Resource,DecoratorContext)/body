{
  if (shouldExecuteOn(resource,context)) {
    RangeDistributionBuilder builder=new RangeDistributionBuilder(CoreMetrics.CLASS_COMPLEXITY_DISTRIBUTION,LIMITS);
    for (    DecoratorContext childContext : context.getChildren()) {
      if (Scopes.isType(childContext.getResource())) {
        Measure complexity=childContext.getMeasure(CoreMetrics.COMPLEXITY);
        if (complexity != null) {
          builder.add(complexity.getValue());
        }
      }
    }
    Measure measure=builder.build(true);
    measure.setPersistenceMode(PersistenceMode.MEMORY);
    context.saveMeasure(measure);
  }
}
