{
  FindbugsConfiguration conf=mock(FindbugsConfiguration.class);
  Project project=new Project();
  project.addFile(new File("test-resources/classes").getCanonicalPath());
  project.addSourceDir(new File("test-resources/src").getCanonicalPath());
  project.setCurrentWorkingDirectory(new File("test-resources"));
  when(conf.getFindbugsProject()).thenReturn(project);
  when(conf.saveExcludeConfigXml()).thenReturn(new File("test-resources/findbugs-exclude.xml").getAbsolutePath());
  when(conf.saveIncludeConfigXml()).thenReturn(new File("test-resources/findbugs-include.xml").getAbsolutePath());
  when(conf.getEffort()).thenReturn("default");
  when(conf.getTimeout()).thenReturn(FindbugsConstants.FINDBUGS_TIMEOUT_DEFAULT_VALUE);
  return conf;
}
