{
  LoginPasswordAuthenticator authenticator=mock(LoginPasswordAuthenticator.class);
  CompatibilityRealm realm=new CompatibilityRealm(authenticator);
  realm.init();
  verify(authenticator).init();
  assertThat(realm.getLoginPasswordAuthenticator(),is(authenticator));
  assertThat(realm.getName(),is("CompatibilityRealm[" + authenticator.getClass().getName() + "]"));
}
