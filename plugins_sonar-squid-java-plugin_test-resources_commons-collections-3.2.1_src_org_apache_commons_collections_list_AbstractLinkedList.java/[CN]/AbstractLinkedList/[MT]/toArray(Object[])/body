{
  if (array.length < size) {
    Class componentType=array.getClass().getComponentType();
    array=(Object[])Array.newInstance(componentType,size);
  }
  int i=0;
  for (Node node=header.next; node != header; node=node.next, i++) {
    array[i]=node.getValue();
  }
  if (array.length > size) {
    array[size]=null;
  }
  return array;
}
