{
  DefaultIssue falsePositive=new DefaultIssue().setRuleKey(RuleKey.parse("squid:AvoidCycles")).setResolution(Issue.RESOLUTION_FALSE_POSITIVE).setStatus(Issue.STATUS_RESOLVED);
  DefaultIssue fixed=new DefaultIssue().setRuleKey(RuleKey.parse("squid:AvoidCycles")).setResolution(Issue.RESOLUTION_FIXED).setStatus(Issue.STATUS_RESOLVED);
  File file=new File("foo.c");
  Issuable issuable=mock(Issuable.class);
  when(perspectives.as(Issuable.class,file)).thenReturn(issuable);
  when(issuable.resolvedIssues()).thenReturn(Arrays.<Issue>asList(falsePositive,fixed));
  DecoratorContext context=mock(DecoratorContext.class);
  decorator.decorate(file,context);
  verify(context).saveMeasure(CoreMetrics.FALSE_POSITIVE_ISSUES,1.0);
}
