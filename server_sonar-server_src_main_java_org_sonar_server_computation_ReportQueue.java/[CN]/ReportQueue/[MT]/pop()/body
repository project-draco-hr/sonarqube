{
  DbSession session=dbClient.openSession(false);
  try {
    AnalysisReportDto dto=dao().pop(session);
    if (dto != null) {
      File file=reportFileForUuid(dto.getUuid());
      if (file.exists()) {
        return new Item(dto,file);
      }
      Loggers.get(getClass()).error("Analysis report not found: " + file.getAbsolutePath());
      dao().delete(session,dto.getId());
      session.commit();
    }
    return null;
  }
  finally {
    MyBatis.closeQuietly(session);
  }
}
