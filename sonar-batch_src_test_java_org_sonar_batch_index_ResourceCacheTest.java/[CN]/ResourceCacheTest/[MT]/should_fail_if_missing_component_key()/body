{
  ResourceCache cache=new ResourceCache();
  Resource resource=new File("org/struts/Action.java").setEffectiveKey(null);
  try {
    cache.add(resource,new Snapshot());
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("Missing resource effective key");
  }
}
