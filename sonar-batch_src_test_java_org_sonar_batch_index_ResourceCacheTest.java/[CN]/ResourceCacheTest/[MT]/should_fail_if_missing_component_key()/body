{
  ResourceCache cache=new ResourceCache();
  Resource resource=new JavaFile("org.struts.Action").setEffectiveKey(null);
  try {
    cache.add(resource);
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("Missing resource effective key");
  }
}
