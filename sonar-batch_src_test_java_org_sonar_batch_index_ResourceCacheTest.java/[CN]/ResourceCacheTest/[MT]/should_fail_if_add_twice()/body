{
  ResourceCache cache=new ResourceCache();
  String componentKey="struts:org.struts.Action";
  Resource resource=new JavaFile("org.struts.Action").setEffectiveKey(componentKey);
  cache.add(resource);
  try {
    cache.add(resource);
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("Resource is already registered: struts:org.struts.Action");
  }
}
