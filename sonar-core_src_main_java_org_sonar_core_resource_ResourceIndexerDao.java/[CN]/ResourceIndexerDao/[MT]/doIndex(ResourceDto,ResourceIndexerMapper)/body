{
  String key=nameToKey(resource.getName());
  if (key.length() >= MINIMUM_KEY_SIZE) {
    ResourceIndexDto dto=new ResourceIndexDto().setResourceId(resource.getId()).setQualifier(resource.getQualifier()).setRootProjectId(resource.getRootId()).setNameSize(resource.getName().length());
    for (int position=0; position <= key.length() - MINIMUM_KEY_SIZE; position++) {
      dto.setPosition(position);
      dto.setKey(StringUtils.substring(key,position));
      mapper.insert(dto);
    }
  }
}
