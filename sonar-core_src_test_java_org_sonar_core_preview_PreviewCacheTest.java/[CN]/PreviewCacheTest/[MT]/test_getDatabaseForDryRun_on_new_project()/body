{
  when(dryRunDatabaseFactory.createNewDatabaseForDryRun(isNull(Long.class),any(File.class),anyString())).thenAnswer(new Answer<File>(){
    public File answer(    InvocationOnMock invocation) throws IOException {
      Object[] args=invocation.getArguments();
      File dbFile=new File(new File(dryRunCacheLocation,"default"),args[2] + ".h2.db");
      FileUtils.write(dbFile,"fake db content");
      return dbFile;
    }
  }
);
  String path=dryRunCache.getPathToDatabaseFile(null);
  assertThat(FileUtils.readFileToString(new File(path))).isEqualTo("fake db content");
  path=dryRunCache.getPathToDatabaseFile(null);
  assertThat(FileUtils.readFileToString(new File(path))).isEqualTo("fake db content");
  verify(dryRunDatabaseFactory,times(1)).createNewDatabaseForDryRun(anyLong(),any(File.class),anyString());
}
