{
  initFile();
  userSessionRule.addProjectUuidPermissions(UserRole.CODEVIEWER,PROJECT_UUID);
  esTester.putDocuments(SourceLineIndexDefinition.INDEX,SourceLineIndexDefinition.TYPE,newSourceLine("julien","123-456-789",DateUtils.parseDateTime("2015-03-30T12:34:56+0000"),1),newSourceLine("julien","123-456-789",DateUtils.parseDateTime("2015-03-30T12:34:56+0000"),2),newSourceLine("julien","456-789-101",DateUtils.parseDateTime("2015-03-27T12:34:56+0000"),3),newSourceLine("simon","789-101-112",DateUtils.parseDateTime("2015-03-31T12:34:56+0000"),4));
  WsTester.TestRequest request=tester.newGetRequest("api/sources","scm").setParam("key",FILE_KEY).setParam("commits_by_line","true");
  request.execute().assertJson(getClass(),"not_group_lines_by_commit.json");
}
