{
  DefaultInputFile file=new DefaultInputFile(PROJECT_KEY,"src/foo.java").setLines(3).setOriginalLineOffsets(new long[]{0,4,7});
  SyntaxHighlightingData highlighting=new SyntaxHighlightingDataBuilder().registerHighlightingRule(0,3,TypeOfText.ANNOTATION).registerHighlightingRule(4,6,TypeOfText.COMMENT).registerHighlightingRule(7,16,TypeOfText.CONSTANT).registerHighlightingRule(8,15,TypeOfText.KEYWORD).build();
  String[] highlightingPerLine=sourcePersister.computeHighlightingPerLine(file,highlighting);
  assertThat(highlightingPerLine).containsOnly("0,3,a","0,2,cd","0,9,c;1,8,k");
}
