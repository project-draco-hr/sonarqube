{
  coberturaPlugin.setParameter("formats/format","xml");
  for (  String pattern : project.getExclusionPatterns()) {
    if (pattern.endsWith(".java")) {
      pattern=StringUtils.substringBeforeLast(pattern,".") + ".class";
    }
 else     if (StringUtils.substringAfterLast(pattern,"/").indexOf(".") < 0) {
      pattern=pattern + ".class";
    }
    coberturaPlugin.addParameter("instrumentation/excludes/exclude",pattern);
  }
  coberturaPlugin.setParameter("maxmem",project.getConfiguration().getString(CoreProperties.COBERTURA_MAXMEM_PROPERTY,project.getConfiguration().getString("sonar.cobertura.maxmen",CoreProperties.COBERTURA_MAXMEM_DEFAULT_VALUE)));
}
