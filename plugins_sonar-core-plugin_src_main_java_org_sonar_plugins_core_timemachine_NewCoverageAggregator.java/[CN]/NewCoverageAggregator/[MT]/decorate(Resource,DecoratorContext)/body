{
  if (shouldDecorate(resource)) {
    int maxPeriods=(Qualifiers.isView(resource,true) ? 3 : 5);
    aggregate(context,CoreMetrics.NEW_LINES_TO_COVER,maxPeriods);
    aggregate(context,CoreMetrics.NEW_UNCOVERED_LINES,maxPeriods);
    aggregate(context,CoreMetrics.NEW_CONDITIONS_TO_COVER,maxPeriods);
    aggregate(context,CoreMetrics.NEW_UNCOVERED_CONDITIONS,maxPeriods);
    aggregate(context,CoreMetrics.NEW_IT_LINES_TO_COVER,maxPeriods);
    aggregate(context,CoreMetrics.NEW_IT_UNCOVERED_LINES,maxPeriods);
    aggregate(context,CoreMetrics.NEW_IT_CONDITIONS_TO_COVER,maxPeriods);
    aggregate(context,CoreMetrics.NEW_IT_UNCOVERED_CONDITIONS,maxPeriods);
    aggregate(context,CoreMetrics.NEW_OVERALL_LINES_TO_COVER,maxPeriods);
    aggregate(context,CoreMetrics.NEW_OVERALL_UNCOVERED_LINES,maxPeriods);
    aggregate(context,CoreMetrics.NEW_OVERALL_CONDITIONS_TO_COVER,maxPeriods);
    aggregate(context,CoreMetrics.NEW_OVERALL_UNCOVERED_CONDITIONS,maxPeriods);
  }
}
