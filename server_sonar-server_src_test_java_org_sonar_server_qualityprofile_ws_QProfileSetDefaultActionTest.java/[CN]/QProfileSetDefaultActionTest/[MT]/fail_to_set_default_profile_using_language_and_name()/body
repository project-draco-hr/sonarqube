{
  MockUserSession.set().setLogin("obiwan").setGlobalPermissions(GlobalPermissions.QUALITY_PROFILE_ADMIN);
  try {
    tester.newPostRequest("api/qualityprofiles","set_default").setParam("language","xoo2").setParam("profileName","Unknown").execute();
    Fail.failBecauseExceptionWasNotThrown(NotFoundException.class);
  }
 catch (  NotFoundException nfe) {
    assertThat(nfe).hasMessage("Unable to find a profile for language 'xoo2' with name 'Unknown'");
    checkDefaultProfile("xoo1","sonar-way-xoo1-12345");
    checkDefaultProfile("xoo2","my-sonar-way-xoo2-34567");
  }
}
