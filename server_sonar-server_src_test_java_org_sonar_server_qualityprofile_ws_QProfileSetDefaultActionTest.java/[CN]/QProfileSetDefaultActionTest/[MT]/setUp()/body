{
  dbTester.truncateTables();
  qualityProfileDao=new QualityProfileDao(dbTester.myBatis(),mock(System2.class));
  dbClient=new DbClient(dbTester.database(),dbTester.myBatis(),qualityProfileDao);
  session=dbClient.openSession(false);
  xoo1=createLanguage("xoo1");
  xoo2=createLanguage("xoo2");
  createProfiles();
  tester=new WsTester(new QProfilesWs(mock(RuleActivationActions.class),mock(BulkRuleActivationActions.class),mock(ProjectAssociationActions.class),new QProfileSetDefaultAction(new Languages(xoo1,xoo2),new QProfileLookup(dbClient),new QProfileFactory(dbClient))));
}
