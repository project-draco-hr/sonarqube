{
  dbTester.truncateTables();
  qualityProfileDao=new QualityProfileDao(dbTester.myBatis(),mock(System2.class));
  dbClient=new DbClient(dbTester.database(),dbTester.myBatis(),qualityProfileDao);
  session=dbClient.openSession(false);
  createProfiles();
  tester=new WsTester(new QProfilesWs(mock(RuleActivationActions.class),mock(BulkRuleActivationActions.class),mock(ProjectAssociationActions.class),new QProfileSetDefaultAction(LanguageTesting.newLanguages(xoo1Key,xoo2Key),new QProfileLookup(dbClient),new QProfileFactory(dbClient),userSessionRule)));
}
