{
  File f=temp.getRoot();
  props.properties().put("sonar.userHome",f.getAbsolutePath());
  Path expected=f.toPath().resolve("ws_cache").resolve("http%3A%2F%2Flocalhost%3A9000").resolve(BatchUtils.getServerVersion()).resolve("projects").resolve("proj");
  assertThat(provider.provide(props,mode,key).getDirectory()).isEqualTo(expected);
}
