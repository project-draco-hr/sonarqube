{
  if (map instanceof MultiMap) {
    for (Iterator it=map.entrySet().iterator(); it.hasNext(); ) {
      Map.Entry entry=(Map.Entry)it.next();
      Collection coll=(Collection)entry.getValue();
      putAll(entry.getKey(),coll);
    }
  }
 else {
    for (Iterator it=map.entrySet().iterator(); it.hasNext(); ) {
      Map.Entry entry=(Map.Entry)it.next();
      put(entry.getKey(),entry.getValue());
    }
  }
}
