{
  ImmutableListMultimap.Builder<String,ActiveRule> repoBuilder=ImmutableListMultimap.builder();
  ImmutableListMultimap.Builder<String,ActiveRule> langBuilder=ImmutableListMultimap.builder();
  for (  NewActiveRule newAR : newActiveRules) {
    DefaultActiveRule ar=new DefaultActiveRule(newAR);
    repoBuilder.put(ar.ruleKey().repository(),ar);
    if (ar.language() != null) {
      langBuilder.put(ar.language(),ar);
    }
  }
  activeRulesByRepository=repoBuilder.build();
  activeRulesByLanguage=langBuilder.build();
}
