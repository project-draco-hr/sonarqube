{
  if (settings.hasKey(IndexProperties.NODE_NAME)) {
    return getLocalNodeInfoByNodeName(settings.getString(IndexProperties.NODE_NAME));
  }
 else {
    try {
      String LocalhostName=InetAddress.getLocalHost().getHostName();
      return getLocalNodeInfoByHostName(LocalhostName);
    }
 catch (    Exception exception) {
      throw new IllegalStateException("Could not get localhost hostname",exception);
    }
  }
}
