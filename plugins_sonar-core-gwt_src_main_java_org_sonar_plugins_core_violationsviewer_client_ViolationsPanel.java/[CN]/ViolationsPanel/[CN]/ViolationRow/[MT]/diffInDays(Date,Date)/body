{
  int difference=0;
  int endDateOffset=-(d1.getTimezoneOffset() * 60 * 1000);
  long endDateInstant=d1.getTime() + endDateOffset;
  int startDateOffset=-(d2.getTimezoneOffset() * 60 * 1000);
  long startDateInstant=d2.getTime() + startDateOffset;
  double differenceDouble=(double)Math.abs(endDateInstant - startDateInstant) / (1000.0 * 60 * 60* 24);
  differenceDouble=Math.max(1.0D,differenceDouble);
  difference=(int)differenceDouble;
  return difference;
}
