{
  if (resource.getId() == null) {
    return;
  }
  Map<Integer,Violation> violationMap=filterViolationsPerPermanent(context.getViolations());
  if (!violationMap.isEmpty()) {
    Collection<ReviewDto> reviews=selectReviewsWithManualSeverity(resource.getId());
    for (    ReviewDto review : reviews) {
      Violation violation=violationMap.get(review.getViolationPermanentId());
      if (violation != null) {
        violation.setSeverity(RulePriority.valueOf(review.getSeverity()));
      }
    }
  }
}
