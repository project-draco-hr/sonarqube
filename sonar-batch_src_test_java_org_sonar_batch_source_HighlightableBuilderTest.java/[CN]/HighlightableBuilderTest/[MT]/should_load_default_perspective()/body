{
  Resource file=File.create("foo.c").setEffectiveKey("myproject:path/to/foo.c");
  Component component=new ResourceComponent(file);
  ResourceCache resourceCache=mock(ResourceCache.class);
  when(resourceCache.get(file.getEffectiveKey())).thenReturn(new BatchResource(1,file,null).setInputPath(new DefaultInputFile("myproject","path/to/foo.c")));
  HighlightableBuilder builder=new HighlightableBuilder(resourceCache,mock(SensorStorage.class));
  Highlightable perspective=builder.loadPerspective(Highlightable.class,component);
  assertThat(perspective).isNotNull().isInstanceOf(DefaultHighlightable.class);
  assertThat(perspective.component().key()).isEqualTo(component.key());
}
