{
  boolean clusterMode=settings.getBoolean(ProcessProperties.CLUSTER_ACTIVATE);
  int shards=settings.getInt(format("sonar.search.%s.shards",indexName));
  if (shards == 0) {
    shards=(clusterMode ? 4 : 1);
  }
  int replicas=settings.getInt(format("sonar.search.%s.replicas",indexName));
  if (replicas == 0) {
    replicas=(clusterMode ? 1 : 0);
  }
  getSettings().put(IndexMetaData.SETTING_NUMBER_OF_SHARDS,shards);
  getSettings().put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS,replicas);
}
