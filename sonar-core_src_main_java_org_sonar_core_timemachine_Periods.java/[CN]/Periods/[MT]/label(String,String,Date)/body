{
  String label="";
  if (CoreProperties.TIMEMACHINE_MODE_DAYS.equals(mode)) {
    label=message("over_x_days",param);
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_VERSION.equals(mode)) {
    label=message("since_version",param);
    if (date != null) {
      label=message("since_version_detailed",param,convertDate(date));
    }
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_PREVIOUS_ANALYSIS.equals(mode)) {
    label=message("since_previous_analysis");
    if (date != null) {
      label=message("since_previous_analysis_detailed",convertDate(date));
    }
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_PREVIOUS_VERSION.equals(mode)) {
    label=message("since_previous_version");
    if (param != null) {
      label=message("since_previous_version_detailed",param);
    }
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_DATE.equals(mode)) {
    label=message("since_x",convertDate(date));
  }
 else {
    throw new IllegalArgumentException("This mode is not supported : " + mode);
  }
  return label;
}
