{
  String label;
  if (CoreProperties.TIMEMACHINE_MODE_DAYS.equals(mode)) {
    label=label("over_x_days",shortLabel,param);
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_VERSION.equals(mode)) {
    label=label("since_version",shortLabel,param);
    if (date != null) {
      label=label("since_version_detailed",shortLabel,param,date);
    }
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_PREVIOUS_ANALYSIS.equals(mode)) {
    label=label("since_previous_analysis",shortLabel);
    if (date != null) {
      label=label("since_previous_analysis_detailed",shortLabel,date);
    }
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_PREVIOUS_VERSION.equals(mode)) {
    label=label("since_previous_version",shortLabel);
    if (param != null) {
      label=label("since_previous_version_detailed",shortLabel,param);
    }
  }
 else   if (CoreProperties.TIMEMACHINE_MODE_DATE.equals(mode)) {
    label=label("since_x",shortLabel,date);
  }
 else {
    throw new IllegalArgumentException("This mode is not supported : " + mode);
  }
  return label;
}
