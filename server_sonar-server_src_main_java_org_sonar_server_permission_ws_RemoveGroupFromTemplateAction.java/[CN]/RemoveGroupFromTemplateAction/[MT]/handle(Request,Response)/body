{
  checkGlobalAdminUser(userSession);
  String templateKey=wsRequest.mandatoryParam(PARAM_LONG_TEMPLATE_ID);
  String permission=wsRequest.mandatoryParam(PARAM_PERMISSION);
  WsGroup group=WsGroup.fromRequest(wsRequest);
  DbSession dbSession=dbClient.openSession(false);
  try {
    validateProjectPermission(permission);
    PermissionTemplateDto template=dependenciesFinder.getTemplate(dbSession,templateKey);
    GroupDto groupDto=dependenciesFinder.getGroup(dbSession,group);
    Long groupId=groupDto == null ? null : groupDto.getId();
    dbClient.permissionTemplateDao().deleteGroupPermission(dbSession,template.getId(),groupId,permission);
  }
  finally {
    dbClient.closeSession(dbSession);
  }
  wsResponse.noContent();
}
