{
  when(request.getContextPath()).thenReturn("sonar");
  when(request.getServletPath()).thenReturn("/batch");
  when(request.getRequestURI()).thenReturn("/sonar/batch/sonar-core-2.6.jar");
  assertThat(servlet.filename(request)).isEqualTo("sonar-core-2.6.jar");
  when(request.getRequestURI()).thenReturn("/sonar/batch/");
  assertThat(servlet.filename(request)).isNull();
  when(request.getRequestURI()).thenReturn("/sonar/batch");
  assertThat(servlet.filename(request)).isNull();
  when(request.getRequestURI()).thenReturn("/sonar/batch.html");
  assertThat(servlet.filename(request)).isNull();
  when(request.getRequestURI()).thenReturn("/sonar/batch/index.html");
  assertThat(servlet.filename(request)).isNull();
}
