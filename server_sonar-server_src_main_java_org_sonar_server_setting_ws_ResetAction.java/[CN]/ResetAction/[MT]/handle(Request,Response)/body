{
  DbSession dbSession=dbClient.openSession(false);
  try {
    ResetRequest resetRequest=toWsRequest(request);
    Optional<ComponentDto> component=getComponent(dbSession,resetRequest);
    checkPermissions(component);
    PropertyDefinition definition=definitions.get(resetRequest.getKey());
    String key=definition != null ? definition.key() : resetRequest.getKey();
    if (component.isPresent()) {
      settingsUpdater.deleteComponentSetting(dbSession,key,component.get());
    }
 else {
      settingsUpdater.deleteGlobalSetting(dbSession,key);
    }
    dbSession.commit();
    response.noContent();
  }
  finally {
    dbClient.closeSession(dbSession);
  }
}
