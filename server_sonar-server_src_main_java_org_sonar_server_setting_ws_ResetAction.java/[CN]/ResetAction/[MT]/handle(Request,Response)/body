{
  DbSession dbSession=dbClient.openSession(false);
  try {
    ResetRequest resetRequest=toWsRequest(request);
    Optional<ComponentDto> component=getComponent(dbSession,resetRequest);
    checkPermissions(component);
    List<String> keys=getKeys(resetRequest);
    if (component.isPresent()) {
      settingsUpdater.deleteComponentSettings(dbSession,component.get(),keys);
    }
 else {
      settingsUpdater.deleteGlobalSettings(dbSession,keys);
    }
    dbSession.commit();
    response.noContent();
  }
  finally {
    dbClient.closeSession(dbSession);
  }
}
