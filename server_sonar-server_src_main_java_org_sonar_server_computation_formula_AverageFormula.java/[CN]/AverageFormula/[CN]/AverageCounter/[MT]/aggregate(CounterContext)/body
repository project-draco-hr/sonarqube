{
  Optional<Double> mainValueOptional=getDoubleValue(counterContext.getMeasure(mainMetric));
  if (!mainValueOptional.isPresent() && fallbackMetric != null) {
    mainValueOptional=getDoubleValue(counterContext.getMeasure(fallbackMetric));
  }
  Optional<Double> byValueOptional=getDoubleValue(counterContext.getMeasure(byMetric));
  addValuesIfPresent(mainValueOptional,byValueOptional);
}
