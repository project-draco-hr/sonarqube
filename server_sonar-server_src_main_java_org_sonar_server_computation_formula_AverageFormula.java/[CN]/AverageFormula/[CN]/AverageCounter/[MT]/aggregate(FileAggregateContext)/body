{
  Optional<Double> mainValueOptional=getDoubleValue(context.getMeasure(mainMetric));
  if (!mainValueOptional.isPresent() && fallbackMetric != null) {
    mainValueOptional=getDoubleValue(context.getMeasure(fallbackMetric));
  }
  Optional<Double> byValueOptional=getDoubleValue(context.getMeasure(byMetric));
  addValuesIfPresent(mainValueOptional,byValueOptional);
}
