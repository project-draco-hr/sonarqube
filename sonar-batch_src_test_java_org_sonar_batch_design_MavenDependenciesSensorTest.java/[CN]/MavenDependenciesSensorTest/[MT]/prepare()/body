{
  settings=new Settings();
  sonarIndex=mock(SonarIndex.class);
  sensor=new MavenDependenciesSensor(settings,sonarIndex,mock(ResourcePersister.class));
  sensorContext=mock(SensorContext.class);
  when(sensorContext.getResource(any(Library.class))).thenAnswer(new Answer<Library>(){
    public Library answer(    InvocationOnMock invocation) throws Throwable {
      return (invocation.getArguments()[0] instanceof Library) ? (Library)invocation.getArguments()[0] : null;
    }
  }
);
}
