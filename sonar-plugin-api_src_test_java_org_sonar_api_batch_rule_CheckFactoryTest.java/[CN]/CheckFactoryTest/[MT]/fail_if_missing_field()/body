{
  thrown.expect(IllegalStateException.class);
  thrown.expectMessage("The field 'unknown' does not exist or is not annotated with @RuleProperty in the class org.sonar.api.batch.rule.CheckWithStringProperty");
  RuleKey ruleKey=RuleKey.of("squid","org.sonar.api.batch.rule.CheckWithStringProperty");
  builder.activate(ruleKey).setParam("unknown","foo");
  CheckFactory checkFactory=new CheckFactory(builder.build());
  checkFactory.create("squid").addAnnotatedChecks(CheckWithStringProperty.class);
}
