{
  RuleKey ruleKey=RuleKey.of("squid","S0001_123");
  builder.create(ruleKey).setTemplateRuleKey("S0001").activate();
  CheckFactory checkFactory=new CheckFactory(builder.build());
  Checks checks=checkFactory.create("squid").addAnnotatedChecks(CheckWithKey.class);
  Object check=checks.of(ruleKey);
  assertThat(check).isInstanceOf(CheckWithKey.class);
  assertThat(checks.of(ruleKey)).isSameAs(check);
  assertThat(checks.ruleKey(check)).isEqualTo(ruleKey);
  assertThat(checks.all()).containsOnly(check);
}
