{
  String alertText=currentStatus.getAlertText();
  Level alertLevel=currentStatus.getDataAsLevel();
  String alertName;
  boolean isNewAlert=true;
  if (pastStatus != null && pastStatus.getDataAsLevel() != alertLevel) {
    alertName=getName(pastStatus,currentStatus);
    if (pastStatus.getDataAsLevel() != Metric.Level.OK) {
      isNewAlert=false;
    }
    createEvent(context,alertName,alertText);
    notifyUsers(resource,alertName,alertText,alertLevel,isNewAlert);
  }
 else   if (pastStatus == null && alertLevel != Metric.Level.OK) {
    alertName=getName(currentStatus);
    createEvent(context,alertName,alertText);
    notifyUsers(resource,alertName,alertText,alertLevel,isNewAlert);
  }
}
