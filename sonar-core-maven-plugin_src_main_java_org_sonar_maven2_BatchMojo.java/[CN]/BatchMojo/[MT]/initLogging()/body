{
  LoggerContext context=(LoggerContext)LoggerFactory.getILoggerFactory();
  JoranConfigurator jc=new JoranConfigurator();
  jc.setContext(context);
  context.reset();
  InputStream input=getClass().getResourceAsStream("/org/sonar/batch/logback.xml");
  System.setProperty("ROOT_LOGGER_LEVEL",getLog().isDebugEnabled() ? "DEBUG" : "INFO");
  try {
    jc.doConfigure(input);
  }
 catch (  JoranException e) {
    throw new MojoExecutionException("can not initialize logging",e);
  }
 finally {
    IOUtils.closeQuietly(input);
  }
}
