{
  if (iterator == null) {
    throw new NullPointerException("Iterator must not be null");
  }
  if (arrayClass == null) {
    throw new NullPointerException("Array class must not be null");
  }
  List list=toList(iterator,100);
  return list.toArray((Object[])Array.newInstance(arrayClass,list.size()));
}
