{
  String projectUuidParam=request.param(PARAM_PROJECT_ID);
  String projectKeyParam=request.param(PARAM_PROJECT_KEY);
  String projectUuid;
  checkArgument(projectUuidParam != null ^ projectKeyParam != null,"The project uuid or the project key must be provided, not both.");
  if (projectUuidParam == null) {
    projectUuid=dbClient.componentDao().selectByKey(dbSession,projectKeyParam).uuid();
  }
 else {
    projectUuid=projectUuidParam;
  }
  return dbClient.metricDao().selectAvailableCustomMetricsByComponentUuid(dbSession,projectUuid);
}
