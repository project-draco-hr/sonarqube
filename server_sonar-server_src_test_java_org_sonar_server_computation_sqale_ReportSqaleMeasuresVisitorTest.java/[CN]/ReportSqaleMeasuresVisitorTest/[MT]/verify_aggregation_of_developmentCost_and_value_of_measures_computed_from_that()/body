{
  ReportComponent root=ReportComponent.builder(PROJECT,1).addChildren(ReportComponent.builder(MODULE,11).addChildren(ReportComponent.builder(DIRECTORY,111).addChildren(createFileComponent(LANGUAGE_KEY_1,1111),createFileComponent(LANGUAGE_KEY_2,1112)).build(),ReportComponent.builder(DIRECTORY,112).addChildren(createFileComponent(LANGUAGE_KEY_2,1121)).build()).build(),ReportComponent.builder(MODULE,12).addChildren(ReportComponent.builder(DIRECTORY,121).addChildren(createFileComponent(LANGUAGE_KEY_1,1211)).build(),ReportComponent.builder(DIRECTORY,122).build()).build(),ReportComponent.builder(MODULE,13).build()).build();
  treeRootHolder.setRoot(root);
  long measureValue1111=10;
  long debt1111=66000l;
  addRawMeasure(METRIC_KEY_1,1111,measureValue1111);
  addRawMeasure(TECHNICAL_DEBT_KEY,1111,debt1111);
  long measureValue1112=10;
  long debt1112=4200l;
  addRawMeasure(METRIC_KEY_2,1112,measureValue1112);
  addRawMeasure(TECHNICAL_DEBT_KEY,1112,debt1112);
  long debt111=96325l;
  addRawMeasure(TECHNICAL_DEBT_KEY,111,debt111);
  long measureValue1121=30;
  long debt1121=25200l;
  addRawMeasure(METRIC_KEY_2,1121,measureValue1121);
  addRawMeasure(TECHNICAL_DEBT_KEY,1121,debt1121);
  long debt112=99633l;
  addRawMeasure(TECHNICAL_DEBT_KEY,112,debt112);
  long measureValue1211=20;
  long debt1211=33000l;
  addRawMeasure(METRIC_KEY_1,1211,measureValue1211);
  addRawMeasure(TECHNICAL_DEBT_KEY,1211,debt1211);
  long debt121=7524l;
  addRawMeasure(TECHNICAL_DEBT_KEY,121,debt121);
  long debt1=9999l;
  addRawMeasure(TECHNICAL_DEBT_KEY,1,debt1);
  underTest.visit(root);
  verifyFileMeasures(1111,measureValue1111,debt1111,DEV_COST_LANGUAGE_1,C);
  verifyFileMeasures(1112,measureValue1112,debt1112,DEV_COST_LANGUAGE_2,A);
  verifyFileMeasures(1121,measureValue1121,debt1121,DEV_COST_LANGUAGE_2,A);
  verifyFileMeasures(1211,measureValue1211,debt1211,DEV_COST_LANGUAGE_1,C);
  verifyComponentMeasures(122,0,0,A);
  long devCost111=measureValue1111 * DEV_COST_LANGUAGE_1 + measureValue1112 * DEV_COST_LANGUAGE_2;
  verifyComponentMeasures(111,devCost111,debt111 / (double)devCost111,C);
  long devCost112=measureValue1121 * DEV_COST_LANGUAGE_2;
  verifyComponentMeasures(112,devCost112,debt112 / (double)devCost112,C);
  long devCost121=measureValue1211 * DEV_COST_LANGUAGE_1;
  verifyComponentMeasures(121,devCost121,debt121 / (double)devCost121,A);
  long devCost11=devCost111 + devCost112;
  verifyComponentMeasures(11,devCost11,0,A);
  long devCost12=devCost121;
  verifyComponentMeasures(12,devCost12,0,A);
  long devCost13=0;
  verifyComponentMeasures(13,devCost13,0,A);
  long devCost1=devCost11 + devCost12 + devCost13;
  verifyComponentMeasures(1,devCost1,debt1 / (double)devCost1,A);
}
