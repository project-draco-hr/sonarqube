{
  issues=new ArrayList<Issue>();
  result=new DefaultIssueQueryResult(issues);
  result.addRules(newArrayList(Rule.create("squid","AvoidCycle").setName("Avoid cycle")));
  when(issueFinder.find(any(IssueQuery.class))).thenReturn(result);
  when(issueChangelogService.changelog(any(Issue.class))).thenReturn(mock(IssueChangelog.class));
  issue_creation_date=DateUtils.parseDateTime("2014-01-22T19:10:03+0100");
  when(i18n.formatDateTime(any(Locale.class),eq(issue_creation_date))).thenReturn("Jan 22, 2014 10:03 AM");
  when(i18n.message(any(Locale.class),eq("created"),eq((String)null))).thenReturn("Created");
  tester=new WsTester(new IssuesWs(new IssueShowWsHandler(issueFinder,issueService,issueChangelogService,actionService,debtFormatter,technicalDebtManager,i18n)));
}
