{
  setUserAsSystemAdmin();
  propertyDefinitions.addComponent(PropertyDefinition.builder("sonar.test.jira").defaultValue("abc").build());
  propertyDefinitions.addComponent(PropertyDefinition.builder("sonar.autogenerated").multiValues(true).build());
  insertProperties(newGlobalPropertyDto().setKey("sonar.autogenerated").setValue("val1,val2,val3"));
  propertyDefinitions.addComponent(PropertyDefinition.builder("sonar.demo").type(PropertyType.PROPERTY_SET).fields(PropertyFieldDefinition.build("text").name("Text").build(),PropertyFieldDefinition.build("boolean").name("Boolean").build()).build());
  insertProperties(newGlobalPropertyDto().setKey("sonar.demo").setValue("1,2"),newGlobalPropertyDto().setKey("sonar.demo.1.text").setValue("foo"),newGlobalPropertyDto().setKey("sonar.demo.1.boolean").setValue("true"),newGlobalPropertyDto().setKey("sonar.demo.2.text").setValue("bar"),newGlobalPropertyDto().setKey("sonar.demo.2.boolean").setValue("false"));
  String result=ws.newRequest().setParam("keys","sonar.test.jira,sonar.autogenerated,sonar.demo").setMediaType(JSON).execute().getInput();
  JsonAssert.assertJson(ws.getDef().responseExampleAsString()).isSimilarTo(result);
}
