{
  if (!props.containsKey(PROPERTY_MODULES)) {
    for (    String pattern : getListFromProperty(props,PROPERTY_LIBRARIES)) {
      File[] files=getLibraries(baseDir,pattern);
      if (files == null || files.length == 0) {
        LOG.error(MessageFormat.format(INVALID_VALUE_OF_X_FOR_Y,PROPERTY_LIBRARIES,projectId));
        throw new IllegalStateException("No files nor directories matching '" + pattern + "' in directory "+ baseDir);
      }
    }
    String[] testDirs=getListFromProperty(props,PROPERTY_TESTS);
    checkExistenceOfDirectories(projectId,baseDir,testDirs,PROPERTY_TESTS);
    String[] binDirs=getListFromProperty(props,PROPERTY_BINARIES);
    checkExistenceOfDirectories(projectId,baseDir,binDirs,PROPERTY_BINARIES);
  }
}
