{
  ServerFileSystem fileSystem=mock(ServerFileSystem.class);
  File tempDir=this.temp.getRoot();
  when(fileSystem.getTempDir()).thenReturn(tempDir);
  File dir=new RailsAppsDeployer(fileSystem,mock(PluginRepository.class)).prepareRailsDirectory();
  assertThat(dir.isDirectory(),is(true));
  assertThat(dir.exists(),is(true));
  assertThat(dir.getCanonicalPath(),is(new File(tempDir,"ror").getCanonicalPath()));
}
