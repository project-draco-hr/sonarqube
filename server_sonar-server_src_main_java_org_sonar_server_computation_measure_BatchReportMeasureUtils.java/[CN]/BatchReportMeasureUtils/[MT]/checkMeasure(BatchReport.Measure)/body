{
  if (!hasValueTypeAndMetricKey(measure)) {
    throw newIllegalStateException(measure);
  }
  boolean hasValueOrData;
switch (measure.getValueType()) {
case DOUBLE:
    hasValueOrData=measure.hasDoubleValue();
  break;
case INT:
hasValueOrData=measure.hasIntValue();
break;
case LONG:
hasValueOrData=measure.hasLongValue();
break;
case STRING:
hasValueOrData=measure.hasStringValue();
break;
case BOOLEAN:
hasValueOrData=measure.hasBooleanValue();
break;
default :
throw newIllegalStateException(measure);
}
if (!hasValueOrData) {
throw newIllegalStateException(measure);
}
}
