{
  UpdateUser updateUser=UpdateUser.create((String)params.get("login"));
  if (params.containsKey("name")) {
    updateUser.setName((String)params.get("name"));
  }
  if (params.containsKey("email")) {
    updateUser.setEmail((String)params.get("email"));
  }
  if (params.containsKey("scm_accounts")) {
    updateUser.setScmAccounts(RubyUtils.toStrings(params.get("scm_accounts")));
  }
  if (params.containsKey("password")) {
    updateUser.setPassword((String)params.get("password"));
    updateUser.setPasswordConfirmation((String)params.get("password_confirmation"));
  }
  userUpdater.update(updateUser);
}
