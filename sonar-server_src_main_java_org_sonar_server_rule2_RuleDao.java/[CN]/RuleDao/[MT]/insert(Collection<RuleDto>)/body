{
  DbSession session=mybatis.openSession(true);
  try {
    for (    RuleDto rule : rules) {
      session.enqueue(new DtoIndexAction<RuleDto>(this.getIndexName(),IndexAction.Method.INSERT,rule));
      getMapper(session).batchInsert(rule);
    }
    session.commit();
  }
  finally {
    MyBatis.closeQuietly(session);
  }
}
