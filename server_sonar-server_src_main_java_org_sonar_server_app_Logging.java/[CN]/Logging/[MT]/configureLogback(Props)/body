{
  String configProfilingLevel=props.value(Profiling.CONFIG_PROFILING_LEVEL,"NONE");
  Profiling.Level profilingLevel=Profiling.Level.fromConfigString(configProfilingLevel);
  String consoleEnabled=props.value(CONFIG_LOG_CONSOLE,"false");
  Map<String,String> variables=ImmutableMap.of("sonar.path.logs",props.nonNullValue("sonar.path.logs"),"LOGFILE_LOGGING_FORMAT",profilingLevel == Profiling.Level.FULL ? LOGFILE_FULL_LOGGING_FORMAT : LOGFILE_STANDARD_LOGGING_FORMAT,"CONSOLE_LOGGING_FORMAT",profilingLevel == Profiling.Level.FULL ? CONSOLE_FULL_LOGGING_FORMAT : CONSOLE_STANDARD_LOGGING_FORMAT,"CONSOLE_ENABLED",consoleEnabled);
  Logback.configure("/org/sonar/server/platform/logback.xml",variables);
}
