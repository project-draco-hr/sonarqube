{
  String componentKey=request.requiredParam("key");
  Integer fromParam=request.intParam("from");
  Integer toParam=request.intParam("to");
  int from=(fromParam != null && fromParam > 0) ? fromParam : 1;
  List<String> sourceHtml=sourceService.getSourcesByComponent(componentKey,from,toParam);
  if (sourceHtml == null) {
    throw new NotFoundException("Component : " + componentKey + " has no source.");
  }
  String scmAuthorData=sourceService.getScmAuthorData(componentKey);
  String scmDataData=sourceService.getScmDateData(componentKey);
  int to=toParam != null ? toParam : sourceHtml.size() + from;
  JsonWriter json=response.newJsonWriter();
  json.beginObject();
  writeSource(sourceHtml,from,json);
  writeScm(scmAuthorData,scmDataData,from,to,json);
  json.endObject().close();
}
