{
  String componentKey=request.requiredParam("key");
  Integer from=request.intParam("from");
  Integer to=request.intParam("to");
  List<String> sourceHtml=sourceService.sourcesFromComponent(componentKey,from,to);
  if (sourceHtml == null) {
    throw new NotFoundException("Component : " + componentKey + " has no source.");
  }
  from=from != null ? from : 1;
  JsonWriter json=response.newJsonWriter();
  json.beginObject().name("source").beginObject();
  for (int i=0; i < sourceHtml.size(); i++) {
    String line=sourceHtml.get(i);
    json.prop(Integer.toString(i + from),line);
  }
  json.endObject().endObject().close();
}
