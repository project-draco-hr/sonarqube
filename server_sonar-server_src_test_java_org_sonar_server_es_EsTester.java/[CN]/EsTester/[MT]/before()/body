{
  EsServerHolder holder=EsServerHolder.get();
  transportClient=holder.newClient();
  client=new EsClient(new Profiling(new Settings()),transportClient);
  client.start();
  if (!definitions.isEmpty()) {
    ComponentContainer container=new ComponentContainer();
    container.addSingletons(definitions);
    container.addSingleton(client);
    container.addSingleton(IndexRegistry.class);
    container.addSingleton(IndexCreator.class);
    container.startComponents();
  }
}
