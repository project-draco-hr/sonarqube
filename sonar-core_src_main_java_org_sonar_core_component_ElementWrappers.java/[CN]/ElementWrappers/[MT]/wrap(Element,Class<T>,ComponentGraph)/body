{
  ElementKey key=new ElementKey(element,wrapperClass);
  T wrapper=(T)cache.get(key);
  if (wrapper == null) {
    try {
      wrapper=(T)key.wrapperClass.newInstance();
      wrapper.setElement(key.element);
      wrapper.setGraph(graph);
      cache.put(key,wrapper);
    }
 catch (    InstantiationException e) {
      throw new IllegalStateException("Class has no default constructor: " + wrapperClass,e);
    }
catch (    IllegalAccessException e) {
      throw new IllegalStateException("Can not access to default constructor: " + wrapperClass,e);
    }
  }
  return wrapper;
}
