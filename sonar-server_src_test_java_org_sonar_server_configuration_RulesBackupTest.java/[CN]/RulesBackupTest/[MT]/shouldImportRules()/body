{
  RulesDao rulesDao=getDao().getRulesDao();
  RulesBackup rulesBackup=new RulesBackup(getSession());
  SonarConfig sonarConfig=new SonarConfig();
  Rule rule=Rule.create("repo","key","name").setDescription("description");
  Rule userRule=Rule.create("repo","key2","name2").setDescription("description2");
  userRule.setParent(rule);
  userRule.createParameter("param").setDefaultValue("value");
  getSession().save(rule);
  sonarConfig.setRules(Arrays.asList(userRule));
  rulesBackup.importXml(sonarConfig);
  List<Rule> rules=rulesDao.getRules();
  assertThat(rules.size(),is(2));
}
