{
  backendCleanup.clearDb();
  session.commit();
  assertThat(tester.get(ComponentDao.class).getNullableByKey(session,project.key())).isNull();
  assertThat(tester.get(ComponentDao.class).getNullableByKey(session,file.key())).isNull();
  assertThat(tester.get(IssueDao.class).getNullableByKey(session,file.key())).isNull();
  assertThat(tester.get(RuleDao.class).getNullableByKey(session,rule.getKey())).isNull();
  assertThat(tester.get(IssueIndex.class).getNullableByKey(issue.getKey())).isNotNull();
  assertThat(tester.get(IssueAuthorizationIndex.class).getNullableByKey(project.getKey())).isNotNull();
  assertThat(tester.get(RuleIndex.class).getNullableByKey(rule.getKey())).isNotNull();
}
