{
  RuleDto templateRule=createTemplateRule();
  NewRule newRule=new NewRule().setTemplateKey(templateRule.getKey()).setName("My custom").setHtmlDescription("Some description").setSeverity("INVALID").setStatus(RuleStatus.READY).setParams(newArrayList(new NewRuleParam("regex").setDefaultValue("a.*")));
  try {
    creator.create(newRule);
    fail();
  }
 catch (  Exception e) {
    assertThat(e).isInstanceOf(IllegalArgumentException.class).hasMessage("This severity is invalid : INVALID");
  }
}
