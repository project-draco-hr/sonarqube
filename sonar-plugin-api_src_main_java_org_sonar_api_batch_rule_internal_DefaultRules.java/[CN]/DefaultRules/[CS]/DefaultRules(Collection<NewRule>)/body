{
  ImmutableListMultimap.Builder<String,Rule> builder=ImmutableListMultimap.builder();
  for (  NewRule newRule : newRules) {
    DefaultRule r=new DefaultRule(newRule);
    builder.put(r.key().repository(),r);
  }
  rulesByRepository=builder.build();
  rulesWithDebt=newArrayList();
  for (  Rule rule : rulesByRepository.values()) {
    if (rule.characteristic() != null) {
      rulesWithDebt.add(rule);
    }
  }
}
