{
  PermissionTemplate permissionTemplate=new PermissionTemplate(permissionTemplateDto.getId(),permissionTemplateDto.getName(),permissionTemplateDto.getDescription());
  if (permissionTemplateDto.getUsersPermissions() != null) {
    for (    PermissionTemplateUserDto userPermission : permissionTemplateDto.getUsersPermissions()) {
      permissionTemplate.registerUserPermission(userPermission.getPermission(),userPermission.getUserName());
    }
  }
  if (permissionTemplateDto.getGroupsPermissions() != null) {
    for (    PermissionTemplateGroupDto groupPermission : permissionTemplateDto.getGroupsPermissions()) {
      permissionTemplate.registerGroupPermission(groupPermission.getPermission(),groupPermission.getGroupName());
    }
  }
  return permissionTemplate;
}
