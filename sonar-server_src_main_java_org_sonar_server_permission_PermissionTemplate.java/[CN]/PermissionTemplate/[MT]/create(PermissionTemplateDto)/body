{
  if (permissionTemplateDto == null) {
    return null;
  }
  PermissionTemplate permissionTemplate=new PermissionTemplate(permissionTemplateDto.getId(),permissionTemplateDto.getName(),permissionTemplateDto.getDescription());
  if (permissionTemplateDto.getUsersPermissions() != null) {
    for (    PermissionTemplateUserDto userPermission : permissionTemplateDto.getUsersPermissions()) {
      permissionTemplate.registerUserPermission(permissionTemplateDto.getId(),userPermission.getUserId(),userPermission.getUserName(),userPermission.getUserLogin(),userPermission.getPermission());
    }
  }
  if (permissionTemplateDto.getGroupsPermissions() != null) {
    for (    PermissionTemplateGroupDto groupPermission : permissionTemplateDto.getGroupsPermissions()) {
      permissionTemplate.registerGroupPermission(groupPermission.getPermission(),permissionTemplateDto.getId(),groupPermission.getGroupId(),groupPermission.getGroupName());
    }
  }
  return permissionTemplate;
}
