{
  if (permissionTemplateDto == null) {
    return null;
  }
  PermissionTemplate permissionTemplate=new PermissionTemplate(permissionTemplateDto.getId(),permissionTemplateDto.getName(),permissionTemplateDto.getKee(),permissionTemplateDto.getDescription());
  List<PermissionTemplateUserDto> usersPermissions=permissionTemplateDto.getUsersPermissions();
  if (usersPermissions != null) {
    for (    PermissionTemplateUserDto userPermission : usersPermissions) {
      permissionTemplate.registerUserPermission(permissionTemplateDto.getId(),userPermission.getUserId(),userPermission.getUserName(),userPermission.getUserLogin(),userPermission.getPermission());
    }
  }
  List<PermissionTemplateGroupDto> groupsPermissions=permissionTemplateDto.getGroupsPermissions();
  if (groupsPermissions != null) {
    for (    PermissionTemplateGroupDto groupPermission : groupsPermissions) {
      permissionTemplate.registerGroupPermission(groupPermission.getPermission(),permissionTemplateDto.getId(),groupPermission.getGroupId(),groupPermission.getGroupName());
    }
  }
  return permissionTemplate;
}
