{
  QualityProfileDto qualityProfileOnXoo1=QualityProfileDto.createFor("sonar-way-xoo1-12345").setLanguage(xoo1.getKey()).setRulesUpdatedAtAsDate(new Date()).setName("Sonar way");
  QualityProfileDto qualityProfileOnXoo2=QualityProfileDto.createFor("sonar-way-xoo2-12345").setLanguage(xoo2.getKey()).setRulesUpdatedAtAsDate(new Date()).setName("Sonar way");
  QualityProfileDto anotherQualityProfileOnXoo1=QualityProfileDto.createFor("sonar-way-xoo1-45678").setLanguage(xoo1.getKey()).setRulesUpdatedAtAsDate(new Date()).setName("Another way");
  ComponentDto project=newProjectDto("project-uuid");
  qualityProfileDb.insertQualityProfiles(qualityProfileOnXoo1,qualityProfileOnXoo2,anotherQualityProfileOnXoo1);
  qualityProfileDb.insertProjectWithQualityProfileAssociations(project,qualityProfileOnXoo1,qualityProfileOnXoo2);
  String result=ws.newRequest().setParam(PARAM_PROJECT_KEY,project.key()).execute().getInput();
  assertThat(result).contains("sonar-way-xoo1-12345","sonar-way-xoo2-12345").doesNotContain("sonar-way-xoo1-45678");
}
