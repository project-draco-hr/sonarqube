{
  final List<IssueDto> issues=newArrayList();
  ResultHandler resultHandler=new ResultHandler(){
    @Override public void handleResult(    ResultContext context){
      issues.add((IssueDto)context.getResultObject());
      if (issues.size() >= maxResults) {
        context.stop();
      }
    }
  }
;
  session.select("selectIssueAndProjectIds",query,resultHandler);
  return issues;
}
