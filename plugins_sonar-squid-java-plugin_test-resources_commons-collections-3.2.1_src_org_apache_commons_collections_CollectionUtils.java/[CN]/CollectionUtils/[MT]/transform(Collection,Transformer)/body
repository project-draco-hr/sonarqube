{
  if (collection != null && transformer != null) {
    if (collection instanceof List) {
      List list=(List)collection;
      for (ListIterator it=list.listIterator(); it.hasNext(); ) {
        it.set(transformer.transform(it.next()));
      }
    }
 else {
      Collection resultCollection=collect(collection,transformer);
      collection.clear();
      collection.addAll(resultCollection);
    }
  }
}
