{
  if (obj instanceof Map) {
    Map map=(Map)obj;
    if (map.containsKey(index)) {
      return map.get(index);
    }
  }
  int idx=-1;
  if (index instanceof Integer) {
    idx=((Integer)index).intValue();
  }
  if (idx < 0) {
    return obj;
  }
 else   if (obj instanceof Map) {
    Map map=(Map)obj;
    Iterator iterator=map.keySet().iterator();
    return index(iterator,idx);
  }
 else   if (obj instanceof List) {
    return ((List)obj).get(idx);
  }
 else   if (obj instanceof Object[]) {
    return ((Object[])obj)[idx];
  }
 else   if (obj instanceof Enumeration) {
    Enumeration it=(Enumeration)obj;
    while (it.hasMoreElements()) {
      idx--;
      if (idx == -1) {
        return it.nextElement();
      }
 else {
        it.nextElement();
      }
    }
  }
 else   if (obj instanceof Iterator) {
    return index((Iterator)obj,idx);
  }
 else   if (obj instanceof Collection) {
    Iterator iterator=((Collection)obj).iterator();
    return index(iterator,idx);
  }
  return obj;
}
