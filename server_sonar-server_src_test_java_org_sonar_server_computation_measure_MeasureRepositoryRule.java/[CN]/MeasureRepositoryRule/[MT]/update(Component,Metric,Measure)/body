{
  InternalKey internalKey=new InternalKey(component.getRef(),metric.getKey(),measure.getRuleId(),measure.getCharacteristicId());
  if (!rawMeasures.containsKey(internalKey)) {
    throw new UnsupportedOperationException(format("A measure can only be updated if it has been added first for Component (ref=%s), Metric (key=%s), ruleId=%s, characteristicId=%s",component.getRef(),metric.getKey(),measure.getRuleId(),measure.getCharacteristicId()));
  }
  rawMeasures.put(internalKey,measure);
}
