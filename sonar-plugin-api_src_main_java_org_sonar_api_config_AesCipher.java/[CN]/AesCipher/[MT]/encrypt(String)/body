{
  String path=settings.getClearString(CoreProperties.ENCRYPTION_PATH_TO_SECRET_KEY);
  try {
    javax.crypto.Cipher cipher=javax.crypto.Cipher.getInstance("AES");
    cipher.init(javax.crypto.Cipher.ENCRYPT_MODE,loadSecretFileFromFile(path));
    return new String(Base64.encodeBase64(cipher.doFinal(clearText.getBytes(Charsets.UTF_8))));
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}
