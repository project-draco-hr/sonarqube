{
  String path=settings.getClearString(CoreProperties.ENCRYPTION_PATH_TO_SECRET_KEY);
  try {
    javax.crypto.Cipher cipher=javax.crypto.Cipher.getInstance("AES");
    cipher.init(javax.crypto.Cipher.DECRYPT_MODE,loadSecretFileFromFile(path));
    byte[] cipherData=cipher.doFinal(Base64.decodeBase64(StringUtils.trim(encryptedText)));
    return new String(cipherData);
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}
