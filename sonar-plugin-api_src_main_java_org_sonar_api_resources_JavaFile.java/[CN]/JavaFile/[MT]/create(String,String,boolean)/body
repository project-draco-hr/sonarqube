{
  JavaFile javaFile=JavaFile.create(relativePathFromBasedir);
  if (relativePathFromSourceDir.contains(Directory.SEPARATOR)) {
    javaFile.packageFullyQualifiedName=StringUtils.substringBeforeLast(relativePathFromSourceDir,Directory.SEPARATOR);
    javaFile.packageFullyQualifiedName=StringUtils.replace(javaFile.packageFullyQualifiedName,Directory.SEPARATOR,".");
    javaFile.filename=StringUtils.substringAfterLast(relativePathFromSourceDir,Directory.SEPARATOR);
    if (javaFile.filename.endsWith(JAVA_SUFFIX)) {
      javaFile.className=StringUtils.removeEndIgnoreCase(javaFile.filename,JAVA_SUFFIX);
    }
 else     if (javaFile.filename.endsWith(JAV_SUFFIX)) {
      javaFile.className=StringUtils.removeEndIgnoreCase(javaFile.filename,JAV_SUFFIX);
    }
    javaFile.fullyQualifiedName=javaFile.packageFullyQualifiedName + "." + javaFile.className;
    javaFile.setDeprecatedKey(javaFile.fullyQualifiedName);
  }
 else {
    javaFile.packageFullyQualifiedName=JavaPackage.DEFAULT_PACKAGE_NAME;
    javaFile.className=StringUtils.removeEndIgnoreCase(relativePathFromSourceDir,JAVA_SUFFIX);
    javaFile.fullyQualifiedName=javaFile.className;
    javaFile.setDeprecatedKey(JavaPackage.DEFAULT_PACKAGE_NAME + "." + javaFile.className);
  }
  javaFile.unitTest=unitTest;
  javaFile.parent.setDeprecatedKey(javaFile.packageFullyQualifiedName);
  return javaFile;
}
