{
  if (file == null || !StringUtils.endsWithIgnoreCase(file.getName(),JAVA_SUFFIX)) {
    return null;
  }
  PathResolver.RelativePath relativePath=new PathResolver().relativePath(unitTest ? module.getFileSystem().getTestDirs() : module.getFileSystem().getSourceDirs(),file);
  if (relativePath != null) {
    JavaFile sonarFile=fromRelativePath(relativePath.path(),unitTest);
    sonarFile.setPath(new PathResolver().relativePath(module.getFileSystem().getBasedir(),file));
    return sonarFile;
  }
  return null;
}
