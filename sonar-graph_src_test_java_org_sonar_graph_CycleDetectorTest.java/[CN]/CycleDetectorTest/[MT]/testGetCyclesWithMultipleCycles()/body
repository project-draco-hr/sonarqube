{
  DirectedGraph<String,StringEdge> dcg=DirectedGraph.createStringDirectedGraph();
  dcg.addEdge("A","B").addEdge("B","C").addEdge("C","D").addEdge("D","A");
  dcg.addEdge("C","A");
  dcg.addEdge("B","A");
  dcg.addEdge("A","E").addEdge("E","C");
  dcg.addEdge("E","D");
  dcg.addEdge("E","F");
  dcg.addEdge("F","C");
  CycleDetector<String> cycleDetector=new CycleDetector<String>(dcg);
  cycleDetector.detectCycles();
  assertThat(cycleDetector.getCycles()).hasSize(8);
  if (SystemUtils.IS_JAVA_1_6 || SystemUtils.IS_JAVA_1_7) {
    assertThat(cycleDetector.getSearchCyclesCalls()).isEqualTo(8);
  }
 else {
    assertThat(cycleDetector.getSearchCyclesCalls()).isEqualTo(11);
  }
}
