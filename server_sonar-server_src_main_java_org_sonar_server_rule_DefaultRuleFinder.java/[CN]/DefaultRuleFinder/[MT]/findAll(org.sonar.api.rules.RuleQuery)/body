{
  List<org.sonar.api.rules.Rule> rules=newArrayList();
  for (  Rule rule : index.search(toQuery(query),new QueryContext(userSession)).getHits()) {
    rules.add(toRule(rule));
  }
  return rules;
}
