{
  DetailedTextBlock original=convert(duplication.getOriginPosition(),id);
  for (  BatchReport.Duplicate duplicate : duplication.getDuplicateList()) {
    if (duplicate.hasOtherFileRef()) {
      duplicationRepository.addDuplication(file,original,treeRootHolder.getComponentByRef(duplicate.getOtherFileRef()),convert(duplicate.getRange()));
    }
 else {
      duplicationRepository.addDuplication(file,original,convert(duplicate.getRange()));
    }
  }
}
