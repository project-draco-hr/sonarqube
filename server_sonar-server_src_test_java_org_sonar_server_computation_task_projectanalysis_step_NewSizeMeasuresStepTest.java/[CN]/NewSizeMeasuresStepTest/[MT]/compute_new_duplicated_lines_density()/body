{
  setChangesets(FILE_1_REF,FILE_2_REF,FILE_3_REF,FILE_4_REF);
  setNclocsExcept(FILE_1_REF,2,4,6);
  setNclocsExcept(FILE_2_REF);
  setNclocsExcept(FILE_3_REF,1,2,3,4,5,6,7,8,9,10,11,12);
  setNclocsExcept(FILE_4_REF,1,2);
  addDuplicatedBlock(FILE_1_REF,2);
  addDuplicatedBlock(FILE_3_REF,10);
  addDuplicatedBlock(FILE_4_REF,12);
  underTest.execute();
  assertRawMeasureValue(FILE_1_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,25d,null);
  assertRawMeasureValue(FILE_2_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,0d,null);
  assertNoRawMeasure(FILE_3_REF,NEW_DUPLICATED_LINES_DENSITY_KEY);
  assertRawMeasureValue(FILE_4_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,100d,null);
  assertRawMeasureValue(DIRECTORY_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,10.5d,null);
  assertNoRawMeasure(DIRECTORY_2_REF,NEW_DUPLICATED_LINES_DENSITY_KEY);
  assertRawMeasureValue(SUB_MODULE_1_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,10.5d,null);
  assertRawMeasureValue(SUB_MODULE_2_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,100d,null);
  assertRawMeasureValue(MODULE_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,78.6d,null);
  assertRawMeasureValue(ROOT_REF,NEW_DUPLICATED_LINES_DENSITY_KEY,78.6d,null);
}
