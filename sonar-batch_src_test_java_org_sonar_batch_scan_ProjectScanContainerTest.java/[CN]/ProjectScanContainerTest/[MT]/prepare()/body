{
  projectBootstrapper=mock(ProjectBootstrapper.class);
  bootstrapProperties=new BootstrapProperties(Collections.<String,String>emptyMap());
  AnalysisMode analysisMode=new AnalysisMode(bootstrapProperties);
  when(projectBootstrapper.bootstrap()).thenReturn(new ProjectReactor(ProjectDefinition.create()));
  settings=new GlobalSettings(bootstrapProperties,new PropertyDefinitions(),mock(SettingsReferential.class),new PropertiesConfiguration(),analysisMode);
  parentContainer=new ComponentContainer();
  parentContainer.add(settings);
  parentContainer.add(System2.INSTANCE);
  parentContainer.add(bootstrapProperties);
  parentContainer.add(analysisMode);
  parentContainer.add(new PropertiesConfiguration());
  parentContainer.add(mock(SettingsReferential.class));
  container=new ProjectScanContainer(parentContainer);
}
