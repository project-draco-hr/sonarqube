{
  File coverage=new File(getClass().getResource("/org/sonar/api/utils/CoberturaReportParserUtilsTest/shouldInsertCoverageAtFileLevel/coverage.xml").toURI());
  InputFile innerClass=mock(InputFile.class);
  when(fs.inputFile(eq(new File("/Users/simon/projects/sonar/trunk/tests/integration/reference-projects/reference/src/main/java","org/sonar/samples/InnerClass.java")))).thenReturn(innerClass);
  parser.parseReport(coverage,context);
  verify(context).saveMeasure(eq(innerClass),argThat(new IsMeasure(CoreMetrics.LINES_TO_COVER,35.0)));
  verify(context).saveMeasure(eq(innerClass),argThat(new IsMeasure(CoreMetrics.UNCOVERED_LINES,22.0)));
  verify(context).saveMeasure(eq(innerClass),argThat(new IsMeasure(CoreMetrics.CONDITIONS_TO_COVER,4.0)));
  verify(context).saveMeasure(eq(innerClass),argThat(new IsMeasure(CoreMetrics.UNCOVERED_CONDITIONS,3.0)));
  verify(context,never()).saveMeasure(argThat(new IsResource(Scopes.FILE,Qualifiers.FILE,"org.sonar.samples.InnerClass$InnerClassInside")),argThat(new IsMeasure(CoreMetrics.LINES_TO_COVER)));
  verify(context,never()).saveMeasure(argThat(new IsResource(Scopes.FILE,Qualifiers.FILE,"org.sonar.samples.InnerClass$InnerClassInside")),argThat(new IsMeasure(CoreMetrics.CONDITIONS_TO_COVER)));
  verify(context,never()).saveMeasure(argThat(new IsResource(Scopes.FILE,Qualifiers.FILE,"org.sonar.samples.InnerClass$InnerClassInside")),argThat(new IsMeasure(CoreMetrics.UNCOVERED_CONDITIONS)));
  verify(context,never()).saveMeasure(argThat(new IsResource(Scopes.FILE,Qualifiers.FILE,"org.sonar.samples.InnerClass$InnerClassInside")),argThat(new IsMeasure(CoreMetrics.UNCOVERED_LINES)));
  verify(fs,never()).inputFile(eq(new File("/Users/simon/projects/sonar/trunk/tests/integration/reference-projects/reference/src/main/java","org/sonar/samples/PrivateClass.java")));
  verify(context).saveMeasure(eq(innerClass),argThat(new IsMeasure(CoreMetrics.COVERAGE_LINE_HITS_DATA,"22=2;25=0;26=0;29=0;30=0;31=0;34=1;35=1;36=1;37=0;39=1;41=1;44=2;46=1;47=1;50=0;51=0;52=0;53=0;55=0;57=0;60=0;61=0;64=1;71=1;73=1;76=0;77=0;80=0;81=0;85=0;87=0;91=0;93=0;96=1")));
}
