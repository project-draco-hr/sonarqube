{
  RuleKey ruleKey=RuleKey.of("squid","AvoidCycle");
  Rule rule=Rule.create("squid","AvoidCycle");
  rule.setId(1);
  when(rulefinder.findByKey(ruleKey)).thenReturn(rule);
  DefaultRequirement defaultRequirement=mock(DefaultRequirement.class);
  RequirementDto requirement=mock(RequirementDto.class);
  when(requirement.toDefaultRequirement()).thenReturn(defaultRequirement);
  when(requirementDao.selectByRuleId(1)).thenReturn(requirement);
  DefaultRequirement result=service.requirement(ruleKey);
  assertThat(result).isEqualTo(defaultRequirement);
}
