{
  Model with=Model.createByName(TechnicalDebtModel.MODEL_NAME);
  Characteristic efficiency=with.createCharacteristicByKey("efficiency","Efficiency");
  Rule fooRule=Rule.create("foo","bar","Bar");
  Characteristic requirement=with.createCharacteristicByRule(fooRule);
  efficiency.addChild(requirement);
  ValidationMessages messages=ValidationMessages.create();
  defaultCharacteristics.add(efficiency);
  technicalDebtMergeModel.mergeWith(with,messages,mockRuleCache());
  assertThat(model.getCharacteristics()).hasSize(1);
  assertThat(model.getCharacteristicByKey("efficiency").getName()).isEqualTo("Efficiency");
  assertThat(model.getCharacteristicByRule(fooRule)).isNull();
  assertThat(messages.getWarnings()).hasSize(1);
  assertThat(messages.getWarnings().get(0)).contains("foo");
}
