{
  boolean keep=(ClassUtils.isAssignable(extension.getClass(),type) || (org.sonar.api.batch.Sensor.class.equals(type) && ClassUtils.isAssignable(extension.getClass(),Sensor.class))) && (matcher == null || matcher.accept(extension));
  if (keep && project != null && ClassUtils.isAssignable(extension.getClass(),CheckProject.class)) {
    keep=((CheckProject)extension).shouldExecuteOnProject(project);
  }
  return keep;
}
