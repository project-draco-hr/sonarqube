{
  batchReportWriter.writeComponentSymbols(1,Arrays.asList(newSymbol(1,1,1,2,2,0,2,1,3,4,3,5),newSymbol(2,0,2,2,1,0,1,2,3,0,3,2)));
  inputFile.setOriginalLineOffsets(new int[]{0,4,7});
  sut.applySymbolReferences(inputFile,output);
  FileSourceDb.Data data=output.build();
  assertThat(data.getLines(0).getSymbols()).isEqualTo("1,2,1;0,2,2");
  assertThat(data.getLines(1).getSymbols()).isEqualTo("0,1,1;0,2,2");
  assertThat(data.getLines(2).getSymbols()).isEqualTo("4,5,1;0,2,2");
}
