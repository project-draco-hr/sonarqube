{
  batchReportWriter.writeComponentSyntaxHighlighting(1,Arrays.asList(newRule(1,0,1,3,HighlightingType.ANNOTATION),newRule(2,0,2,2,HighlightingType.COMMENT),newRule(3,0,3,9,HighlightingType.CONSTANT),newRule(3,1,3,8,HighlightingType.KEYWORD)));
  inputFile.setOriginalLineOffsets(new int[]{0,4,7});
  sut.applyHighlighting(inputFile,output);
  FileSourceDb.Data data=output.build();
  assertThat(data.getLines(0).getHighlighting()).isEqualTo("0,3,a");
  assertThat(data.getLines(1).getHighlighting()).isEqualTo("0,2,cd");
  assertThat(data.getLines(2).getHighlighting()).isEqualTo("0,9,c;1,8,k");
}
