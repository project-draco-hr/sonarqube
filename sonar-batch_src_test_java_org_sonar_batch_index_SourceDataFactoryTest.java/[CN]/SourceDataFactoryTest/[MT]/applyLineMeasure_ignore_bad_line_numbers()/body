{
  Metric metric=CoreMetrics.COVERAGE_LINE_HITS_DATA;
  when(measureCache.byMetric("component_key",metric.key())).thenReturn(Arrays.asList(new Measure().setData("30=42").setMetric(metric)));
  sut.applyLineMeasure("component_key",metric.key(),output,new SourceDataFactory.MeasureOperation(){
    @Override public void apply(    String value,    FileSourceDb.Line.Builder lineBuilder){
      lineBuilder.setUtLineHits(Integer.parseInt(value));
    }
  }
);
  FileSourceDb.Data data=output.build();
  assertThat(data.getLinesCount()).isEqualTo(3);
}
