{
  DefaultDuplication group1=new DefaultDuplication().setOriginBlock(new Duplication.Block(inputFile.key(),1,10));
  group1.duplicates().add(new Duplication.Block("anotherFile1",12,1));
  group1.duplicates().add(new Duplication.Block("anotherFile2",13,1));
  when(duplicationCache.byComponent(inputFile.key())).thenReturn(Lists.newArrayList(group1));
  sut.applyDuplications(inputFile.key(),output);
  FileSourceDb.Data data=output.build();
  assertThat(data.getLines(0).getDuplicationList()).containsExactly(1);
  assertThat(data.getLines(1).getDuplicationList()).containsExactly(1);
  assertThat(data.getLines(2).getDuplicationList()).containsExactly(1);
}
