{
  PersistentSettings persistentSettings=new PersistentSettings(dao,settings);
  persistentSettings.saveProperty("foo","bar");
  assertThat(settings.getString("foo")).isEqualTo("bar");
  verify(dao).setProperty(argThat(new ArgumentMatcher<PropertyDto>(){
    @Override public boolean matches(    Object o){
      PropertyDto dto=(PropertyDto)o;
      return dto.getKey().equals("foo");
    }
  }
));
}
