{
  HttpRequestFactory requestFactory=new HttpRequestFactory(httpServer.url());
  httpServer.stubResponseBody("{\"actionPlan\": {\"key\": \"382f6f2e-ad9d-424a-b973-9b065e04348a\"}}");
  ActionPlanClient client=new DefaultActionPlanClient(requestFactory);
  ActionPlan result=client.update(UpdateActionPlan.create().key("382f6f2e-ad9d-424a-b973-9b065e04348a").name("Short term").description("Short term issues").deadLine(stringToDate("2014-01-01")));
  assertThat(httpServer.requestedPath()).isEqualTo("/api/action_plans/update");
  assertThat(httpServer.requestParams()).includes(entry("key","382f6f2e-ad9d-424a-b973-9b065e04348a"),entry("description","Short term issues"),entry("name","Short term"),entry("deadLine","2014-01-01"));
  assertThat(result).isNotNull();
}
