{
  SnapshotCache cache=new SnapshotCache();
  String componentKey="org.apache.struts:struts-core";
  cache.put(componentKey,snapshot);
  try {
    cache.put(componentKey,mock(Snapshot.class));
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessage("Component is already registered: org.apache.struts:struts-core");
  }
}
