{
  ScheduledExecutorService scheduler=Executors.newScheduledThreadPool(1);
  Runnable updater=new Runnable(){
    public void run(){
      LOG.debug("Updating semaphore " + semaphore.getName());
      dao.update(semaphore);
    }
  }
;
  scheduler.scheduleWithFixedDelay(updater,updatePeriodInSeconds,updatePeriodInSeconds,TimeUnit.SECONDS);
  handlers.put(semaphore.getName(),scheduler);
}
