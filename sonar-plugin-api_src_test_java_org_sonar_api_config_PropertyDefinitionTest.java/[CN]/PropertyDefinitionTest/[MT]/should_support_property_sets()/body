{
  Properties props=AnnotationUtils.getAnnotation(WithPropertySet.class,Properties.class);
  Property prop=props.value()[0];
  PropertyDefinition def=PropertyDefinition.create(prop);
  assertThat(def.getFields()).hasSize(2);
  assertThat(def.getFields()[0].getKey()).isEqualTo("first");
  assertThat(def.getFields()[0].getName()).isEqualTo("First");
  assertThat(def.getFields()[0].getDescription()).isEqualTo("Description");
  assertThat(def.getFields()[0].getType()).isEqualTo(PropertyType.STRING);
  assertThat(def.getFields()[0].getOptions()).containsOnly("A","B");
  assertThat(def.getFields()[1].getKey()).isEqualTo("second");
  assertThat(def.getFields()[1].getName()).isEqualTo("Second");
  assertThat(def.getFields()[1].getType()).isEqualTo(PropertyType.INTEGER);
  assertThat(def.getFields()[1].getOptions()).isEmpty();
}
