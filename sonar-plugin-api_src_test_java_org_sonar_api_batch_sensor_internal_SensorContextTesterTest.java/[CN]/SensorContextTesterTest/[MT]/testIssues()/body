{
  assertThat(tester.issues("foo:src/Foo.java")).isEmpty();
  assertThat(tester.allIssues()).isEmpty();
  tester.newIssue().onFile(new DefaultInputFile("foo","src/Foo.java").setLines(10)).forRule(RuleKey.of("repo","rule")).atLine(1).save();
  tester.newIssue().onFile(new DefaultInputFile("foo","src/Foo.java").setLines(10)).forRule(RuleKey.of("repo","rule")).atLine(3).save();
  assertThat(tester.issues("foo:src/Foo.java")).hasSize(2);
  assertThat(tester.allIssues()).hasSize(2);
  tester.newIssue().onDir(new DefaultInputDir("foo","src")).forRule(RuleKey.of("repo","rule")).save();
  assertThat(tester.issues("foo:src")).hasSize(1);
  assertThat(tester.allIssues()).hasSize(3);
  tester.newIssue().onProject().forRule(RuleKey.of("repo","rule")).save();
  assertThat(tester.issues(null)).hasSize(1);
  assertThat(tester.allIssues()).hasSize(4);
}
