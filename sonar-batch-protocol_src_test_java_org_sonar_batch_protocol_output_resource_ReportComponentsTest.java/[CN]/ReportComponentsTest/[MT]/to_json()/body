{
  ReportComponents res=new ReportComponents();
  Date d=new SimpleDateFormat("dd/MM/yyyy").parse("12/12/2012");
  res.setAnalysisDate(d);
  ReportComponent root=new ReportComponent().setBatchId(1).setId(11).setName("Root project").setSnapshotId(111).setType(Type.PRJ);
  ReportComponent module=new ReportComponent().setBatchId(2).setId(22).setName("Module").setSnapshotId(222).setPath("module1").setType(Type.MOD);
  root.addChild(module);
  ReportComponent dir=new ReportComponent().setBatchId(3).setId(33).setName("src").setSnapshotId(333).setPath("src").setType(Type.DIR);
  module.addChild(dir);
  ReportComponent file=new ReportComponent().setBatchId(4).setId(44).setName("Foo.java").setSnapshotId(444).setPath("Foo.java").setType(Type.FIL).setTest(true).setLanguageKey("java");
  dir.addChild(file);
  res.setRoot(root);
  JSONAssert.assertEquals(IOUtils.toString(this.getClass().getResourceAsStream("ReportResourceTest/expected.json"),"UTF-8"),res.toJson(),true);
}
