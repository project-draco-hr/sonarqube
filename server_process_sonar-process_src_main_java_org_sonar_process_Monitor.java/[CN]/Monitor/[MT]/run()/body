{
  try {
    boolean ok=true;
    while (isRunning && ok) {
      LOGGER.debug("Monitoring {} processes.",processes.size());
      for (      ProcessWrapper process : processes) {
        if (!ProcessUtils.isAlive(process.process())) {
          LOGGER.info("{} is down, stopping all other processes",process.getName());
          ok=false;
          interrupt();
        }
      }
      if (ok) {
        Thread.sleep(PING_DELAY_MS);
      }
    }
  }
 catch (  InterruptedException e) {
    LOGGER.debug("Monitoring thread is interrupted");
  }
 finally {
    terminate();
  }
}
