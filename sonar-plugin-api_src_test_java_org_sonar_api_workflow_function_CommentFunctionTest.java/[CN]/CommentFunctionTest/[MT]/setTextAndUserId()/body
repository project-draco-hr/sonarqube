{
  CommentFunction function=new CommentFunction();
  Map<String,String> parameters=Maps.newHashMap();
  parameters.put("text","foo");
  DefaultReview review=new DefaultReview();
  DefaultWorkflowContext context=new DefaultWorkflowContext();
  context.setUserId(1234L);
  function.doExecute(review,new DefaultReview(),context,parameters);
  List<Comment> newComments=review.getNewComments();
  assertThat(newComments).hasSize(1);
  assertThat(newComments.get(0).getMarkdownText()).isEqualTo("foo");
  assertThat(newComments.get(0).getUserId()).isEqualTo(1234L);
}
