{
  if (duplicate.hasOtherFileKey()) {
    String crossProjectComponentKey=duplicate.getOtherFileKey();
    appendDuplication(xml,crossProjectComponentKey,duplicate);
  }
 else {
    if (duplicate.hasOtherFileRef()) {
      appendDuplication(xml,treeRootHolder.getComponentByRef(duplicate.getOtherFileRef()).getKey(),duplicate);
    }
 else {
      appendDuplication(xml,componentKey,duplicate);
    }
  }
}
