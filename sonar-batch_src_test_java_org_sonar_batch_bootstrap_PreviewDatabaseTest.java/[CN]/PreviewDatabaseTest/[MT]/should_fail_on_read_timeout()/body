{
  doThrow(new SonarException(new SocketTimeoutException())).when(server).download("/batch_bootstrap/db?project=group:project",databaseFile,60000);
  thrown.expect(SonarException.class);
  thrown.expectMessage("Preview database read timed out after 60000 ms. You can try to increase read timeout with property -Dsonar.preview.readTimeout (in seconds)");
  new PreviewDatabase(settings,server,tempUtils,mode).start();
}
