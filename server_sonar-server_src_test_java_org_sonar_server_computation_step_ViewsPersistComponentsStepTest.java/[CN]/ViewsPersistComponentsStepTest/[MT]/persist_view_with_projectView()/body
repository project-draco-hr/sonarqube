{
  ComponentDto project=newProjectDto();
  persistComponents(project);
  treeRootHolder.setRoot(createViewBuilder().addChildren(createProjectView1Builder(project).build()).build());
  underTest.execute();
  assertRowsCountInTableProjects(3);
  ComponentDto viewDto=getComponentFromDb(VIEW_KEY);
  assertDtoIsView(viewDto);
  ComponentDto pv1Dto=getComponentFromDb(PROJECT_VIEW_1_KEY);
  assertDtoIsProjectView1(pv1Dto,viewDto,viewDto,project);
}
