{
  int duplicatedLines=counter.value;
  if (context.getMetric().getKey().equals(DUPLICATED_LINES_DENSITY_KEY)) {
    Optional<Integer> nbLines=getNbLinesFromLocOrNcloc(context);
    if (nbLines.isPresent() && nbLines.get() > 0) {
      double density=Math.min(100d,100d * duplicatedLines / nbLines.get());
      return Optional.of(Measure.newMeasureBuilder().create(density));
    }
  }
  return Optional.absent();
}
