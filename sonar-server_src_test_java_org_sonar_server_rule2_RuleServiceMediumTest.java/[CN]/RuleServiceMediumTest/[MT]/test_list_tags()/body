{
  RuleKey rule1=RuleKey.of("javascript","S001");
  dao.insert(newRuleDto(rule1).setTags(Sets.newHashSet("security")).setSystemTags(Sets.newHashSet("java-coding","stephane.gamard@sonarsource.com")),dbSession);
  RuleKey rule2=RuleKey.of("java","S001");
  dao.insert(newRuleDto(rule2).setTags(Sets.newHashSet("mytag")).setSystemTags(Sets.newHashSet("")),dbSession);
  dbSession.commit();
  Set<String> tags=index.terms(RuleNormalizer.RuleField.TAGS.key(),RuleNormalizer.RuleField.SYSTEM_TAGS.key());
  assertThat(tags).containsOnly("java-coding","security","stephane.gamard@sonarsource.com","mytag");
  tags=index.terms(RuleNormalizer.RuleField.SYSTEM_TAGS.key());
  assertThat(tags).containsOnly("java-coding","stephane.gamard@sonarsource.com");
}
