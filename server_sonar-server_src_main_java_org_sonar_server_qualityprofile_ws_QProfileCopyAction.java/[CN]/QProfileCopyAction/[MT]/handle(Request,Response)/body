{
  UserSession.get().checkLoggedIn().checkGlobalPermission(GlobalPermissions.QUALITY_PROFILE_ADMIN);
  String newName=request.mandatoryParam(PARAM_PROFILE_NAME);
  String profileKey=request.mandatoryParam(PARAM_PROFILE_KEY);
  QualityProfileDto copiedProfile=profileCopier.copyToName(profileKey,newName);
  String languageKey=copiedProfile.getLanguage();
  Language language=languages.get(copiedProfile.getLanguage());
  String parentKey=copiedProfile.getParentKee();
  response.newJsonWriter().beginObject().prop("key",copiedProfile.getKey()).prop("name",copiedProfile.getName()).prop("language",languageKey).prop("languageName",language == null ? null : language.getName()).prop("isDefault",copiedProfile.isDefault()).prop("isInherited",parentKey != null).prop("parentKey",parentKey).endObject().close();
}
