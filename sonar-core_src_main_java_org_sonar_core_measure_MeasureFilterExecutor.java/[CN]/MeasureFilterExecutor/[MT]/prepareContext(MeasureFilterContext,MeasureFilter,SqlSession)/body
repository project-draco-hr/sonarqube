{
  if (filter.getBaseResourceKey() != null) {
    context.setBaseSnapshot(resourceDao.getLastSnapshot(filter.getBaseResourceKey(),session));
  }
 else   if (filter.getBaseResourceId() != null) {
    context.setBaseSnapshot(resourceDao.getLastSnapshotByResourceId(filter.getBaseResourceId(),session));
  }
}
