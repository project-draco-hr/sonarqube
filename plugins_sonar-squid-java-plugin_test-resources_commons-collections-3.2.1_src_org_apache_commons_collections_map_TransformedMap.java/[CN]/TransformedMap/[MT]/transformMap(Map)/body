{
  if (map.isEmpty()) {
    return map;
  }
  Map result=new LinkedMap(map.size());
  for (Iterator it=map.entrySet().iterator(); it.hasNext(); ) {
    Map.Entry entry=(Map.Entry)it.next();
    result.put(transformKey(entry.getKey()),transformValue(entry.getValue()));
  }
  return result;
}
