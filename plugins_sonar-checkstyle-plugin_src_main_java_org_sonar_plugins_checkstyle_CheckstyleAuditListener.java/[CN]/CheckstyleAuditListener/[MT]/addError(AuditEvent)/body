{
  String ruleKey=getRuleKey(event);
  if (ruleKey != null) {
    ActiveRule activeRule=profile.getActiveRule(CheckstyleConstants.REPOSITORY_KEY,ruleKey);
    if (activeRule != null) {
      initResource(event);
      Violation violation=new Violation(activeRule.getRule(),currentResource).setLineId(getLineId(event)).setMessage(getMessage(event));
      context.saveViolation(violation);
    }
  }
}
