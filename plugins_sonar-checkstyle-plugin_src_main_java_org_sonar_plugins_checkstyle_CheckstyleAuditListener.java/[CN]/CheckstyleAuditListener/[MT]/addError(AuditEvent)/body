{
  String ruleKey=getRuleKey(event);
  if (ruleKey != null) {
    String message=getMessage(event);
    if ("com.puppycrawl.tools.checkstyle.TreeWalker".equals(ruleKey)) {
      LOG.warn(message);
    }
    Rule rule=ruleFinder.findByKey(CheckstyleConstants.REPOSITORY_KEY,ruleKey);
    if (rule != null) {
      initResource(event);
      Violation violation=Violation.create(rule,currentResource).setLineId(getLineId(event)).setMessage(message);
      context.saveViolation(violation);
    }
  }
}
