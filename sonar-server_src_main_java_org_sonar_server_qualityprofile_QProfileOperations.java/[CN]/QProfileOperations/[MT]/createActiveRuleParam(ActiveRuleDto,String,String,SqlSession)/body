{
  RuleParamDto ruleParam=ruleDao.selectParamByRuleAndKey(activeRule.getRulId(),key,session);
  if (ruleParam == null) {
    throw new IllegalArgumentException("No rule param found");
  }
  ActiveRuleParamDto activeRuleParam=new ActiveRuleParamDto().setActiveRuleId(activeRule.getId()).setKey(key).setValue(value).setRulesParameterId(ruleParam.getId());
  activeRuleDao.insert(activeRuleParam,session);
  return activeRuleParam;
}
