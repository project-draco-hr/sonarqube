{
  ruleRegistry.deleteActiveRules(newArrayList(activeRuleDto.getId()));
  Multimap<Integer,ActiveRuleParamDto> paramsByActiveRule=ArrayListMultimap.create();
  for (  ActiveRuleParamDto param : activeRuleDao.selectParamsByActiveRuleId(activeRuleDto.getId(),session)) {
    paramsByActiveRule.put(param.getActiveRuleId(),param);
  }
  ruleRegistry.bulkIndexActiveRules(newArrayList(activeRuleDto),paramsByActiveRule);
}
