{
  List<RulesProfile> profiles=newArrayList();
  ValidationMessages messages=ValidationMessages.create();
  for (  Map.Entry<String,String> entry : xmlProfilesByPlugin.entrySet()) {
    String pluginKey=entry.getKey();
    String file=entry.getValue();
    ProfileImporter importer=getProfileImporter(pluginKey);
    RulesProfile profile=importer.importProfile(new StringReader(file),messages);
    processValidationMessages(messages,result);
    profiles.add(profile);
  }
  return profiles;
}
