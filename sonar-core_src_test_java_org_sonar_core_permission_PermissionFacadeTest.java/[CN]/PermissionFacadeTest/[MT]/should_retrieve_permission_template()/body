{
  PermissionTemplateDto permissionTemplateDto=new PermissionTemplateDto().setName("Test template");
  PermissionTemplateDto templateWithPermissions=new PermissionTemplateDto();
  permissionTemplateDao=mock(PermissionTemplateDao.class);
  when(permissionTemplateDao.selectTemplateByKey("test_template")).thenReturn(permissionTemplateDto);
  when(permissionTemplateDao.selectPermissionTemplate("Test template")).thenReturn(templateWithPermissions);
  permissionFacade=new PermissionFacade(null,null,null,permissionTemplateDao);
  PermissionTemplateDto permissionTemplate=permissionFacade.getPermissionTemplate("test_template");
  assertThat(permissionTemplate).isSameAs(templateWithPermissions);
}
