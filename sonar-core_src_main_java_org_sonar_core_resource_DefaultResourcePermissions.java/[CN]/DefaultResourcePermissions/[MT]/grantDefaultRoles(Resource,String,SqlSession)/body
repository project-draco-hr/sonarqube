{
  PermissionTemplateDto applicablePermissionTemplate=getPermissionTemplate(resource.getQualifier());
  List<String> groupNames=getEligibleGroups(role,applicablePermissionTemplate);
  for (  String groupName : groupNames) {
    Long resourceId=Long.valueOf(resource.getId());
    permissionFacade.addGroupPermission(resourceId,groupName,role,session);
  }
  List<String> logins=getEligibleUsers(role,applicablePermissionTemplate);
  for (  String login : logins) {
    Long resourceId=Long.valueOf(resource.getId());
    permissionFacade.addUserPermission(resourceId,login,role,session);
  }
}
