{
  if (resource.getId() != null) {
    DbSession session=myBatis.openSession(false);
    try {
      permissionFacade.deleteGroupPermission(Long.valueOf(resource.getId()),groupName,role,session);
      permissionFacade.insertGroupPermission(Long.valueOf(resource.getId()),groupName,role,session);
      session.commit();
    }
  finally {
      MyBatis.closeQuietly(session);
    }
  }
}
