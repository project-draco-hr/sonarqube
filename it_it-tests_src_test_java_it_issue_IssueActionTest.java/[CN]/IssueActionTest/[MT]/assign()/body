{
  assertThat(issue.assignee()).isNull();
  Issues issues=search(IssueQuery.create().issues(issue.key()));
  assertThat(issues.users()).isEmpty();
  adminIssueClient().assign(issue.key(),"admin");
  Assertions.assertThat(searchIssues(IssueQuery.create().assignees("admin"))).hasSize(1);
  projectAnalysis.run();
  Issue reloaded=searchIssueByKey(issue.key());
  assertThat(reloaded.assignee()).isEqualTo("admin");
  assertThat(reloaded.creationDate()).isEqualTo(issue.creationDate());
  issues=search(IssueQuery.create().issues(issue.key()));
  assertThat(issues.user("admin")).isNotNull();
  assertThat(issues.user("admin").name()).isEqualTo("Administrator");
  adminIssueClient().assign(issue.key(),null);
  reloaded=searchIssueByKey(issue.key());
  assertThat(reloaded.assignee()).isNull();
  Assertions.assertThat(searchIssues(IssueQuery.create().assignees("admin"))).isEmpty();
}
