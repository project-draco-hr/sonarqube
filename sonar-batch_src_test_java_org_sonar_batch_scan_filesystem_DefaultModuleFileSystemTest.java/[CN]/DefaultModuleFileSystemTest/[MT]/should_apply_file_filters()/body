{
  File basedir=new File(resourcesDir(),"main_and_test_files");
  DefaultModuleFileSystem fileSystem=new DefaultModuleFileSystem.Builder().baseDir(basedir).sourceCharset(Charsets.UTF_8).workingDir(temp.newFolder()).addSourceDir(new File(basedir,"src/main/java")).addFsFilter(new FileFilterWrapper(FileFilterUtils.nameFileFilter("Foo.java"))).build();
  List<File> files=fileSystem.files(FileQuery.onSource());
  assertThat(files).hasSize(1);
  assertThat(files.get(0).getName()).isEqualTo("Foo.java");
}
