{
  File basedir=new File(resourcesDir(),"main_and_test_files");
  DefaultModuleFileSystem fileSystem=new DefaultModuleFileSystem().setBaseDir(basedir).setWorkingDir(temp.newFolder()).addSourceDir(new File(basedir,"src/main/java")).addFilters(new FileFilterWrapper(FileFilterUtils.nameFileFilter("Foo.java")));
  List<File> files=fileSystem.files(FileQuery.onSource());
  assertThat(files).hasSize(1);
  assertThat(files.get(0).getName()).isEqualTo("Foo.java");
}
