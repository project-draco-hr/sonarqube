{
  File basedir=temp.newFolder("base");
  File workingDir=temp.newFolder("work");
  PathResolver pathResolver=mock(PathResolver.class);
  LanguageFilters languageFilters=mock(LanguageFilters.class);
  FileSystemFilter fileFilter=mock(FileSystemFilter.class);
  DefaultModuleFileSystem fileSystem=new DefaultModuleFileSystem.Builder().baseDir(basedir).workingDir(workingDir).addBinaryDir(new File(basedir,"target/classes")).addSourceDir(new File(basedir,"src/main/java")).addSourceDir(new File(basedir,"src/main/groovy")).addTestDir(new File(basedir,"src/test/java")).addFsFilter(fileFilter).sourceCharset(Charsets.UTF_8).languageFilters(languageFilters).build();
  assertThat(fileSystem).isNotNull();
  assertThat(fileSystem.baseDir().getCanonicalPath()).isEqualTo(basedir.getCanonicalPath());
  assertThat(fileSystem.workingDir().getCanonicalPath()).isEqualTo(workingDir.getCanonicalPath());
  assertThat(fileSystem.sourceDirs()).hasSize(2);
  assertThat(fileSystem.testDirs()).hasSize(1);
  assertThat(fileSystem.binaryDirs()).hasSize(1);
  assertThat(fileSystem.sourceCharset().name()).isEqualTo("UTF-8");
  assertThat(fileSystem.fsFilters()).containsOnly(fileFilter);
  assertThat(fileSystem.languageFilters()).isSameAs(languageFilters);
}
