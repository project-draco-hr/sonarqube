{
  String s=param(key);
  if (s != null) {
    try {
      return DateUtils.parseDateTime(s);
    }
 catch (    SonarException notDateTime) {
      try {
        return DateUtils.parseDate(s);
      }
 catch (      SonarException notDateEither) {
        throw new IllegalArgumentException(String.format("'%s' cannot be parsed as either a date or date+time",s));
      }
    }
  }
  return null;
}
