{
  final ImmutableMap.Builder<String,Component> builder=ImmutableMap.builder();
  new DepthTraversalTypeAwareCrawler(new TypeAwareVisitorAdapter(CrawlerDepthLimit.FILE,POST_ORDER){
    @Override public void visitFile(    Component file){
      builder.put(file.getKey(),file);
    }
  }
).visit(root);
  return builder.build();
}
