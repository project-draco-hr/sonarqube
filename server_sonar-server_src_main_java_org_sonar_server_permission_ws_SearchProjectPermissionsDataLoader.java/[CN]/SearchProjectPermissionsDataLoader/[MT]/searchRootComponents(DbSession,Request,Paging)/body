{
  String query=wsRequest.param(TEXT_QUERY);
  Optional<WsProjectRef> project=WsProjectRef.fromRequest(wsRequest);
  if (project.isPresent()) {
    return singletonList(componentFinder.getProjectByUuidOrKey(dbSession,project.get().uuid(),project.get().key()));
  }
  return dbClient.componentDao().selectComponents(dbSession,rootQualifiers,paging.offset(),paging.pageSize(),query);
}
