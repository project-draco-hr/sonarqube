{
  SnapshotDto snapshotWithRootId=defaultSnapshot().setId(3L).setRootId(1L);
  assertThat(dao.componentRootIdOrSelfIfRootOf(snapshotWithRootId)).isEqualTo(1L);
  SnapshotDto snapshotWithNullRootId=defaultSnapshot().setId(3L).setRootId(null);
  assertThat(dao.componentRootIdOrSelfIfRootOf(snapshotWithNullRootId)).isEqualTo(3L);
}
