{
  MetricDto metric=selectNullableByKey(session,key);
  if (metric == null) {
    throw new IllegalStateException(String.format("Metric key '%s' not found",key));
  }
  return metric;
}
