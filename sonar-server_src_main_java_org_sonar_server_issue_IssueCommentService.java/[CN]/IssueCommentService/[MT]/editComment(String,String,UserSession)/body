{
  DefaultIssueComment comment=changeDao.selectCommentByKey(commentKey);
  if (comment == null) {
    throw new IllegalStateException();
  }
  if (Strings.isNullOrEmpty(comment.userLogin()) || !Objects.equal(comment.userLogin(),userSession.login())) {
    throw new IllegalStateException();
  }
  finder.findByKey(comment.issueKey(),UserRole.USER);
  IssueChangeDto dto=IssueChangeDto.of(comment);
  dto.setUpdatedAt(new Date());
  dto.setChangeData(text);
  changeDao.update(dto);
  return comment;
}
