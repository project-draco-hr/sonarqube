{
  SensorStorage storage=mock(SensorStorage.class);
  new DefaultCoverage(storage).onFile(main).ofType(CoverageType.UNIT).lineHits(1,2).lineHits(2,5).lineHits(3,0).lineHits(4,0).conditions(1,2,1).save();
  verify(storage).store(new DefaultMeasure<Integer>().onFile(main).forMetric(CoreMetrics.LINES_TO_COVER).withValue(4));
  verify(storage).store(new DefaultMeasure<Integer>().onFile(main).forMetric(CoreMetrics.UNCOVERED_LINES).withValue(2));
  verify(storage).store(new DefaultMeasure<String>().onFile(main).forMetric(CoreMetrics.COVERAGE_LINE_HITS_DATA).withValue("1=2;2=5;3=0;4=0"));
  verify(storage).store(new DefaultMeasure<Integer>().onFile(main).forMetric(CoreMetrics.CONDITIONS_TO_COVER).withValue(2));
  verify(storage).store(new DefaultMeasure<Integer>().onFile(main).forMetric(CoreMetrics.UNCOVERED_CONDITIONS).withValue(1));
  verify(storage).store(new DefaultMeasure<String>().onFile(main).forMetric(CoreMetrics.COVERED_CONDITIONS_BY_LINE).withValue("1=1"));
  verify(storage).store(new DefaultMeasure<String>().onFile(main).forMetric(CoreMetrics.CONDITIONS_BY_LINE).withValue("1=2"));
}
