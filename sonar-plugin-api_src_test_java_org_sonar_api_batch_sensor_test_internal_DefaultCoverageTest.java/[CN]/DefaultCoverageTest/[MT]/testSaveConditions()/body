{
  SensorStorage storage=mock(SensorStorage.class);
  new DefaultCoverage(storage).onFile(main).ofType(CoverageType.UNIT).conditions(1,2,1).save();
  verify(storage).store(new DefaultMeasure<Integer>().onFile(main).forMetric(CoreMetrics.CONDITIONS_TO_COVER).withValue(2));
  verify(storage).store(new DefaultMeasure<Integer>().onFile(main).forMetric(CoreMetrics.UNCOVERED_CONDITIONS).withValue(1));
  verify(storage).store(new DefaultMeasure<String>().onFile(main).forMetric(CoreMetrics.COVERED_CONDITIONS_BY_LINE).withValue("1=1"));
  verify(storage).store(new DefaultMeasure<String>().onFile(main).forMetric(CoreMetrics.CONDITIONS_BY_LINE).withValue("1=2"));
  verifyNoMoreInteractions(storage);
}
