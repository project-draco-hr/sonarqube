{
  Map<String,Object> permissionSource=newHashMap();
  permissionSource.put("_parent",project.key());
  permissionSource.put("permission","read");
  permissionSource.put("project",project.key());
  if (users != null) {
    permissionSource.put("users",users);
  }
  if (groups != null) {
    permissionSource.put("groups",groups);
  }
  return searchClient.prepareIndex(IndexDefinition.ISSUES_PROJECT.getIndexName(),IndexDefinition.ISSUES_PROJECT.getIndexType()).setId(project.key()).setSource(permissionSource).setRefresh(refresh);
}
