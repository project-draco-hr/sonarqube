{
  ReviewDao reviewDao=mock(ReviewDao.class);
  rightNow=new Date();
  tenDaysAgo=DateUtils.addDays(rightNow,-10);
  fiveDaysAgo=DateUtils.addDays(rightNow,-5);
  PastSnapshot pastSnapshot=mock(PastSnapshot.class);
  when(pastSnapshot.getIndex()).thenReturn(1);
  when(pastSnapshot.getTargetDate()).thenReturn(fiveDaysAgo);
  PastSnapshot pastSnapshot2=mock(PastSnapshot.class);
  when(pastSnapshot2.getIndex()).thenReturn(2);
  when(pastSnapshot2.getTargetDate()).thenReturn(tenDaysAgo);
  TimeMachineConfiguration timeMachineConfiguration=mock(TimeMachineConfiguration.class);
  when(timeMachineConfiguration.getProjectPastSnapshots()).thenReturn(Arrays.asList(pastSnapshot,pastSnapshot2));
  decorator=new ReviewsMeasuresDecorator(reviewDao,timeMachineConfiguration);
  context=mock(DecoratorContext.class);
  when(context.getMeasure(CoreMetrics.VIOLATIONS)).thenReturn(new Measure(CoreMetrics.VIOLATIONS,35d));
}
