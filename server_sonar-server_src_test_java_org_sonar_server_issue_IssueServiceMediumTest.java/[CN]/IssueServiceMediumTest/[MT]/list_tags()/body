{
  db.issueDao().insert(session,IssueTesting.newDto(rule,file,project).setTags(ImmutableSet.of("convention","java8","bug")),IssueTesting.newDto(rule,file,project).setTags(ImmutableSet.of("convention","bug")),IssueTesting.newDto(rule,file,project),IssueTesting.newDto(rule,file,project).setTags(ImmutableSet.of("convention")));
  session.commit();
  index();
  assertThat(service.listTags(null,5)).containsOnly("convention","java8","bug");
  assertThat(service.listTags(null,2)).containsOnly("bug","convention");
  assertThat(service.listTags("vent",5)).containsOnly("convention");
  assertThat(service.listTags(null,1)).containsOnly("bug");
  assertThat(service.listTags(null,Integer.MAX_VALUE)).containsOnly("convention","java8","bug");
}
