{
  if (snapshot != null) {
    snapshotsByResource.put(resource,snapshot);
    resourceCache.add(resource);
    snapshotCache.put(resource.getEffectiveKey(),snapshot);
  }
}
