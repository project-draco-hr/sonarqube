{
  model.setEnabled(true);
  model.setKey(resource.getEffectiveKey());
  if (StringUtils.isNotBlank(resource.getDeprecatedEffectiveKey())) {
    model.setDeprecatedKey(resource.getDeprecatedEffectiveKey());
  }
 else   if (StringUtils.isBlank(model.getDeprecatedKey())) {
    model.setDeprecatedKey(model.getKey());
  }
  if (StringUtils.isNotBlank(resource.getName())) {
    model.setName(resource.getName());
  }
  if (StringUtils.isNotBlank(resource.getLongName())) {
    model.setLongName(resource.getLongName());
  }
  if (StringUtils.isNotBlank(resource.getDescription())) {
    model.setDescription(resource.getDescription());
  }
  if (!ResourceUtils.isLibrary(resource)) {
    if (Scopes.PROJECT.equals(resource.getScope()) && Qualifiers.MODULE.equals(resource.getQualifier()) && Qualifiers.PROJECT.equals(model.getQualifier())) {
      throw new SonarException(String.format("The project '%s' is already defined in SonarQube but not as a module of project '%s'. " + "If you really want to stop directly analysing project '%s', please first delete it from SonarQube and then relaunch the analysis of project '%s'.",resource.getKey(),resource.getParent().getKey(),resource.getKey(),resource.getParent().getKey()));
    }
    model.setScope(resource.getScope());
    model.setQualifier(resource.getQualifier());
  }
  if (resource.getLanguage() != null) {
    model.setLanguageKey(resource.getLanguage().getKey());
  }
}
