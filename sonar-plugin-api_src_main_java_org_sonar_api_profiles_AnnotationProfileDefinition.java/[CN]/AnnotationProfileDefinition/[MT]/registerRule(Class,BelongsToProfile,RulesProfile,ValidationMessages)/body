{
  if (belongsToProfile != null) {
    String ruleKey=RuleAnnotationUtils.getRuleKey(aClass);
    Rule rule=ruleFinder.findByKey(repositoryKey,ruleKey);
    if (rule == null) {
      validation.addErrorText("Rule not found: [repository=" + repositoryKey + ", key="+ ruleKey+ "]");
    }
 else {
      RulePriority priority=null;
      if (belongsToProfile.priority() != null) {
        priority=RulePriority.fromCheckPriority(belongsToProfile.priority());
      }
      profile.activateRule(rule,priority);
    }
  }
}
