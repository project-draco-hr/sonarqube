{
  DecoratorContext context=mock(DecoratorContext.class);
  Measure measure1=new Measure(CoreMetrics.NEW_VIOLATIONS).setDiffValue1(1.0).setDiffValue2(1.0);
  Measure measure2=new Measure(CoreMetrics.NEW_VIOLATIONS).setDiffValue1(1.0).setDiffValue2(2.0);
  when(context.getChildrenMeasures(CoreMetrics.NEW_VIOLATIONS)).thenReturn(Arrays.asList(measure1,measure2));
  assertThat(decorator.sumChildren(context,0),is(2.0));
  assertThat(decorator.sumChildren(context,1),is(3.0));
}
