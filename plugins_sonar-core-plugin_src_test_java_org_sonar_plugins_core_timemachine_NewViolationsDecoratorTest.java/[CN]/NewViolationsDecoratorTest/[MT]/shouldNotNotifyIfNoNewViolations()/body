{
  Project project=new Project("key");
  when(timeMachineConfiguration.getLastAnalysisPeriodIndex()).thenReturn(1);
  Measure m=new Measure(CoreMetrics.NEW_VIOLATIONS);
  when(context.getMeasure(CoreMetrics.NEW_VIOLATIONS)).thenReturn(m);
  decorator.notifyNewViolations(project,context);
  verify(notificationManager,never()).scheduleForSending(any(Notification.class));
  m.setVariation1(0.0);
  decorator.notifyNewViolations(project,context);
  verify(notificationManager,never()).scheduleForSending(any(Notification.class));
}
