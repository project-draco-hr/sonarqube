{
  XContentBuilder document=XContentFactory.jsonBuilder().startObject().field("id",rule.getId()).field("key",rule.getKey()).field("language",rule.getLanguage()).field("name",ruleI18nManager.getName(rule,Locale.getDefault())).field("description",ruleI18nManager.getDescription(rule.getRepositoryKey(),rule.getKey(),Locale.getDefault())).field("parentKey",rule.getParent() == null ? null : rule.getParent().getKey()).field("repositoryKey",rule.getRepositoryKey()).field("severity",rule.getSeverity()).field("status",rule.getStatus()).field("createdAt",rule.getCreatedAt()).field("updatedAt",rule.getUpdatedAt());
  if (!rule.getParams().isEmpty()) {
    document.startArray("params");
    for (    RuleParam param : rule.getParams()) {
      document.startObject().field("key",param.getKey()).field("type",param.getType()).field("defaultValue",param.getDefaultValue()).field("description",param.getDescription()).endObject();
    }
    document.endArray();
  }
  document.endObject();
  return document;
}
