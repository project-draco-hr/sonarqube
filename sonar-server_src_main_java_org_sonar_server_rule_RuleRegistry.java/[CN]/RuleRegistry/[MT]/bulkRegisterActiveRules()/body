{
  TimeProfiler profiler=new TimeProfiler();
  profiler.start("Rebuilding active rules index - query");
  List<ActiveRule> rules=session.getResults(ActiveRule.class);
  profiler.stop();
  try {
    bulkIndex(rules);
  }
 catch (  IOException ioe) {
    throw new IllegalStateException("Unable to index active rules",ioe);
  }
}
