{
  String[] ids=new String[rules.size()];
  BytesStream[] docs=new BytesStream[rules.size()];
  int index=0;
  TimeProfiler profiler=new TimeProfiler();
  profiler.start("Build rules documents");
  for (  Rule rule : rules) {
    ids[index]=rule.getId().toString();
    docs[index]=ruleDocument(rule);
    index++;
  }
  profiler.stop();
  profiler.start("Index rules");
  searchIndex.bulkIndex(INDEX_RULES,TYPE_RULE,ids,docs);
  profiler.stop();
}
