{
  Locale locale=Locale.ENGLISH;
  XContentBuilder document=XContentFactory.jsonBuilder().startObject().field("id",rule.getId()).field("key",rule.getRuleKey()).field("language",rule.getLanguage()).field("name",ruleI18nManager.getName(rule.getRepositoryKey(),rule.getRuleKey(),locale)).field("description",ruleI18nManager.getDescription(rule.getRepositoryKey(),rule.getRuleKey(),locale)).field("parentKey",rule.getParentId() == null ? null : rule.getParentId()).field("repositoryKey",rule.getRepositoryKey()).field("severity",rule.getPriority()).field("status",rule.getStatus()).field("createdAt",rule.getCreatedAt()).field("updatedAt",rule.getUpdatedAt());
  if (!params.isEmpty()) {
    document.startArray("params");
    for (    RuleParamDto param : params) {
      document.startObject().field("key",param.getName()).field("type",param.getType()).field("defaultValue",param.getDefaultValue()).field("description",param.getDescription()).endObject();
    }
    document.endArray();
  }
  document.endObject();
  return document;
}
