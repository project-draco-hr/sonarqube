{
  monitor=newDefaultMonitor(tempDir);
  HttpProcessClient p1=new HttpProcessClient(tempDir,"p1");
  HttpProcessClient p2=new HttpProcessClient(tempDir,"p2");
  monitor.start(Arrays.asList(p1.newCommand(),p2.newCommand()));
  assertThat(p1.isReady()).isTrue();
  assertThat(p2.isReady()).isTrue();
  p1.kill();
  monitor.awaitTermination();
  assertThat(p1).isNotReady().wasNotGracefullyTerminated();
  assertThat(p2).isNotReady().wasGracefullyTerminated();
}
