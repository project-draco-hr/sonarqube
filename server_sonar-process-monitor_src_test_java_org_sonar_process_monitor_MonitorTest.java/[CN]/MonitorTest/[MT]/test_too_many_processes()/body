{
  while (Monitor.getNextProcessId() < ProcessCommands.MAX_PROCESSES - 1) {
  }
  try {
    newDefaultMonitor(tempDir);
  }
 catch (  IllegalStateException e) {
    assertThat(e).hasMessageStartingWith("The maximum number of processes launched has been reached ");
  }
 finally {
    Monitor.nextProcessId=0;
  }
}
