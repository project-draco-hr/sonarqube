{
  long ids=1;
  for (int i=0; i < RULES_NUMBER; i++) {
    rules.next().setId((int)ids++);
  }
  long start=System.currentTimeMillis();
  for (long projectIndex=0; projectIndex < PROJECTS_NUMBER; projectIndex++) {
    ComponentDto project=ComponentTesting.newProjectDto().setId(ids++).setKey("project-" + projectIndex).setName("Project " + projectIndex).setLongName("Project " + projectIndex);
    projects.add(project);
    batchSession.enqueue(new InsertDto<IssueAuthorizationDto>(IndexDefinition.ISSUES_AUTHORIZATION.getIndexType(),new IssueAuthorizationDto().setProjectUuid(project.uuid()).setGroups(newArrayList(DefaultGroups.ANYONE)),false));
    for (int fileIndex=0; fileIndex < NUMBER_FILES_PER_PROJECT; fileIndex++) {
      String index=projectIndex * PROJECTS_NUMBER + fileIndex + "";
      ComponentDto file=ComponentTesting.newFileDto(project).setId(ids++).setKey("file-" + index).setName("File " + index).setLongName("File " + index);
      componentsByProject.put(project,file);
    }
  }
  batchSession.enqueue(new RefreshIndex(IndexDefinition.ISSUES_AUTHORIZATION.getIndexType()));
  batchSession.commit();
  LOGGER.info("Generated data in {} ms",System.currentTimeMillis() - start);
}
