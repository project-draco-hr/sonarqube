{
  File dataDir=temp.newFolder();
  Settings settings=new Settings();
  settings.setProperty(ProcessConstants.CLUSTER_ACTIVATE,false);
  settings.setProperty(ProcessConstants.CLUSTER_NAME,clusterName);
  settings.setProperty(ProcessConstants.CLUSTER_NODE_NAME,"test");
  settings.setProperty(ProcessConstants.SEARCH_PORT,clusterPort.toString());
  settings.setProperty(ProcessConstants.PATH_HOME,dataDir.getAbsolutePath());
  searchClient=new SearchClient(settings);
  issueIndex=new IssueIndex(new IssueNormalizer(null),searchClient);
  issueIndex.start();
  session=db.myBatis().openSession(false);
  rules=Iterables.cycle(generateRules()).iterator();
  users=Iterables.cycle(generateUsers()).iterator();
  severities=Iterables.cycle(Severity.ALL).iterator();
  statuses=Iterables.cycle(Issue.STATUS_OPEN,Issue.STATUS_CONFIRMED,Issue.STATUS_REOPENED,Issue.STATUS_RESOLVED,Issue.STATUS_CLOSED).iterator();
  closedResolutions=Iterables.cycle(Issue.RESOLUTION_FALSE_POSITIVE,Issue.RESOLUTION_FIXED,Issue.RESOLUTION_REMOVED).iterator();
  resolvedResolutions=Iterables.cycle(Issue.RESOLUTION_FALSE_POSITIVE,Issue.RESOLUTION_FIXED).iterator();
}
