{
  setupData("grantDefaultRolesSeveralPattern");
  settings.setProperty("sonar.permission.template.default","default");
  project.setEffectiveKey("foo.project");
  throwable.expect(IllegalStateException.class);
  throwable.expectMessage("The following permission templates have a key pattern that matches the 'foo.project' key: 'Start with foo', 'Start with foo again'. The administrator must update them to make sure that only one permission template can be selected for foo.project component.");
  permissions.grantDefaultRoles(project);
}
