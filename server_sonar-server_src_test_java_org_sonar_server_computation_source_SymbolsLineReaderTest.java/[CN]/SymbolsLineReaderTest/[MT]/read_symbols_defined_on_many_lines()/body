{
  List<BatchReport.Symbol> symbols=newArrayList(BatchReport.Symbol.newBuilder().setDeclaration(BatchReport.TextRange.newBuilder().setStartLine(1).setEndLine(2).setStartOffset(1).setEndOffset(3).build()).addReference(BatchReport.TextRange.newBuilder().setStartLine(3).setEndLine(4).setStartOffset(1).setEndOffset(3).build()).build());
  SymbolsLineReader symbolsLineReader=new SymbolsLineReader(symbols.iterator());
  symbolsLineReader.read(line1);
  symbolsLineReader.read(line2);
  symbolsLineReader.read(line3);
  symbolsLineReader.read(line4);
  assertThat(line1.getSymbols()).isEqualTo("1,5,1");
  assertThat(line2.getSymbols()).isEqualTo("0,3,1");
  assertThat(line3.getSymbols()).isEqualTo("1,5,1");
  assertThat(line4.getSymbols()).isEqualTo("0,3,1");
}
