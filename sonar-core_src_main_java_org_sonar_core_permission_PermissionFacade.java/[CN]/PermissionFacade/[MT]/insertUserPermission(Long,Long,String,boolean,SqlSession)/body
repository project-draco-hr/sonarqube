{
  UserRoleDto userRoleDto=new UserRoleDto().setRole(permission).setUserId(userId).setResourceId(resourceId);
  if (updateProjectAuthorizationDate) {
    updateProjectAuthorizationDate(resourceId,session);
  }
  if (session != null) {
    roleDao.insertUserRole(userRoleDto,session);
  }
 else {
    roleDao.insertUserRole(userRoleDto);
  }
}
