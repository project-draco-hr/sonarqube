{
  PermissionTemplateDto applicablePermissionTemplate=getDefaultPermissionTemplate(qualifier);
  List<Long> groupIds=getEligibleGroups(role,applicablePermissionTemplate);
  for (  Long groupId : groupIds) {
    insertGroupPermission(resourceId,groupId,role,session);
  }
  List<Long> userIds=getEligibleUsers(role,applicablePermissionTemplate);
  for (  Long userId : userIds) {
    insertUserPermission(resourceId,userId,role,session);
  }
}
