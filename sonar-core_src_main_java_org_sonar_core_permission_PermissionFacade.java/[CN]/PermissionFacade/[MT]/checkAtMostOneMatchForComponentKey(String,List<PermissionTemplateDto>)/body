{
  if (matchingTemplates.size() > 1) {
    StringBuilder templatesNames=new StringBuilder();
    for (Iterator<PermissionTemplateDto> it=matchingTemplates.iterator(); it.hasNext(); ) {
      templatesNames.append("\"").append(it.next().getName()).append("\"");
      if (it.hasNext()) {
        templatesNames.append(", ");
      }
    }
    throw new IllegalStateException(MessageFormat.format("The \"{0}\" key matches multiple permission templates: {1}." + " A system administrator must update these templates so that only one of them matches the key.",componentKey,templatesNames.toString()));
  }
}
