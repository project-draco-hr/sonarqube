{
  File embeddedDataDirectory=new File(directoryName);
  if (embeddedDataDirectory.exists() && !embeddedDataDirectory.isDirectory()) {
    throw new SonarException("Database home " + embeddedDataDirectory.getAbsolutePath() + " is not a directory");
  }
  return embeddedDataDirectory;
}
