{
  boolean r=(keyType > HARD) && (key == ref);
  r=r || ((valueType > HARD) && (value == ref));
  if (r) {
    if (keyType > HARD)     ((Reference)key).clear();
    if (valueType > HARD) {
      ((Reference)value).clear();
    }
 else     if (purgeValues) {
      value=null;
    }
  }
  return r;
}
