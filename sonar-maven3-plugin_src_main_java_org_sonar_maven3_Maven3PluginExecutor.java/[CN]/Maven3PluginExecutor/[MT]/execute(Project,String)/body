{
  TimeProfiler profiler=new TimeProfiler().start("Execute " + goalOrPhase);
  try {
    MavenSession projectSession=mavenSession.clone();
    projectSession.setCurrentProject(project.getPom());
    projectSession.setProjects(Arrays.asList(project.getPom()));
    projectSession.getRequest().setRecursive(false);
    projectSession.getRequest().setPom(project.getPom().getFile());
    projectSession.getRequest().setGoals(Arrays.asList(goalOrPhase));
    projectSession.getRequest().setInteractiveMode(false);
    lifecycleExecutor.execute(projectSession);
  }
 catch (  Exception e) {
    throw new SonarException("Unable to execute maven plugin",e);
  }
 finally {
    profiler.stop();
  }
}
