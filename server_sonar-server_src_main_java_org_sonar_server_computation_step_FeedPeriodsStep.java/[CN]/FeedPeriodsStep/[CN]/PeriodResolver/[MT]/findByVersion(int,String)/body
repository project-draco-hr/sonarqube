{
  SnapshotDto snapshot=findFirstSnapshot(session,createCommonQuery(projectId).setVersion(version).setSort(BY_DATE,DESC));
  if (snapshot == null) {
    return null;
  }
  LOG.debug(String.format("Compare to version (%s) (%s)",version,formatDate(snapshot.getCreatedAt())));
  return new Period(index,CoreProperties.TIMEMACHINE_MODE_VERSION,version,snapshot.getCreatedAt(),snapshot.getId());
}
