{
  try {
    boolean ok=true;
    while (ok) {
      for (      ProcessWrapper process : processes) {
        if (!processIsValid(process)) {
          LOGGER.info("{} is down, stopping processes",process.getName());
          ok=false;
          interrupt();
        }
      }
      if (ok) {
        Thread.sleep(PING_DELAY_MS);
      }
    }
  }
 catch (  InterruptedException e) {
    LOGGER.debug("Monitoring thread is interrupted");
  }
 finally {
    terminate();
  }
}
