{
  if (bundleToClassloaders == null) {
    languagePackClassLoader=pluginRepository.getPlugin(ENGLISH_PACK_PLUGIN_KEY).getClass().getClassLoader();
    bundleToClassloaders=Maps.newHashMap();
    for (    PluginMetadata metadata : pluginRepository.getMetadata()) {
      if (!ENGLISH_PACK_PLUGIN_KEY.equals(metadata.getKey()) && !ENGLISH_PACK_PLUGIN_KEY.equals(metadata.getBasePlugin())) {
        ClassLoader classLoader=pluginRepository.getPlugin(metadata.getKey()).getClass().getClassLoader();
        bundleToClassloaders.put(BUNDLE_PACKAGE + metadata.getKey(),classLoader);
      }
    }
  }
  bundleToClassloaders=Collections.unmodifiableMap(bundleToClassloaders);
}
