{
  final Project project=new Project("parent");
  final ProjectTree projectTree=mock(ProjectTree.class);
  Project module1=new Project("module1");
  module1.setParent(project);
  Project module2=new Project("module2");
  module2.setParent(project);
  when(projectTree.getRootProject()).thenReturn(project);
  ScanTask scanTask=new ScanTask(projectTree,mock(ComponentContainer.class));
  ScanTask spy=spy(scanTask);
  doNothing().when(spy).scan(any(Project.class));
  spy.execute();
  InOrder inOrder=inOrder(spy);
  inOrder.verify(spy).scan(module1);
  inOrder.verify(spy).scan(module2);
  inOrder.verify(spy).scan(project);
}
