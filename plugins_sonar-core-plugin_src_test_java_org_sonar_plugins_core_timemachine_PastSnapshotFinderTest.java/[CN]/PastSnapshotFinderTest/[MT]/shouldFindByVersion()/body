{
  when(finderByVersion.findByVersion("1.2")).thenReturn(new PastSnapshot("version",new Snapshot()));
  PastSnapshot variationSnapshot=finder.find(2,"1.2");
  verify(finderByVersion).findByVersion("1.2");
  assertThat(variationSnapshot.getIndex(),is(2));
  assertThat(variationSnapshot.getMode(),is("version"));
  assertThat(variationSnapshot.getProjectSnapshot(),not(nullValue()));
}
