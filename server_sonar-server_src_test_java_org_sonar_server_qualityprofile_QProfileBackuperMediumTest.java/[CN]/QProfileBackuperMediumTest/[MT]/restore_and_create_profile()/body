{
  tester.get(QProfileBackuper.class).restore(new StringReader(Resources.toString(getClass().getResource("QProfileBackuperMediumTest/restore.xml"),StandardCharsets.UTF_8)),null);
  QualityProfileDto profile=db.qualityProfileDao().selectByNameAndLanguage("P1","xoo",dbSession);
  assertThat(profile).isNotNull();
  List<ActiveRuleDoc> activeRules=Lists.newArrayList(tester.get(QProfileLoader.class).findActiveRulesByProfile(profile.getKey()));
  assertThat(activeRules).hasSize(1);
  assertThat(activeRules.get(0).severity()).isEqualTo("BLOCKER");
  assertThat(activeRules.get(0).inheritance()).isEqualTo(ActiveRule.Inheritance.NONE);
  assertThat(activeRules.get(0).params().get("max")).isEqualTo("7");
}
