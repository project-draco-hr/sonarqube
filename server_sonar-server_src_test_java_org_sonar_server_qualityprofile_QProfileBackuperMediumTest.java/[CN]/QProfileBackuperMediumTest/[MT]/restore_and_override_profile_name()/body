{
  tester.get(QProfileBackuper.class).restore(new StringReader(Resources.toString(getClass().getResource("QProfileBackuperMediumTest/restore.xml"),StandardCharsets.UTF_8)),QProfileTesting.XOO_P3_NAME);
  List<ActiveRule> activeRules=Lists.newArrayList(tester.get(QProfileLoader.class).findActiveRulesByProfile(QProfileTesting.XOO_P1_KEY));
  assertThat(activeRules).hasSize(0);
  QualityProfileDto target=db.qualityProfileDao().getByNameAndLanguage("P3","xoo");
  assertThat(target).isNotNull();
  activeRules=Lists.newArrayList(tester.get(QProfileLoader.class).findActiveRulesByProfile(target.getKey()));
  assertThat(activeRules).hasSize(1);
}
