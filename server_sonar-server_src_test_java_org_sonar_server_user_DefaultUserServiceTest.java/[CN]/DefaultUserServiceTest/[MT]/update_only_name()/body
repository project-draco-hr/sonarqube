{
  Map<String,Object> params=newHashMap();
  params.put("login","john");
  params.put("name","John");
  service.update(params);
  ArgumentCaptor<UpdateUser> userCaptor=ArgumentCaptor.forClass(UpdateUser.class);
  verify(userService).update(userCaptor.capture());
  assertThat(userCaptor.getValue().isNameChanged()).isTrue();
  assertThat(userCaptor.getValue().isEmailChanged()).isFalse();
  assertThat(userCaptor.getValue().isScmAccountsChanged()).isFalse();
  assertThat(userCaptor.getValue().isPasswordChanged()).isFalse();
}
