{
  try {
    MockUserSession.set().setLogin("simon").setGlobalPermissions(GlobalPermissions.SYSTEM_ADMIN);
    service.deactivate("simon");
    fail();
  }
 catch (  BadRequestException e) {
    assertThat(e).hasMessage("Self-deactivation is not possible");
    verify(userUpdater,never()).deactivateUserByLogin("simon");
  }
}
