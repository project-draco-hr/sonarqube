{
  Map<String,Object> params=newHashMap();
  params.put("login","john");
  params.put("password","1234");
  params.put("password_confirmation","1234");
  service.update(params);
  ArgumentCaptor<UpdateUser> userCaptor=ArgumentCaptor.forClass(UpdateUser.class);
  verify(userUpdater).update(userCaptor.capture());
  assertThat(userCaptor.getValue().isNameChanged()).isFalse();
  assertThat(userCaptor.getValue().isEmailChanged()).isFalse();
  assertThat(userCaptor.getValue().isScmAccountsChanged()).isFalse();
  assertThat(userCaptor.getValue().isPasswordChanged()).isTrue();
}
