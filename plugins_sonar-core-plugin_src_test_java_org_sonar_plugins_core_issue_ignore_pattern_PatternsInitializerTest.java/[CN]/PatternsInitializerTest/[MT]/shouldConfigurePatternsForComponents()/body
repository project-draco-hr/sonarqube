{
  String componentKey="groupId:artifactId:org.foo.Bar";
  String path="org/foo/Bar.java";
  IssuePattern matching1, matching2, notMatching;
  matching1=mock(IssuePattern.class);
  when(matching1.matchResource(path)).thenReturn(true);
  matching2=mock(IssuePattern.class);
  when(matching2.matchResource(path)).thenReturn(true);
  notMatching=mock(IssuePattern.class);
  when(notMatching.matchResource(path)).thenReturn(false);
  patternsInitializer.initPatterns();
  patternsInitializer.getMulticriteriaPatterns().addAll(Lists.newArrayList(matching1,matching2,notMatching));
  patternsInitializer.configurePatternsForComponent(componentKey,path);
  assertThat(patternsInitializer.getPatternsForComponent(componentKey).size()).isEqualTo(2);
  assertThat(patternsInitializer.getPatternsForComponent("other").size()).isEqualTo(0);
}
