{
  this.componentCache=resourceCache;
  this.issueCache=issueCache;
  this.tracking=tracking;
  this.lastLineHashes=lastLineHashes;
  this.workflow=workflow;
  this.updater=updater;
  this.serverIssueRepository=serverIssueRepository;
  this.analysisMode=analysisMode;
  this.reportPublisher=reportPublisher;
  this.analysisDate=((Project)resourceCache.getRoot().resource()).getAnalysisDate();
  this.changeContext=IssueChangeContext.createScan(analysisDate);
  this.activeRules=activeRules;
  this.hasServerAnalysis=projectRepositories.lastAnalysisDate() != null;
}
