{
  DefaultIssue newIssue=newDefaultIssue("message",1,"repoKey","ruleKey","checksum");
  IssueDto referenceIssue=newReferenceIssue("",1,1,"checksum");
  Date referenceDate=DateUtils.parseDate("2009-05-18");
  referenceIssue.setCreatedAt(referenceDate);
  assertThat(newIssue.createdAt()).isNull();
  Map<DefaultIssue,IssueDto> mapping=decorator.mapIssues(newArrayList(newIssue),newArrayList(referenceIssue));
  assertThat(mapping.size()).isEqualTo(1);
  assertThat(newIssue.createdAt()).isEqualTo(referenceDate);
  assertThat(newIssue.isNew()).isFalse();
}
