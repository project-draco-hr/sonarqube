{
  when(snapshot.getPeriodMode(periodIndex)).thenReturn(CoreProperties.TIMEMACHINE_MODE_DAYS);
  when(snapshot.getPeriodDate(periodIndex)).thenReturn(System.currentTimeMillis());
  when(snapshot.getPeriodModeParameter(periodIndex)).thenReturn(param);
  periods.abbreviation(snapshot,periodIndex);
  verify(i18n).message(any(Locale.class),eq("over_x_days_detailed.short"),isNull(String.class),eq(param),anyString());
}
