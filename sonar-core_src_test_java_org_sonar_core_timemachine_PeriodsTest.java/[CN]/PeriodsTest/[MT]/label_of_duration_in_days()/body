{
  when(snapshot.getPeriodMode(periodIndex)).thenReturn(CoreProperties.TIMEMACHINE_MODE_DAYS);
  when(snapshot.getPeriodDate(periodIndex)).thenReturn(new Date());
  when(snapshot.getPeriodModeParameter(periodIndex)).thenReturn(param);
  periods.label(snapshot,periodIndex);
  verify(i18n).message(any(Locale.class),eq("over_x_days_detailed"),isNull(String.class),eq(param),anyString());
}
