{
  when(snapshot.getPeriodMode(periodIndex)).thenReturn(CoreProperties.TIMEMACHINE_MODE_DAYS);
  when(snapshot.getPeriodDate(periodIndex)).thenReturn(new Date());
  when(snapshot.getPeriodModeParameter(periodIndex)).thenReturn(param);
  periods.label(snapshot,periodIndex);
  verify(i18n).message(Mockito.any(Locale.class),Mockito.eq("over_x_days"),Mockito.isNull(String.class),Mockito.eq(param));
}
