{
  boolean projectPresent=(reactor != null);
  if (ExtensionUtils.requiresProject(taskDefinition.getTask())) {
    if (!projectPresent) {
      throw new SonarException("Task '" + taskDefinition.getName() + "' requires to be run on a project");
    }
    Container childModule=new ProjectTaskContainer(taskDefinition,reactor);
    try {
      installChild(childModule);
      childModule.start();
    }
  finally {
      childModule.stop();
      uninstallChild();
    }
  }
 else {
    Task task=container.getComponentByType(taskDefinition.getTask());
    if (task != null) {
      logSettings();
      task.execute();
    }
 else {
      throw new SonarException("Extension " + taskDefinition.getTask() + " was not found in declared extensions.");
    }
  }
}
