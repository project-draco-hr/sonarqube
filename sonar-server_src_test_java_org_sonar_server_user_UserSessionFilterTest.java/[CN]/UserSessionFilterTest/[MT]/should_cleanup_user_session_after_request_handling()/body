{
  HttpServletRequest httpRequest=mock(HttpServletRequest.class);
  ServletResponse httpResponse=mock(ServletResponse.class);
  FilterChain chain=mock(FilterChain.class);
  UserSession.set(new UserSession(123,"karadoc",Locale.CANADA_FRENCH));
  assertThat(UserSession.hasSession()).isTrue();
  UserSessionFilter filter=new UserSessionFilter();
  filter.doFilter(httpRequest,httpResponse,chain);
  verify(chain).doFilter(httpRequest,httpResponse);
  assertThat(UserSession.hasSession()).isFalse();
}
