{
  try {
    getEntityManager().persist(model);
  }
 catch (  PersistenceException e) {
    throw new PersistenceException("Unable to persist : " + model,e);
  }
  if (flushIfNeeded && (++index % BATCH_SIZE == 0)) {
    commit();
  }
}
