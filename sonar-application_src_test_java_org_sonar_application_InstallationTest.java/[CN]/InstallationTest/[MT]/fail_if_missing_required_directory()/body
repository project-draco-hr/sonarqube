{
  FileUtils.forceMkdir(webDir);
  FileUtils.forceMkdir(logsDir);
  File dataDir=new File(homeDir,"data");
  try {
    new Installation(new Properties(),mock(MinimumViableEnvironment.class),homeDir);
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage()).startsWith("Property 'sonar.path.data' is not valid, directory does not exist: " + dataDir.getAbsolutePath());
  }
  try {
    FileUtils.touch(dataDir);
    new Installation(new Properties(),mock(MinimumViableEnvironment.class),homeDir);
    fail();
  }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage()).startsWith("Property 'sonar.path.data' is not valid, not a directory: " + dataDir.getAbsolutePath());
  }
}
