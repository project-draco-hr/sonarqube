{
  File sonarDirectory=temporaryFolder.newFolder("sonar");
  Rule rule=Rule.create("squid","AvoidCycles");
  when(ruleI18nManager.getName(rule,Locale.getDefault())).thenReturn("Avoid Cycles");
  when(jsonReport.getIssues()).thenReturn(Collections.<DefaultIssue>emptyList());
  settings.setProperty("sonar.report.export.path","output.json");
  when(fileSystem.workingDir()).thenReturn(sonarDirectory);
  jsonReport.execute();
  assertThat(new File(sonarDirectory,"output.json")).exists();
}
