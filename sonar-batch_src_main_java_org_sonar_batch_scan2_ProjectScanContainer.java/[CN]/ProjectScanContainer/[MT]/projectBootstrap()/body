{
  ProjectReactor reactor;
  ProjectBootstrapper bootstrapper=getComponentByType(ProjectBootstrapper.class);
  Settings settings=getComponentByType(Settings.class);
  if (bootstrapper == null || "true".equals(settings.getString("sonar.mojoUseRunner"))) {
    ProjectReactorBuilder builder=getComponentByType(ProjectReactorBuilder.class);
    reactor=builder.execute();
  }
 else {
    reactor=bootstrapper.bootstrap();
  }
  if (reactor == null) {
    throw new IllegalStateException(bootstrapper + " has returned null as ProjectReactor");
  }
  add(reactor);
}
