{
  RuleFinder ruleFinder=mock(RuleFinder.class);
  when(ruleFinder.find((RuleQuery)anyObject())).thenAnswer(new Answer<Rule>(){
    public Rule answer(    InvocationOnMock iom) throws Throwable {
      RuleQuery query=(RuleQuery)iom.getArguments()[0];
      Rule rule=Rule.create(query.getRepositoryKey(),query.getConfigKey(),"Rule name - " + query.getConfigKey()).setConfigKey(query.getConfigKey()).setPriority(RulePriority.BLOCKER);
      if (rule.getConfigKey().equals("rulesets/coupling.xml/ExcessiveImports")) {
        rule.createParameter("max");
      }
      return rule;
    }
  }
);
  return ruleFinder;
}
