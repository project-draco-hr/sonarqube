{
  Filter filter=new KeepOneFilter(DateUtils.parseDate("2011-03-25"),DateUtils.parseDate("2011-08-25"),Calendar.MONTH,"month");
  List<PurgeableAnalysisDto> toDelete=filter.filter(Arrays.<PurgeableAnalysisDto>asList(DbCleanerTestUtils.createAnalysisWithDate("u1","2010-01-01"),DbCleanerTestUtils.createAnalysisWithDate("u2","2011-05-01"),DbCleanerTestUtils.createAnalysisWithDate("u3","2011-05-02"),DbCleanerTestUtils.createAnalysisWithDate("u4","2011-05-19"),DbCleanerTestUtils.createAnalysisWithDate("u5","2011-06-01"),DbCleanerTestUtils.createAnalysisWithDate("u6","2012-01-01")));
  assertThat(toDelete).hasSize(2);
  assertThat(analysisUuids(toDelete)).containsOnly("u2","u3");
}
