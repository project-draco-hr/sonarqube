{
  String metricKey=context.getMetric().getKey();
switch (metricKey) {
case TESTS_KEY:
    return createMeasure(context.getComponent().getType(),counter.testsCounter.getValue());
case TEST_ERRORS_KEY:
  return createMeasure(context.getComponent().getType(),counter.testsErrorsCounter.getValue());
case TEST_FAILURES_KEY:
return createMeasure(context.getComponent().getType(),counter.testsFailuresCounter.getValue());
case TEST_SUCCESS_DENSITY_KEY:
return createDensityMeasure(counter);
default :
throw new IllegalStateException(String.format("Metric '%s' is not supported",metricKey));
}
}
