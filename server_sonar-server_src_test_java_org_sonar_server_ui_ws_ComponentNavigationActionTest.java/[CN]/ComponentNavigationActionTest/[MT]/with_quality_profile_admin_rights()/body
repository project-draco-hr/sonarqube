{
  final String language="xoo";
  int userId=42;
  dbClient.componentDao().insert(session,ComponentTesting.newProjectDto("abcd").setKey("polop").setName("Polop").setLanguage(language));
  session.commit();
  MockUserSession.set().setLogin("obiwan").setUserId(userId).addProjectUuidPermissions(UserRole.USER,"abcd").setGlobalPermissions(GlobalPermissions.QUALITY_PROFILE_ADMIN);
@NavigationSection(NavigationSection.RESOURCE_CONFIGURATION) class FirstPage implements Page {
    @Override public String getTitle(){
      return "First Page";
    }
    @Override public String getId(){
      return "first_page";
    }
  }
  Page page=new FirstPage();
  wsTester=new WsTester(new NavigationWs(new ComponentNavigationAction(dbClient,activeDashboardDao,new Views(new Page[]{page}),i18n,resourceTypes)));
  wsTester.newGetRequest("api/navigation","component").setParam("componentKey","polop").execute().assertJson(getClass(),"quality_profile_admin.json");
}
