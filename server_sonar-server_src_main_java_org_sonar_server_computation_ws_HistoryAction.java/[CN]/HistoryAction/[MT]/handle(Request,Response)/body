{
  userSession.checkGlobalPermission(GlobalPermissions.SYSTEM_ADMIN);
  ActivityQuery query=new ActivityQuery();
  query.setTypes(Arrays.asList(Activity.Type.ANALYSIS_REPORT.name()));
  SearchOptions options=new SearchOptions();
  options.setPage(request.mandatoryParamAsInt(IssuesWs.Param.PAGE),request.mandatoryParamAsInt(IssuesWs.Param.PAGE_SIZE));
  SearchResult<ActivityDoc> results=activityIndex.search(query,options);
  JsonWriter json=response.newJsonWriter().beginObject();
  options.writeJson(json,results.getTotal());
  writeReports(results,json);
  json.endObject().close();
}
