{
  if (shouldTrackChanges(profile)) {
    incrementProfileVersionIfNeeded(profile);
    ActiveRuleChange rc=new ActiveRuleChange(userName,profile,rule);
    if (!ObjectUtils.equals(oldSeverity,newSeverity)) {
      rc.setOldSeverity(oldSeverity);
      rc.setNewSeverity(newSeverity);
      getSession().saveWithoutFlush(rc);
    }
  }
}
