{
  ActiveRule parentActiveRule=getSession().getEntity(ActiveRule.class,deactivatedRuleId);
  RulesProfile profile=getSession().getEntity(RulesProfile.class,parentProfileId);
  ruleDisabled(profile,parentActiveRule,userName);
  for (  RulesProfile child : getChildren(parentProfileId)) {
    deactivate(child,parentActiveRule.getRule(),userName);
  }
  getSession().commit();
  dryRunCache.reportGlobalModification();
}
