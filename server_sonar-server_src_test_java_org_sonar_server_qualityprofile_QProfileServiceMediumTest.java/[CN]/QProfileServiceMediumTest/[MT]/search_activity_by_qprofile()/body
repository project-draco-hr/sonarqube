{
  tester.get(ActivityService.class).save(ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of(XOO_P1_KEY,RuleTesting.XOO_X1)).toActivity());
  tester.get(ActivityService.class).save(ActiveRuleChange.createFor(ActiveRuleChange.Type.ACTIVATED,ActiveRuleKey.of(XOO_P2_KEY,RuleTesting.XOO_X1)).toActivity());
  assertThat(service.searchActivities(new QProfileActivityQuery(),new SearchOptions()).getHits()).hasSize(2);
  List<QProfileActivity> result=service.searchActivities(new QProfileActivityQuery().setQprofileKey(XOO_P1_KEY),new SearchOptions()).getHits();
  assertThat(result).hasSize(1);
}
