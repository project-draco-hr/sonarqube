{
  when(client.request("/batch_bootstrap/properties?dryRun=false")).thenReturn(JSON_RESPONSE);
  when(client.request("/batch_bootstrap/properties?project=struts:mybranch&dryRun=false")).thenReturn(BRANCH_REACTOR_JSON_RESPONSE);
  bootstrapSettings.properties().put(CoreProperties.PROJECT_BRANCH_PROPERTY,"mybranch");
  BatchSettings batchSettings=new BatchSettings(bootstrapSettings,new PropertyDefinitions(),client,deprecatedConf);
  batchSettings.init(new ProjectReactor(project));
  assertThat(batchSettings.getString("sonar.java.coveragePlugin")).isEqualTo("jacoco");
}
