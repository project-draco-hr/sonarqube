{
  when(settingsRef.projectSettings("struts")).thenReturn(ImmutableMap.of("sonar.foo.secured","bar","sonar.foo.license.secured","bar2"));
  BatchSettings batchSettings=new BatchSettings(bootstrapProps,new PropertyDefinitions(),settingsRef,deprecatedConf,mode);
  batchSettings.init(new ProjectReactor(project));
  assertThat(batchSettings.getString("sonar.foo.license.secured")).isEqualTo("bar2");
  assertThat(batchSettings.getString("sonar.foo.secured")).isEqualTo("bar");
}
