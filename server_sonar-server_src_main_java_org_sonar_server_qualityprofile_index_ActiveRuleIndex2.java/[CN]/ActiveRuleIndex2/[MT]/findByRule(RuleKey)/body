{
  SearchRequestBuilder request=getClient().prepareSearch(RuleIndexDefinition.INDEX).setQuery(QueryBuilders.hasParentQuery(RuleIndexDefinition.TYPE_RULE,QueryBuilders.idsQuery(RuleIndexDefinition.TYPE_RULE).addIds(key.toString()))).setRouting(key.repository()).setSize(Integer.MAX_VALUE);
  SearchResponse response=request.get();
  List<ActiveRule> activeRules=new ArrayList<>();
  for (  SearchHit hit : response.getHits()) {
    activeRules.add(new ActiveRuleDoc(hit.getSource()));
  }
  return activeRules;
}
